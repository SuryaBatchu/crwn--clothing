#!/usr/bin/env node
import{createRequire as __WEBPACK_EXTERNAL_createRequire}from"module";var __webpack_modules__={1040:e=>{"use strict";function noop(){}function once(e,t){const r=once.spread(e,t);const n=r.then((e=>e[0]));n.cancel=r.cancel;return n}(function(e){function spread(e,t){let r=null;const n=new Promise(((o,a)=>{function cancel(){e.removeListener(t,onEvent);e.removeListener("error",onError);n.cancel=noop}function onEvent(...e){cancel();o(e)}function onError(e){cancel();a(e)}r=cancel;e.on(t,onEvent);e.on("error",onError)}));if(!r){throw new TypeError("Could not get `cancel()` function")}n.cancel=r;return n}e.spread=spread})(once||(once={}));e.exports=once},9690:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=r(8614);const a=n(r(8237));const s=n(r(6570));const i=a.default("agent-base");function isAgent(e){return Boolean(e)&&typeof e.addRequest==="function"}function isSecureEndpoint(){const{stack:e}=new Error;if(typeof e!=="string")return false;return e.split("\n").some((e=>e.indexOf("(https.js:")!==-1||e.indexOf("node:https:")!==-1))}function createAgent(e,t){return new createAgent.Agent(e,t)}(function(e){class Agent extends o.EventEmitter{constructor(e,t){super();let r=t;if(typeof e==="function"){this.callback=e}else if(e){r=e}this.timeout=null;if(r&&typeof r.timeout==="number"){this.timeout=r.timeout}this.maxFreeSockets=1;this.maxSockets=1;this.maxTotalSockets=Infinity;this.sockets={};this.freeSockets={};this.requests={};this.options={}}get defaultPort(){if(typeof this.explicitDefaultPort==="number"){return this.explicitDefaultPort}return isSecureEndpoint()?443:80}set defaultPort(e){this.explicitDefaultPort=e}get protocol(){if(typeof this.explicitProtocol==="string"){return this.explicitProtocol}return isSecureEndpoint()?"https:":"http:"}set protocol(e){this.explicitProtocol=e}callback(e,t,r){throw new Error('"agent-base" has no default implementation, you must subclass and override `callback()`')}addRequest(e,t){const r=Object.assign({},t);if(typeof r.secureEndpoint!=="boolean"){r.secureEndpoint=isSecureEndpoint()}if(r.host==null){r.host="localhost"}if(r.port==null){r.port=r.secureEndpoint?443:80}if(r.protocol==null){r.protocol=r.secureEndpoint?"https:":"http:"}if(r.host&&r.path){delete r.path}delete r.agent;delete r.hostname;delete r._defaultAgent;delete r.defaultPort;delete r.createConnection;e._last=true;e.shouldKeepAlive=false;let n=false;let o=null;const a=r.timeout||this.timeout;const onerror=t=>{if(e._hadError)return;e.emit("error",t);e._hadError=true};const ontimeout=()=>{o=null;n=true;const e=new Error(`A "socket" was not created for HTTP request before ${a}ms`);e.code="ETIMEOUT";onerror(e)};const callbackError=e=>{if(n)return;if(o!==null){clearTimeout(o);o=null}onerror(e)};const onsocket=t=>{if(n)return;if(o!=null){clearTimeout(o);o=null}if(isAgent(t)){i("Callback returned another Agent instance %o",t.constructor.name);t.addRequest(e,r);return}if(t){t.once("free",(()=>{this.freeSocket(t,r)}));e.onSocket(t);return}const a=new Error(`no Duplex stream was returned to agent-base for \`${e.method} ${e.path}\``);onerror(a)};if(typeof this.callback!=="function"){onerror(new Error("`callback` is not defined"));return}if(!this.promisifiedCallback){if(this.callback.length>=3){i("Converting legacy callback function to promise");this.promisifiedCallback=s.default(this.callback)}else{this.promisifiedCallback=this.callback}}if(typeof a==="number"&&a>0){o=setTimeout(ontimeout,a)}if("port"in r&&typeof r.port!=="number"){r.port=Number(r.port)}try{i("Resolving socket for %o request: %o",r.protocol,`${e.method} ${e.path}`);Promise.resolve(this.promisifiedCallback(e,r)).then(onsocket,callbackError)}catch(e){Promise.reject(e).catch(callbackError)}}freeSocket(e,t){i("Freeing socket %o %o",e.constructor.name,t);e.destroy()}destroy(){i("Destroying agent %o",this.constructor.name)}}e.Agent=Agent;e.prototype=e.Agent.prototype})(createAgent||(createAgent={}));e.exports=createAgent},6570:(e,t)=>{"use strict";Object.defineProperty(t,"__esModule",{value:true});function promisify(e){return function(t,r){return new Promise(((n,o)=>{e.call(this,t,r,((e,t)=>{if(e){o(e)}else{n(t)}}))}))}}t.default=promisify},2371:e=>{"use strict";function dataUriToBuffer(e){if(!/^data:/i.test(e)){throw new TypeError('`uri` does not appear to be a Data URI (must begin with "data:")')}e=e.replace(/\r?\n/g,"");const t=e.indexOf(",");if(t===-1||t<=4){throw new TypeError("malformed data: URI")}const r=e.substring(5,t).split(";");let n="";let o=false;const a=r[0]||"text/plain";let s=a;for(let e=1;e<r.length;e++){if(r[e]==="base64"){o=true}else{s+=`;${r[e]}`;if(r[e].indexOf("charset=")===0){n=r[e].substring(8)}}}if(!r[0]&&!n.length){s+=";charset=US-ASCII";n="US-ASCII"}const i=o?"base64":"ascii";const l=unescape(e.substring(t+1));const u=Buffer.from(l,i);u.type=a;u.typeFull=s;u.charset=n;return u}e.exports=dataUriToBuffer},8222:(e,t,r)=>{t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.storage=localstorage();t.destroy=(()=>{let e=false;return()=>{if(!e){e=true;console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}}})();t.colors=["#0000CC","#0000FF","#0033CC","#0033FF","#0066CC","#0066FF","#0099CC","#0099FF","#00CC00","#00CC33","#00CC66","#00CC99","#00CCCC","#00CCFF","#3300CC","#3300FF","#3333CC","#3333FF","#3366CC","#3366FF","#3399CC","#3399FF","#33CC00","#33CC33","#33CC66","#33CC99","#33CCCC","#33CCFF","#6600CC","#6600FF","#6633CC","#6633FF","#66CC00","#66CC33","#9900CC","#9900FF","#9933CC","#9933FF","#99CC00","#99CC33","#CC0000","#CC0033","#CC0066","#CC0099","#CC00CC","#CC00FF","#CC3300","#CC3333","#CC3366","#CC3399","#CC33CC","#CC33FF","#CC6600","#CC6633","#CC9900","#CC9933","#CCCC00","#CCCC33","#FF0000","#FF0033","#FF0066","#FF0099","#FF00CC","#FF00FF","#FF3300","#FF3333","#FF3366","#FF3399","#FF33CC","#FF33FF","#FF6600","#FF6633","#FF9900","#FF9933","#FFCC00","#FFCC33"];function useColors(){if(typeof window!=="undefined"&&window.process&&(window.process.type==="renderer"||window.process.__nwjs)){return true}if(typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/(edge|trident)\/(\d+)/)){return false}return typeof document!=="undefined"&&document.documentElement&&document.documentElement.style&&document.documentElement.style.WebkitAppearance||typeof window!=="undefined"&&window.console&&(window.console.firebug||window.console.exception&&window.console.table)||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/firefox\/(\d+)/)&&parseInt(RegExp.$1,10)>=31||typeof navigator!=="undefined"&&navigator.userAgent&&navigator.userAgent.toLowerCase().match(/applewebkit\/(\d+)/)}function formatArgs(t){t[0]=(this.useColors?"%c":"")+this.namespace+(this.useColors?" %c":" ")+t[0]+(this.useColors?"%c ":" ")+"+"+e.exports.humanize(this.diff);if(!this.useColors){return}const r="color: "+this.color;t.splice(1,0,r,"color: inherit");let n=0;let o=0;t[0].replace(/%[a-zA-Z%]/g,(e=>{if(e==="%%"){return}n++;if(e==="%c"){o=n}}));t.splice(o,0,r)}t.log=console.debug||console.log||(()=>{});function save(e){try{if(e){t.storage.setItem("debug",e)}else{t.storage.removeItem("debug")}}catch(e){}}function load(){let e;try{e=t.storage.getItem("debug")}catch(e){}if(!e&&typeof process!=="undefined"&&"env"in process){e=process.env.DEBUG}return e}function localstorage(){try{return localStorage}catch(e){}}e.exports=r(6243)(t);const{formatters:n}=e.exports;n.j=function(e){try{return JSON.stringify(e)}catch(e){return"[UnexpectedJSONParseError]: "+e.message}}},6243:(e,t,r)=>{function setup(e){createDebug.debug=createDebug;createDebug.default=createDebug;createDebug.coerce=coerce;createDebug.disable=disable;createDebug.enable=enable;createDebug.enabled=enabled;createDebug.humanize=r(900);createDebug.destroy=destroy;Object.keys(e).forEach((t=>{createDebug[t]=e[t]}));createDebug.names=[];createDebug.skips=[];createDebug.formatters={};function selectColor(e){let t=0;for(let r=0;r<e.length;r++){t=(t<<5)-t+e.charCodeAt(r);t|=0}return createDebug.colors[Math.abs(t)%createDebug.colors.length]}createDebug.selectColor=selectColor;function createDebug(e){let t;let r=null;let n;let o;function debug(...e){if(!debug.enabled){return}const r=debug;const n=Number(new Date);const o=n-(t||n);r.diff=o;r.prev=t;r.curr=n;t=n;e[0]=createDebug.coerce(e[0]);if(typeof e[0]!=="string"){e.unshift("%O")}let a=0;e[0]=e[0].replace(/%([a-zA-Z%])/g,((t,n)=>{if(t==="%%"){return"%"}a++;const o=createDebug.formatters[n];if(typeof o==="function"){const n=e[a];t=o.call(r,n);e.splice(a,1);a--}return t}));createDebug.formatArgs.call(r,e);const s=r.log||createDebug.log;s.apply(r,e)}debug.namespace=e;debug.useColors=createDebug.useColors();debug.color=createDebug.selectColor(e);debug.extend=extend;debug.destroy=createDebug.destroy;Object.defineProperty(debug,"enabled",{enumerable:true,configurable:false,get:()=>{if(r!==null){return r}if(n!==createDebug.namespaces){n=createDebug.namespaces;o=createDebug.enabled(e)}return o},set:e=>{r=e}});if(typeof createDebug.init==="function"){createDebug.init(debug)}return debug}function extend(e,t){const r=createDebug(this.namespace+(typeof t==="undefined"?":":t)+e);r.log=this.log;return r}function enable(e){createDebug.save(e);createDebug.namespaces=e;createDebug.names=[];createDebug.skips=[];let t;const r=(typeof e==="string"?e:"").split(/[\s,]+/);const n=r.length;for(t=0;t<n;t++){if(!r[t]){continue}e=r[t].replace(/\*/g,".*?");if(e[0]==="-"){createDebug.skips.push(new RegExp("^"+e.substr(1)+"$"))}else{createDebug.names.push(new RegExp("^"+e+"$"))}}}function disable(){const e=[...createDebug.names.map(toNamespace),...createDebug.skips.map(toNamespace).map((e=>"-"+e))].join(",");createDebug.enable("");return e}function enabled(e){if(e[e.length-1]==="*"){return true}let t;let r;for(t=0,r=createDebug.skips.length;t<r;t++){if(createDebug.skips[t].test(e)){return false}}for(t=0,r=createDebug.names.length;t<r;t++){if(createDebug.names[t].test(e)){return true}}return false}function toNamespace(e){return e.toString().substring(2,e.toString().length-2).replace(/\.\*\?$/,"*")}function coerce(e){if(e instanceof Error){return e.stack||e.message}return e}function destroy(){console.warn("Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.")}createDebug.enable(createDebug.load());return createDebug}e.exports=setup},8237:(e,t,r)=>{if(typeof process==="undefined"||process.type==="renderer"||process.browser===true||process.__nwjs){e.exports=r(8222)}else{e.exports=r(5332)}},5332:(e,t,r)=>{const n=r(3867);const o=r(1669);t.init=init;t.log=log;t.formatArgs=formatArgs;t.save=save;t.load=load;t.useColors=useColors;t.destroy=o.deprecate((()=>{}),"Instance method `debug.destroy()` is deprecated and no longer does anything. It will be removed in the next major version of `debug`.");t.colors=[6,2,3,4,5,1];try{const e=r(9318);if(e&&(e.stderr||e).level>=2){t.colors=[20,21,26,27,32,33,38,39,40,41,42,43,44,45,56,57,62,63,68,69,74,75,76,77,78,79,80,81,92,93,98,99,112,113,128,129,134,135,148,149,160,161,162,163,164,165,166,167,168,169,170,171,172,173,178,179,184,185,196,197,198,199,200,201,202,203,204,205,206,207,208,209,214,215,220,221]}}catch(e){}t.inspectOpts=Object.keys(process.env).filter((e=>/^debug_/i.test(e))).reduce(((e,t)=>{const r=t.substring(6).toLowerCase().replace(/_([a-z])/g,((e,t)=>t.toUpperCase()));let n=process.env[t];if(/^(yes|on|true|enabled)$/i.test(n)){n=true}else if(/^(no|off|false|disabled)$/i.test(n)){n=false}else if(n==="null"){n=null}else{n=Number(n)}e[r]=n;return e}),{});function useColors(){return"colors"in t.inspectOpts?Boolean(t.inspectOpts.colors):n.isatty(process.stderr.fd)}function formatArgs(t){const{namespace:r,useColors:n}=this;if(n){const n=this.color;const o="[3"+(n<8?n:"8;5;"+n);const a=`  ${o};1m${r} [0m`;t[0]=a+t[0].split("\n").join("\n"+a);t.push(o+"m+"+e.exports.humanize(this.diff)+"[0m")}else{t[0]=getDate()+r+" "+t[0]}}function getDate(){if(t.inspectOpts.hideDate){return""}return(new Date).toISOString()+" "}function log(...e){return process.stderr.write(o.format(...e)+"\n")}function save(e){if(e){process.env.DEBUG=e}else{delete process.env.DEBUG}}function load(){return process.env.DEBUG}function init(e){e.inspectOpts={};const r=Object.keys(t.inspectOpts);for(let n=0;n<r.length;n++){e.inspectOpts[r[n]]=t.inspectOpts[r[n]]}}e.exports=r(6243)(t);const{formatters:a}=e.exports;a.o=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts).split("\n").map((e=>e.trim())).join(" ")};a.O=function(e){this.inspectOpts.colors=this.useColors;return o.inspect(e,this.inspectOpts)}},1705:e=>{"use strict";
/*!
 * @description Recursive object extending
 * @author Viacheslav Lotsmanov <lotsmanov89@gmail.com>
 * @license MIT
 *
 * The MIT License (MIT)
 *
 * Copyright (c) 2013-2018 Viacheslav Lotsmanov
 *
 * Permission is hereby granted, free of charge, to any person obtaining a copy of
 * this software and associated documentation files (the "Software"), to deal in
 * the Software without restriction, including without limitation the rights to
 * use, copy, modify, merge, publish, distribute, sublicense, and/or sell copies of
 * the Software, and to permit persons to whom the Software is furnished to do so,
 * subject to the following conditions:
 *
 * The above copyright notice and this permission notice shall be included in all
 * copies or substantial portions of the Software.
 *
 * THE SOFTWARE IS PROVIDED "AS IS", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR
 * IMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY, FITNESS
 * FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE AUTHORS OR
 * COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER LIABILITY, WHETHER
 * IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM, OUT OF OR IN
 * CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE SOFTWARE.
 */function isSpecificValue(e){return e instanceof Buffer||e instanceof Date||e instanceof RegExp?true:false}function cloneSpecificValue(e){if(e instanceof Buffer){var t=Buffer.alloc?Buffer.alloc(e.length):new Buffer(e.length);e.copy(t);return t}else if(e instanceof Date){return new Date(e.getTime())}else if(e instanceof RegExp){return new RegExp(e)}else{throw new Error("Unexpected situation")}}function deepCloneArray(e){var r=[];e.forEach((function(e,n){if(typeof e==="object"&&e!==null){if(Array.isArray(e)){r[n]=deepCloneArray(e)}else if(isSpecificValue(e)){r[n]=cloneSpecificValue(e)}else{r[n]=t({},e)}}else{r[n]=e}}));return r}function safeGetProperty(e,t){return t==="__proto__"?undefined:e[t]}var t=e.exports=function(){if(arguments.length<1||typeof arguments[0]!=="object"){return false}if(arguments.length<2){return arguments[0]}var e=arguments[0];var r=Array.prototype.slice.call(arguments,1);var n,o,a;r.forEach((function(r){if(typeof r!=="object"||r===null||Array.isArray(r)){return}Object.keys(r).forEach((function(a){o=safeGetProperty(e,a);n=safeGetProperty(r,a);if(n===e){return}else if(typeof n!=="object"||n===null){e[a]=n;return}else if(Array.isArray(n)){e[a]=deepCloneArray(n);return}else if(isSpecificValue(n)){e[a]=cloneSpecificValue(n);return}else if(typeof o!=="object"||o===null||Array.isArray(o)){e[a]=t({},n);return}else{e[a]=t(o,n);return}}))}));return e}},8373:(e,t,r)=>{"use strict";const n=r(3764);const o=r(7219);const a=r(9273);const{getProxyForUrl:s}=r(3329);const{Agent:i}=r(8605);const{Agent:l}=r(7211);const u={agentCacheSize:512};const c={maxSockets:64,keepAlive:false};class TimeoutError extends Error{constructor(e){super(e);this.name="TimeoutError";Error.captureStackTrace(this,TimeoutError)}}e.exports=(e,t={})=>{const r={...u,...t};const f=new a({maxSize:r.agentCacheSize});function getAgent(e,t={}){const{origin:r,protocol:a}=new URL(e);const u=JSON.stringify({origin:r,...t});if(f.peek(u))return f.get(u);let c;const d=a==="https:";const h=s(e);if(h){const{protocol:e,username:r,password:a,hostname:s,port:i,pathname:l,search:u,hash:f}=new URL(h);c=new(d?o:n)({protocol:e,port:i,hostname:s.replace(/^\[/,"").replace(/\]$/,""),path:`${l}${u}${f}`,auth:r&&a?`${r}:${a}`:r?r:null,...t})}else{c=new(d?l:i)(t);if("maxSockets"in t){c.maxSockets=t.maxSockets}}f.set(u,c);return c}const fetch=(t,{timeout:r=0,agentOpts:n={},...o}={})=>new Promise(((a,s)=>{if(!("agent"in o)){o.agent=getAgent(t,{...c,...n})}let i;if(r){i=setTimeout((()=>{const e=new TimeoutError(`${o.method||"GET"} ${t} timed out after ${r}ms`);s(e)}),r)}e(t,o).then((e=>{if(i)clearTimeout(i);a(e)})).catch((e=>{if(i)clearTimeout(i);if(e.name==="AbortError")return a(null);s(e)}))}));fetch.clearCache=()=>{for(const e of f.values()){if("destroy"in e)e.destroy()}f.clear()};return fetch};e.exports.TimeoutError=TimeoutError},1621:e=>{"use strict";e.exports=(e,t)=>{t=t||process.argv;const r=e.startsWith("-")?"":e.length===1?"-":"--";const n=t.indexOf(r+e);const o=t.indexOf("--");return n!==-1&&(o===-1?true:n<o)}},135:e=>{"use strict";const maybeJoin=(...e)=>e.every((e=>e))?e.join(""):"";const maybeEncode=e=>e?encodeURIComponent(e):"";const t={sshtemplate:({domain:e,user:t,project:r,committish:n})=>`git@${e}:${t}/${r}.git${maybeJoin("#",n)}`,sshurltemplate:({domain:e,user:t,project:r,committish:n})=>`git+ssh://git@${e}/${t}/${r}.git${maybeJoin("#",n)}`,browsetemplate:({domain:e,user:t,project:r,committish:n,treepath:o})=>`https://${e}/${t}/${r}${maybeJoin("/",o,"/",maybeEncode(n))}`,browsefiletemplate:({domain:e,user:t,project:r,committish:n,treepath:o,path:a,fragment:s,hashformat:i})=>`https://${e}/${t}/${r}/${o}/${maybeEncode(n||"master")}/${a}${maybeJoin("#",i(s||""))}`,docstemplate:({domain:e,user:t,project:r,treepath:n,committish:o})=>`https://${e}/${t}/${r}${maybeJoin("/",n,"/",maybeEncode(o))}#readme`,httpstemplate:({auth:e,domain:t,user:r,project:n,committish:o})=>`git+https://${maybeJoin(e,"@")}${t}/${r}/${n}.git${maybeJoin("#",o)}`,filetemplate:({domain:e,user:t,project:r,committish:n,path:o})=>`https://${e}/${t}/${r}/raw/${maybeEncode(n)||"master"}/${o}`,shortcuttemplate:({type:e,user:t,project:r,committish:n})=>`${e}:${t}/${r}${maybeJoin("#",n)}`,pathtemplate:({user:e,project:t,committish:r})=>`${e}/${t}${maybeJoin("#",r)}`,bugstemplate:({domain:e,user:t,project:r})=>`https://${e}/${t}/${r}/issues`,hashformat:formatHashFragment};const r={};r.github=Object.assign({},t,{protocols:["git:","http:","git+ssh:","git+https:","ssh:","https:"],domain:"github.com",treepath:"tree",filetemplate:({auth:e,user:t,project:r,committish:n,path:o})=>`https://${maybeJoin(e,"@")}raw.githubusercontent.com/${t}/${r}/${maybeEncode(n)||"master"}/${o}`,gittemplate:({auth:e,domain:t,user:r,project:n,committish:o})=>`git://${maybeJoin(e,"@")}${t}/${r}/${n}.git${maybeJoin("#",o)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://codeload.${e}/${t}/${r}/tar.gz/${maybeEncode(n)||"master"}`,extract:e=>{let[,t,r,n,o]=e.pathname.split("/",5);if(n&&n!=="tree"){return}if(!n){o=e.hash.slice(1)}if(r&&r.endsWith(".git")){r=r.slice(0,-4)}if(!t||!r){return}return{user:t,project:r,committish:o}}});r.bitbucket=Object.assign({},t,{protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"bitbucket.org",treepath:"src",tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}/get/${maybeEncode(n)||"master"}.tar.gz`,extract:e=>{let[,t,r,n]=e.pathname.split("/",4);if(["get"].includes(n)){return}if(r&&r.endsWith(".git")){r=r.slice(0,-4)}if(!t||!r){return}return{user:t,project:r,committish:e.hash.slice(1)}}});r.gitlab=Object.assign({},t,{protocols:["git+ssh:","git+https:","ssh:","https:"],domain:"gitlab.com",treepath:"tree",httpstemplate:({auth:e,domain:t,user:r,project:n,committish:o})=>`git+https://${maybeJoin(e,"@")}${t}/${r}/${n}.git${maybeJoin("#",o)}`,tarballtemplate:({domain:e,user:t,project:r,committish:n})=>`https://${e}/${t}/${r}/repository/archive.tar.gz?ref=${maybeEncode(n)||"master"}`,extract:e=>{const t=e.pathname.slice(1);if(t.includes("/-/")||t.includes("/archive.tar.gz")){return}const r=t.split("/");let n=r.pop();if(n.endsWith(".git")){n=n.slice(0,-4)}const o=r.join("/");if(!o||!n){return}return{user:o,project:n,committish:e.hash.slice(1)}}});r.gist=Object.assign({},t,{protocols:["git:","git+ssh:","git+https:","ssh:","https:"],domain:"gist.github.com",sshtemplate:({domain:e,project:t,committish:r})=>`git@${e}:${t}.git${maybeJoin("#",r)}`,sshurltemplate:({domain:e,project:t,committish:r})=>`git+ssh://git@${e}/${t}.git${maybeJoin("#",r)}`,browsetemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${maybeJoin("/",maybeEncode(r))}`,browsefiletemplate:({domain:e,project:t,committish:r,path:n,hashformat:o})=>`https://${e}/${t}${maybeJoin("/",maybeEncode(r))}${maybeJoin("#",o(n))}`,docstemplate:({domain:e,project:t,committish:r})=>`https://${e}/${t}${maybeJoin("/",maybeEncode(r))}`,httpstemplate:({domain:e,project:t,committish:r})=>`git+https://${e}/${t}.git${maybeJoin("#",r)}`,filetemplate:({user:e,project:t,committish:r,path:n})=>`https://gist.githubusercontent.com/${e}/${t}/raw${maybeJoin("/",maybeEncode(r))}/${n}`,shortcuttemplate:({type:e,project:t,committish:r})=>`${e}:${t}${maybeJoin("#",r)}`,pathtemplate:({project:e,committish:t})=>`${e}${maybeJoin("#",t)}`,bugstemplate:({domain:e,project:t})=>`https://${e}/${t}`,gittemplate:({domain:e,project:t,committish:r})=>`git://${e}/${t}.git${maybeJoin("#",r)}`,tarballtemplate:({project:e,committish:t})=>`https://codeload.github.com/gist/${e}/tar.gz/${maybeEncode(t)||"master"}`,extract:e=>{let[,t,r,n]=e.pathname.split("/",4);if(n==="raw"){return}if(!r){if(!t){return}r=t;t=null}if(r.endsWith(".git")){r=r.slice(0,-4)}return{user:t,project:r,committish:e.hash.slice(1)}},hashformat:function(e){return e&&"file-"+formatHashFragment(e)}});const n=Object.keys(r);r.byShortcut={};r.byDomain={};for(const e of n){r.byShortcut[`${e}:`]=e;r.byDomain[r[e].domain]=e}function formatHashFragment(e){return e.toLowerCase().replace(/^\W+|\/|\W+$/g,"").replace(/\W+/g,"-")}e.exports=r},8145:(e,t,r)=>{"use strict";const n=r(135);class GitHost{constructor(e,t,r,o,a,s,i={}){Object.assign(this,n[e]);this.type=e;this.user=t;this.auth=r;this.project=o;this.committish=a;this.default=s;this.opts=i}hash(){return this.committish?`#${this.committish}`:""}ssh(e){return this._fill(this.sshtemplate,e)}_fill(e,t){if(typeof e==="function"){const r={...this,...this.opts,...t};if(!r.path){r.path=""}if(r.path.startsWith("/")){r.path=r.path.slice(1)}if(r.noCommittish){r.committish=null}const n=e(r);return r.noGitPlus&&n.startsWith("git+")?n.slice(4):n}return null}sshurl(e){return this._fill(this.sshurltemplate,e)}browse(e,t,r){if(typeof e!=="string"){return this._fill(this.browsetemplate,e)}if(typeof t!=="string"){r=t;t=null}return this._fill(this.browsefiletemplate,{...r,fragment:t,path:e})}docs(e){return this._fill(this.docstemplate,e)}bugs(e){return this._fill(this.bugstemplate,e)}https(e){return this._fill(this.httpstemplate,e)}git(e){return this._fill(this.gittemplate,e)}shortcut(e){return this._fill(this.shortcuttemplate,e)}path(e){return this._fill(this.pathtemplate,e)}tarball(e){return this._fill(this.tarballtemplate,{...e,noCommittish:false})}file(e,t){return this._fill(this.filetemplate,{...t,path:e})}getDefaultRepresentation(){return this.default}toString(e){if(this.default&&typeof this[this.default]==="function"){return this[this.default](e)}return this.sshurl(e)}}e.exports=GitHost},8869:(e,t,r)=>{"use strict";const n=r(8835);const o=r(135);const a=e.exports=r(8145);const s=r(7129);const i=new s({max:1e3});const l={"git+ssh:":"sshurl","git+https:":"https","ssh:":"sshurl","git:":"git"};function protocolToRepresentation(e){return l[e]||e.slice(0,-1)}const u={"git:":true,"https:":true,"git+https:":true,"http:":true,"git+http:":true};const c=Object.keys(o.byShortcut).concat(["http:","https:","git:","git+ssh:","git+https:","ssh:"]);e.exports.fromUrl=function(e,t){if(typeof e!=="string"){return}const r=e+JSON.stringify(t||{});if(!i.has(r)){i.set(r,fromUrl(e,t))}return i.get(r)};function fromUrl(e,t){if(!e){return}const r=isGitHubShorthand(e)?"github:"+e:correctProtocol(e);const n=parseGitUrl(r);if(!n){return n}const s=o.byShortcut[n.protocol];const i=o.byDomain[n.hostname.startsWith("www.")?n.hostname.slice(4):n.hostname];const l=s||i;if(!l){return}const c=o[s||i];let f=null;if(u[n.protocol]&&(n.username||n.password)){f=`${n.username}${n.password?":"+n.password:""}`}let d=null;let h=null;let p=null;let m=null;try{if(s){let e=n.pathname.startsWith("/")?n.pathname.slice(1):n.pathname;const t=e.indexOf("@");if(t>-1){e=e.slice(t+1)}const r=e.lastIndexOf("/");if(r>-1){h=decodeURIComponent(e.slice(0,r));if(!h){h=null}p=decodeURIComponent(e.slice(r+1))}else{p=decodeURIComponent(e)}if(p.endsWith(".git")){p=p.slice(0,-4)}if(n.hash){d=decodeURIComponent(n.hash.slice(1))}m="shortcut"}else{if(!c.protocols.includes(n.protocol)){return}const e=c.extract(n);if(!e){return}h=e.user&&decodeURIComponent(e.user);p=decodeURIComponent(e.project);d=decodeURIComponent(e.committish);m=protocolToRepresentation(n.protocol)}}catch(e){if(e instanceof URIError){return}else{throw e}}return new a(l,h,f,p,d,m,t)}const correctProtocol=e=>{const t=e.indexOf(":");const r=e.slice(0,t+1);if(c.includes(r)){return e}const n=e.indexOf("@");if(n>-1){if(n>t){return`git+ssh://${e}`}else{return e}}const o=e.indexOf("//");if(o===t+1){return e}return e.slice(0,t+1)+"//"+e.slice(t+1)};const isGitHubShorthand=e=>{const t=e.indexOf("#");const r=e.indexOf("/");const n=e.indexOf("/",r+1);const o=e.indexOf(":");const a=/\s/.exec(e);const s=e.indexOf("@");const i=!a||t>-1&&a.index>t;const l=s===-1||t>-1&&s>t;const u=o===-1||t>-1&&o>t;const c=n===-1||t>-1&&n>t;const f=r>0;const d=t>-1?e[t-1]!=="/":!e.endsWith("/");const h=!e.startsWith(".");return i&&f&&d&&h&&l&&u&&c};const correctUrl=e=>{const t=e.indexOf("@");const r=e.lastIndexOf("#");let n=e.indexOf(":");let o=e.lastIndexOf(":",r>-1?r:Infinity);let a;if(o>t){a=e.slice(0,o)+"/"+e.slice(o+1);n=a.indexOf(":");o=a.lastIndexOf(":")}if(n===-1&&e.indexOf("//")===-1){a=`git+ssh://${a}`}return a};const parseGitUrl=e=>{let t;try{t=new n.URL(e)}catch(e){}if(t){return t}const r=correctUrl(e);try{t=new n.URL(r)}catch(e){}return t}},7492:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const a=o(r(1631));const s=o(r(4016));const i=o(r(8835));const l=o(r(8237));const u=o(r(1040));const c=r(9690);const f=l.default("http-proxy-agent");function isHTTPS(e){return typeof e==="string"?/^https:?$/i.test(e):false}class HttpProxyAgent extends c.Agent{constructor(e){let t;if(typeof e==="string"){t=i.default.parse(e)}else{t=e}if(!t){throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!")}f("Creating new HttpProxyAgent instance: %o",t);super(t);const r=Object.assign({},t);this.secureProxy=t.secureProxy||isHTTPS(r.protocol);r.host=r.hostname||r.host;if(typeof r.port==="string"){r.port=parseInt(r.port,10)}if(!r.port&&r.host){r.port=this.secureProxy?443:80}if(r.host&&r.path){delete r.path;delete r.pathname}this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;const o=i.default.parse(e.path);if(!o.protocol){o.protocol="http:"}if(!o.hostname){o.hostname=t.hostname||t.host||null}if(o.port==null&&typeof t.port){o.port=String(t.port)}if(o.port==="80"){delete o.port}e.path=i.default.format(o);if(r.auth){e.setHeader("Proxy-Authorization",`Basic ${Buffer.from(r.auth).toString("base64")}`)}let l;if(n){f("Creating `tls.Socket`: %o",r);l=s.default.connect(r)}else{f("Creating `net.Socket`: %o",r);l=a.default.connect(r)}if(e._header){let t;let r;f("Regenerating stored HTTP header string for request");e._header=null;e._implicitHeader();if(e.output&&e.output.length>0){f("Patching connection write() output buffer with updated header");t=e.output[0];r=t.indexOf("\r\n\r\n")+4;e.output[0]=e._header+t.substring(r);f("Output buffer: %o",e.output)}else if(e.outputData&&e.outputData.length>0){f("Patching connection write() output buffer with updated header");t=e.outputData[0].data;r=t.indexOf("\r\n\r\n")+4;e.outputData[0].data=e._header+t.substring(r);f("Output buffer: %o",e.outputData[0].data)}}yield u.default(l,"connect");return l}))}}t.default=HttpProxyAgent},3764:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(7492));function createHttpProxyAgent(e){return new o.default(e)}(function(e){e.HttpProxyAgent=o.default;e.prototype=o.default.prototype})(createHttpProxyAgent||(createHttpProxyAgent={}));e.exports=createHttpProxyAgent},5098:function(e,t,r){"use strict";var n=this&&this.__awaiter||function(e,t,r,n){function adopt(e){return e instanceof r?e:new r((function(t){t(e)}))}return new(r||(r=Promise))((function(r,o){function fulfilled(e){try{step(n.next(e))}catch(e){o(e)}}function rejected(e){try{step(n["throw"](e))}catch(e){o(e)}}function step(e){e.done?r(e.value):adopt(e.value).then(fulfilled,rejected)}step((n=n.apply(e,t||[])).next())}))};var o=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const a=o(r(1631));const s=o(r(4016));const i=o(r(8835));const l=o(r(2357));const u=o(r(8237));const c=r(9690);const f=o(r(595));const d=u.default("https-proxy-agent:agent");class HttpsProxyAgent extends c.Agent{constructor(e){let t;if(typeof e==="string"){t=i.default.parse(e)}else{t=e}if(!t){throw new Error("an HTTP(S) proxy server `host` and `port` must be specified!")}d("creating new HttpsProxyAgent instance: %o",t);super(t);const r=Object.assign({},t);this.secureProxy=t.secureProxy||isHTTPS(r.protocol);r.host=r.hostname||r.host;if(typeof r.port==="string"){r.port=parseInt(r.port,10)}if(!r.port&&r.host){r.port=this.secureProxy?443:80}if(this.secureProxy&&!("ALPNProtocols"in r)){r.ALPNProtocols=["http 1.1"]}if(r.host&&r.path){delete r.path;delete r.pathname}this.proxy=r}callback(e,t){return n(this,void 0,void 0,(function*(){const{proxy:r,secureProxy:n}=this;let o;if(n){d("Creating `tls.Socket`: %o",r);o=s.default.connect(r)}else{d("Creating `net.Socket`: %o",r);o=a.default.connect(r)}const i=Object.assign({},r.headers);const u=`${t.host}:${t.port}`;let c=`CONNECT ${u} HTTP/1.1\r\n`;if(r.auth){i["Proxy-Authorization"]=`Basic ${Buffer.from(r.auth).toString("base64")}`}let{host:h,port:p,secureEndpoint:m}=t;if(!isDefaultPort(p,m)){h+=`:${p}`}i.Host=h;i.Connection="close";for(const e of Object.keys(i)){c+=`${e}: ${i[e]}\r\n`}const b=f.default(o);o.write(`${c}\r\n`);const{statusCode:g,buffered:y}=yield b;if(g===200){e.once("socket",resume);if(t.secureEndpoint){const e=t.servername||t.host;if(!e){throw new Error('Could not determine "servername"')}d("Upgrading socket connection to TLS");return s.default.connect(Object.assign(Object.assign({},omit(t,"host","hostname","path","port")),{socket:o,servername:e}))}return o}o.destroy();const S=new a.default.Socket;S.readable=true;e.once("socket",(e=>{d("replaying proxy buffer for failed request");l.default(e.listenerCount("data")>0);e.push(y);e.push(null)}));return S}))}}t.default=HttpsProxyAgent;function resume(e){e.resume()}function isDefaultPort(e,t){return Boolean(!t&&e===80||t&&e===443)}function isHTTPS(e){return typeof e==="string"?/^https:?$/i.test(e):false}function omit(e,...t){const r={};let n;for(n in e){if(!t.includes(n)){r[n]=e[n]}}return r}},7219:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};const o=n(r(5098));function createHttpsProxyAgent(e){return new o.default(e)}(function(e){e.HttpsProxyAgent=o.default;e.prototype=o.default.prototype})(createHttpsProxyAgent||(createHttpsProxyAgent={}));e.exports=createHttpsProxyAgent},595:function(e,t,r){"use strict";var n=this&&this.__importDefault||function(e){return e&&e.__esModule?e:{default:e}};Object.defineProperty(t,"__esModule",{value:true});const o=n(r(8237));const a=o.default("https-proxy-agent:parse-proxy-response");function parseProxyResponse(e){return new Promise(((t,r)=>{let n=0;const o=[];function read(){const t=e.read();if(t)ondata(t);else e.once("readable",read)}function cleanup(){e.removeListener("end",onend);e.removeListener("error",onerror);e.removeListener("close",onclose);e.removeListener("readable",read)}function onclose(e){a("onclose had error %o",e)}function onend(){a("onend")}function onerror(e){cleanup();a("onerror %o",e);r(e)}function ondata(e){o.push(e);n+=e.length;const r=Buffer.concat(o,n);const s=r.indexOf("\r\n\r\n");if(s===-1){a("have not received end of HTTP headers yet...");read();return}const i=r.toString("ascii",0,r.indexOf("\r\n"));const l=+i.split(" ")[1];a("got proxy server response: %o",i);t({statusCode:l,buffered:r})}e.on("error",onerror);e.on("close",onclose);e.on("end",onend);read()}))}t.default=parseProxyResponse},8885:(e,t)=>{t.parse=t.decode=decode;t.stringify=t.encode=encode;t.safe=safe;t.unsafe=unsafe;var r=typeof process!=="undefined"&&process.platform==="win32"?"\r\n":"\n";function encode(e,t){var n=[];var o="";if(typeof t==="string"){t={section:t,whitespace:false}}else{t=t||{};t.whitespace=t.whitespace===true}var a=t.whitespace?" = ":"=";Object.keys(e).forEach((function(t,s,i){var l=e[t];if(l&&Array.isArray(l)){l.forEach((function(e){o+=safe(t+"[]")+a+safe(e)+"\n"}))}else if(l&&typeof l==="object")n.push(t);else o+=safe(t)+a+safe(l)+r}));if(t.section&&o.length)o="["+safe(t.section)+"]"+r+o;n.forEach((function(n,a,s){var i=dotSplit(n).join("\\.");var l=(t.section?t.section+".":"")+i;var u=encode(e[n],{section:l,whitespace:t.whitespace});if(o.length&&u.length)o+=r;o+=u}));return o}function dotSplit(e){return e.replace(/\1/g,"LITERAL\\1LITERAL").replace(/\\\./g,"").split(/\./).map((function(e){return e.replace(/\1/g,"\\.").replace(/\2LITERAL\\1LITERAL\2/g,"")}))}function decode(e){var t={};var r=t;var n=null;var o=/^\[([^\]]*)\]$|^([^=]+)(=(.*))?$/i;var a=e.split(/[\r\n]+/g);a.forEach((function(e,a,s){if(!e||e.match(/^\s*[;#]/))return;var i=e.match(o);if(!i)return;if(i[1]!==undefined){n=unsafe(i[1]);if(n==="__proto__"){r={};return}r=t[n]=t[n]||{};return}var l=unsafe(i[2]);if(l==="__proto__")return;var u=i[3]?unsafe(i[4]):true;switch(u){case"true":case"false":case"null":u=JSON.parse(u)}if(l.length>2&&l.slice(-2)==="[]"){l=l.substring(0,l.length-2);if(l==="__proto__")return;if(!r[l])r[l]=[];else if(!Array.isArray(r[l]))r[l]=[r[l]]}if(Array.isArray(r[l]))r[l].push(u);else r[l]=u}));Object.keys(t).filter((function(e,r,n){if(!t[e]||typeof t[e]!=="object"||Array.isArray(t[e]))return false;var o=dotSplit(e);var a=t;var s=o.pop();var i=s.replace(/\\\./g,".");o.forEach((function(e,t,r){if(e==="__proto__")return;if(!a[e]||typeof a[e]!=="object")a[e]={};a=a[e]}));if(a===t&&i===s)return false;a[i]=t[e];return true})).forEach((function(e,r,n){delete t[e]}));return t}function isQuoted(e){return e.charAt(0)==='"'&&e.slice(-1)==='"'||e.charAt(0)==="'"&&e.slice(-1)==="'"}function safe(e){return typeof e!=="string"||e.match(/[=\r\n]/)||e.match(/^\[/)||e.length>1&&isQuoted(e)||e!==e.trim()?JSON.stringify(e):e.replace(/;/g,"\\;").replace(/#/g,"\\#")}function unsafe(e,t){e=(e||"").trim();if(isQuoted(e)){if(e.charAt(0)==="'")e=e.substr(1,e.length-2);try{e=JSON.parse(e)}catch(e){}}else{var r=false;var n="";for(var o=0,a=e.length;o<a;o++){var s=e.charAt(o);if(r){if("\\;#".indexOf(s)!==-1)n+=s;else n+="\\"+s;r=false}else if(";#".indexOf(s)!==-1)break;else if(s==="\\")r=true;else n+=s}if(r)n+="\\";return n.trim()}return e}},7129:(e,t,r)=>{"use strict";const n=r(665);const o=Symbol("max");const a=Symbol("length");const s=Symbol("lengthCalculator");const i=Symbol("allowStale");const l=Symbol("maxAge");const u=Symbol("dispose");const c=Symbol("noDisposeOnSet");const f=Symbol("lruList");const d=Symbol("cache");const h=Symbol("updateAgeOnGet");const naiveLength=()=>1;class LRUCache{constructor(e){if(typeof e==="number")e={max:e};if(!e)e={};if(e.max&&(typeof e.max!=="number"||e.max<0))throw new TypeError("max must be a non-negative number");const t=this[o]=e.max||Infinity;const r=e.length||naiveLength;this[s]=typeof r!=="function"?naiveLength:r;this[i]=e.stale||false;if(e.maxAge&&typeof e.maxAge!=="number")throw new TypeError("maxAge must be a number");this[l]=e.maxAge||0;this[u]=e.dispose;this[c]=e.noDisposeOnSet||false;this[h]=e.updateAgeOnGet||false;this.reset()}set max(e){if(typeof e!=="number"||e<0)throw new TypeError("max must be a non-negative number");this[o]=e||Infinity;trim(this)}get max(){return this[o]}set allowStale(e){this[i]=!!e}get allowStale(){return this[i]}set maxAge(e){if(typeof e!=="number")throw new TypeError("maxAge must be a non-negative number");this[l]=e;trim(this)}get maxAge(){return this[l]}set lengthCalculator(e){if(typeof e!=="function")e=naiveLength;if(e!==this[s]){this[s]=e;this[a]=0;this[f].forEach((e=>{e.length=this[s](e.value,e.key);this[a]+=e.length}))}trim(this)}get lengthCalculator(){return this[s]}get length(){return this[a]}get itemCount(){return this[f].length}rforEach(e,t){t=t||this;for(let r=this[f].tail;r!==null;){const n=r.prev;forEachStep(this,e,r,t);r=n}}forEach(e,t){t=t||this;for(let r=this[f].head;r!==null;){const n=r.next;forEachStep(this,e,r,t);r=n}}keys(){return this[f].toArray().map((e=>e.key))}values(){return this[f].toArray().map((e=>e.value))}reset(){if(this[u]&&this[f]&&this[f].length){this[f].forEach((e=>this[u](e.key,e.value)))}this[d]=new Map;this[f]=new n;this[a]=0}dump(){return this[f].map((e=>isStale(this,e)?false:{k:e.key,v:e.value,e:e.now+(e.maxAge||0)})).toArray().filter((e=>e))}dumpLru(){return this[f]}set(e,t,r){r=r||this[l];if(r&&typeof r!=="number")throw new TypeError("maxAge must be a number");const n=r?Date.now():0;const i=this[s](t,e);if(this[d].has(e)){if(i>this[o]){del(this,this[d].get(e));return false}const s=this[d].get(e);const l=s.value;if(this[u]){if(!this[c])this[u](e,l.value)}l.now=n;l.maxAge=r;l.value=t;this[a]+=i-l.length;l.length=i;this.get(e);trim(this);return true}const h=new Entry(e,t,i,n,r);if(h.length>this[o]){if(this[u])this[u](e,t);return false}this[a]+=h.length;this[f].unshift(h);this[d].set(e,this[f].head);trim(this);return true}has(e){if(!this[d].has(e))return false;const t=this[d].get(e).value;return!isStale(this,t)}get(e){return get(this,e,true)}peek(e){return get(this,e,false)}pop(){const e=this[f].tail;if(!e)return null;del(this,e);return e.value}del(e){del(this,this[d].get(e))}load(e){this.reset();const t=Date.now();for(let r=e.length-1;r>=0;r--){const n=e[r];const o=n.e||0;if(o===0)this.set(n.k,n.v);else{const e=o-t;if(e>0){this.set(n.k,n.v,e)}}}}prune(){this[d].forEach(((e,t)=>get(this,t,false)))}}const get=(e,t,r)=>{const n=e[d].get(t);if(n){const t=n.value;if(isStale(e,t)){del(e,n);if(!e[i])return undefined}else{if(r){if(e[h])n.value.now=Date.now();e[f].unshiftNode(n)}}return t.value}};const isStale=(e,t)=>{if(!t||!t.maxAge&&!e[l])return false;const r=Date.now()-t.now;return t.maxAge?r>t.maxAge:e[l]&&r>e[l]};const trim=e=>{if(e[a]>e[o]){for(let t=e[f].tail;e[a]>e[o]&&t!==null;){const r=t.prev;del(e,t);t=r}}};const del=(e,t)=>{if(t){const r=t.value;if(e[u])e[u](r.key,r.value);e[a]-=r.length;e[d].delete(r.key);e[f].removeNode(t)}};class Entry{constructor(e,t,r,n,o){this.key=e;this.value=t;this.length=r;this.now=n;this.maxAge=o||0}}const forEachStep=(e,t,r,n)=>{let o=r.value;if(isStale(e,o)){del(e,r);if(!e[i])o=undefined}if(o)t.call(n,o.value,o.key,e)};e.exports=LRUCache},5871:e=>{e.exports=function(e,t){if(!t)t={};var r={bools:{},strings:{},unknownFn:null};if(typeof t["unknown"]==="function"){r.unknownFn=t["unknown"]}if(typeof t["boolean"]==="boolean"&&t["boolean"]){r.allBools=true}else{[].concat(t["boolean"]).filter(Boolean).forEach((function(e){r.bools[e]=true}))}var n={};Object.keys(t.alias||{}).forEach((function(e){n[e]=[].concat(t.alias[e]);n[e].forEach((function(t){n[t]=[e].concat(n[e].filter((function(e){return t!==e})))}))}));[].concat(t.string).filter(Boolean).forEach((function(e){r.strings[e]=true;if(n[e]){r.strings[n[e]]=true}}));var o=t["default"]||{};var a={_:[]};Object.keys(r.bools).forEach((function(e){setArg(e,o[e]===undefined?false:o[e])}));var s=[];if(e.indexOf("--")!==-1){s=e.slice(e.indexOf("--")+1);e=e.slice(0,e.indexOf("--"))}function argDefined(e,t){return r.allBools&&/^--[^=]+$/.test(t)||r.strings[e]||r.bools[e]||n[e]}function setArg(e,t,o){if(o&&r.unknownFn&&!argDefined(e,o)){if(r.unknownFn(o)===false)return}var s=!r.strings[e]&&isNumber(t)?Number(t):t;setKey(a,e.split("."),s);(n[e]||[]).forEach((function(e){setKey(a,e.split("."),s)}))}function setKey(e,t,n){var o=e;for(var a=0;a<t.length-1;a++){var s=t[a];if(s==="__proto__")return;if(o[s]===undefined)o[s]={};if(o[s]===Object.prototype||o[s]===Number.prototype||o[s]===String.prototype)o[s]={};if(o[s]===Array.prototype)o[s]=[];o=o[s]}var s=t[t.length-1];if(s==="__proto__")return;if(o===Object.prototype||o===Number.prototype||o===String.prototype)o={};if(o===Array.prototype)o=[];if(o[s]===undefined||r.bools[s]||typeof o[s]==="boolean"){o[s]=n}else if(Array.isArray(o[s])){o[s].push(n)}else{o[s]=[o[s],n]}}function aliasIsBoolean(e){return n[e].some((function(e){return r.bools[e]}))}for(var i=0;i<e.length;i++){var l=e[i];if(/^--.+=/.test(l)){var u=l.match(/^--([^=]+)=([\s\S]*)$/);var c=u[1];var f=u[2];if(r.bools[c]){f=f!=="false"}setArg(c,f,l)}else if(/^--no-.+/.test(l)){var c=l.match(/^--no-(.+)/)[1];setArg(c,false,l)}else if(/^--.+/.test(l)){var c=l.match(/^--(.+)/)[1];var d=e[i+1];if(d!==undefined&&!/^-/.test(d)&&!r.bools[c]&&!r.allBools&&(n[c]?!aliasIsBoolean(c):true)){setArg(c,d,l);i++}else if(/^(true|false)$/.test(d)){setArg(c,d==="true",l);i++}else{setArg(c,r.strings[c]?"":true,l)}}else if(/^-[^-]+/.test(l)){var h=l.slice(1,-1).split("");var p=false;for(var m=0;m<h.length;m++){var d=l.slice(m+2);if(d==="-"){setArg(h[m],d,l);continue}if(/[A-Za-z]/.test(h[m])&&/=/.test(d)){setArg(h[m],d.split("=")[1],l);p=true;break}if(/[A-Za-z]/.test(h[m])&&/-?\d+(\.\d*)?(e-?\d+)?$/.test(d)){setArg(h[m],d,l);p=true;break}if(h[m+1]&&h[m+1].match(/\W/)){setArg(h[m],l.slice(m+2),l);p=true;break}else{setArg(h[m],r.strings[h[m]]?"":true,l)}}var c=l.slice(-1)[0];if(!p&&c!=="-"){if(e[i+1]&&!/^(-|--)[^-]/.test(e[i+1])&&!r.bools[c]&&(n[c]?!aliasIsBoolean(c):true)){setArg(c,e[i+1],l);i++}else if(e[i+1]&&/^(true|false)$/.test(e[i+1])){setArg(c,e[i+1]==="true",l);i++}else{setArg(c,r.strings[c]?"":true,l)}}}else{if(!r.unknownFn||r.unknownFn(l)!==false){a._.push(r.strings["_"]||!isNumber(l)?l:Number(l))}if(t.stopEarly){a._.push.apply(a._,e.slice(i+1));break}}}Object.keys(o).forEach((function(e){if(!hasKey(a,e.split("."))){setKey(a,e.split("."),o[e]);(n[e]||[]).forEach((function(t){setKey(a,t.split("."),o[e])}))}}));if(t["--"]){a["--"]=new Array;s.forEach((function(e){a["--"].push(e)}))}else{s.forEach((function(e){a._.push(e)}))}return a};function hasKey(e,t){var r=e;t.slice(0,-1).forEach((function(e){r=r[e]||{}}));var n=t[t.length-1];return n in r}function isNumber(e){if(typeof e==="number")return true;if(/^0x[0-9a-f]+$/i.test(e))return true;return/^[-+]?(?:\d+(?:\.\d*)?|\.\d+)(e[-+]?\d+)?$/.test(e)}},900:e=>{var t=1e3;var r=t*60;var n=r*60;var o=n*24;var a=o*7;var s=o*365.25;e.exports=function(e,t){t=t||{};var r=typeof e;if(r==="string"&&e.length>0){return parse(e)}else if(r==="number"&&isFinite(e)){return t.long?fmtLong(e):fmtShort(e)}throw new Error("val is not a non-empty string or a valid number. val="+JSON.stringify(e))};function parse(e){e=String(e);if(e.length>100){return}var i=/^(-?(?:\d+)?\.?\d+) *(milliseconds?|msecs?|ms|seconds?|secs?|s|minutes?|mins?|m|hours?|hrs?|h|days?|d|weeks?|w|years?|yrs?|y)?$/i.exec(e);if(!i){return}var l=parseFloat(i[1]);var u=(i[2]||"ms").toLowerCase();switch(u){case"years":case"year":case"yrs":case"yr":case"y":return l*s;case"weeks":case"week":case"w":return l*a;case"days":case"day":case"d":return l*o;case"hours":case"hour":case"hrs":case"hr":case"h":return l*n;case"minutes":case"minute":case"mins":case"min":case"m":return l*r;case"seconds":case"second":case"secs":case"sec":case"s":return l*t;case"milliseconds":case"millisecond":case"msecs":case"msec":case"ms":return l;default:return undefined}}function fmtShort(e){var a=Math.abs(e);if(a>=o){return Math.round(e/o)+"d"}if(a>=n){return Math.round(e/n)+"h"}if(a>=r){return Math.round(e/r)+"m"}if(a>=t){return Math.round(e/t)+"s"}return e+"ms"}function fmtLong(e){var a=Math.abs(e);if(a>=o){return plural(e,a,o,"day")}if(a>=n){return plural(e,a,n,"hour")}if(a>=r){return plural(e,a,r,"minute")}if(a>=t){return plural(e,a,t,"second")}return e+" ms"}function plural(e,t,r,n){var o=t>=r*1.5;return Math.round(e/r)+" "+n+(o?"s":"")}},3329:(e,t,r)=>{"use strict";var n=r(8835).parse;var o={ftp:21,gopher:70,http:80,https:443,ws:80,wss:443};var a=String.prototype.endsWith||function(e){return e.length<=this.length&&this.indexOf(e,this.length-e.length)!==-1};function getProxyForUrl(e){var t=typeof e==="string"?n(e):e||{};var r=t.protocol;var a=t.host;var s=t.port;if(typeof a!=="string"||!a||typeof r!=="string"){return""}r=r.split(":",1)[0];a=a.replace(/:\d*$/,"");s=parseInt(s)||o[r]||0;if(!shouldProxy(a,s)){return""}var i=getEnv("npm_config_"+r+"_proxy")||getEnv(r+"_proxy")||getEnv("npm_config_proxy")||getEnv("all_proxy");if(i&&i.indexOf("://")===-1){i=r+"://"+i}return i}function shouldProxy(e,t){var r=(getEnv("npm_config_no_proxy")||getEnv("no_proxy")).toLowerCase();if(!r){return true}if(r==="*"){return false}return r.split(/[,\s]/).every((function(r){if(!r){return true}var n=r.match(/^(.+):(\d+)$/);var o=n?n[1]:r;var s=n?parseInt(n[2]):0;if(s&&s!==t){return true}if(!/^[.*]/.test(o)){return e!==o}if(o.charAt(0)==="*"){o=o.slice(1)}return!a.call(e,o)}))}function getEnv(e){return process.env[e.toLowerCase()]||process.env[e.toUpperCase()]||""}t.getProxyForUrl=getProxyForUrl},9273:e=>{"use strict";class QuickLRU{constructor(e={}){if(!(e.maxSize&&e.maxSize>0)){throw new TypeError("`maxSize` must be a number greater than 0")}this.maxSize=e.maxSize;this.onEviction=e.onEviction;this.cache=new Map;this.oldCache=new Map;this._size=0}_set(e,t){this.cache.set(e,t);this._size++;if(this._size>=this.maxSize){this._size=0;if(typeof this.onEviction==="function"){for(const[e,t]of this.oldCache.entries()){this.onEviction(e,t)}}this.oldCache=this.cache;this.cache=new Map}}get(e){if(this.cache.has(e)){return this.cache.get(e)}if(this.oldCache.has(e)){const t=this.oldCache.get(e);this.oldCache.delete(e);this._set(e,t);return t}}set(e,t){if(this.cache.has(e)){this.cache.set(e,t)}else{this._set(e,t)}return this}has(e){return this.cache.has(e)||this.oldCache.has(e)}peek(e){if(this.cache.has(e)){return this.cache.get(e)}if(this.oldCache.has(e)){return this.oldCache.get(e)}}delete(e){const t=this.cache.delete(e);if(t){this._size--}return this.oldCache.delete(e)||t}clear(){this.cache.clear();this.oldCache.clear();this._size=0}*keys(){for(const[e]of this){yield e}}*values(){for(const[,e]of this){yield e}}*[Symbol.iterator](){for(const e of this.cache){yield e}for(const e of this.oldCache){const[t]=e;if(!this.cache.has(t)){yield e}}}get size(){let e=0;for(const t of this.oldCache.keys()){if(!this.cache.has(t)){e++}}return Math.min(this._size+e,this.maxSize)}}e.exports=QuickLRU},7353:(e,t,r)=>{var n=r(5588);var o=r(5622).join;var a=r(1705);var s="/etc";var i=process.platform==="win32";var l=i?process.env.USERPROFILE:process.env.HOME;e.exports=function(e,t,u,c){if("string"!==typeof e)throw new Error("rc(name): name *must* be string");if(!u)u=r(5871)(process.argv.slice(2));t=("string"===typeof t?n.json(t):t)||{};c=c||n.parse;var f=n.env(e+"_");var d=[t];var h=[];function addConfigFile(e){if(h.indexOf(e)>=0)return;var t=n.file(e);if(t){d.push(c(t));h.push(e)}}if(!i)[o(s,e,"config"),o(s,e+"rc")].forEach(addConfigFile);if(l)[o(l,".config",e,"config"),o(l,".config",e),o(l,"."+e,"config"),o(l,"."+e+"rc")].forEach(addConfigFile);addConfigFile(n.find("."+e+"rc"));if(f.config)addConfigFile(f.config);if(u.config)addConfigFile(u.config);return a.apply(null,d.concat([f,u,h.length?{configs:h,config:h[h.length-1]}:undefined]))}},5588:(e,t,r)=>{"use strict";var n=r(5747);var o=r(8885);var a=r(5622);var s=r(7035);var i=t.parse=function(e){if(/^\s*{/.test(e))return JSON.parse(s(e));return o.parse(e)};var l=t.file=function(){var e=[].slice.call(arguments).filter((function(e){return e!=null}));for(var t in e)if("string"!==typeof e[t])return;var r=a.join.apply(null,e);var o;try{return n.readFileSync(r,"utf-8")}catch(e){return}};var u=t.json=function(){var e=l.apply(null,arguments);return e?i(e):null};var c=t.env=function(e,t){t=t||process.env;var r={};var n=e.length;for(var o in t){if(o.toLowerCase().indexOf(e.toLowerCase())===0){var a=o.substring(n).split("__");var s;while((s=a.indexOf(""))>-1){a.splice(s,1)}var i=r;a.forEach((function _buildSubObj(e,r){if(!e||typeof i!=="object")return;if(r===a.length-1)i[e]=t[o];if(i[e]===undefined)i[e]={};i=i[e]}))}}return r};var f=t.find=function(){var e=a.join.apply(null,[].slice.call(arguments));function find(e,t){var r=a.join(e,t);try{n.statSync(r);return r}catch(r){if(a.dirname(e)!==e)return find(a.dirname(e),t)}}return find(process.cwd(),e)}},7035:e=>{"use strict";var t=1;var r=2;function stripWithoutWhitespace(){return""}function stripWithWhitespace(e,t,r){return e.slice(t,r).replace(/\S/g," ")}e.exports=function(e,n){n=n||{};var o;var a;var s=false;var i=false;var l=0;var u="";var c=n.whitespace===false?stripWithoutWhitespace:stripWithWhitespace;for(var f=0;f<e.length;f++){o=e[f];a=e[f+1];if(!i&&o==='"'){var d=e[f-1]==="\\"&&e[f-2]!=="\\";if(!d){s=!s}}if(s){continue}if(!i&&o+a==="//"){u+=e.slice(l,f);l=f;i=t;f++}else if(i===t&&o+a==="\r\n"){f++;i=false;u+=c(e,l,f);l=f;continue}else if(i===t&&o==="\n"){i=false;u+=c(e,l,f);l=f}else if(!i&&o+a==="/*"){u+=e.slice(l,f);l=f;i=r;f++;continue}else if(i===r&&o+a==="*/"){f++;i=false;u+=c(e,l,f+1);l=f+1;continue}}return u+(i?c(e.substr(l)):e.substr(l))}},8506:e=>{function decodeBase64(e){return Buffer.from(e,"base64").toString("utf8")}function encodeBase64(e){return Buffer.from(e,"utf8").toString("base64")}e.exports={decodeBase64:decodeBase64,encodeBase64:encodeBase64}},2968:(e,t,r)=>{var n=r(8835);var o=r(8506);var a=o.decodeBase64;var s=o.encodeBase64;var i=":_authToken";var l=":_auth";var u=":username";var c=":_password";e.exports=function(){var e;var t;if(arguments.length>=2){e=arguments[0];t=arguments[1]}else if(typeof arguments[0]==="string"){e=arguments[0]}else{t=arguments[0]}t=t||{};t.npmrc=t.npmrc||r(7353)("npm",{registry:"https://registry.npmjs.org/"},{config:process.env.npm_config_userconfig||process.env.NPM_CONFIG_USERCONFIG});e=e||t.npmrc.registry;return getRegistryAuthInfo(e,t)||getLegacyAuthInfo(t.npmrc)};function getRegistryAuthInfo(e,t){var r=n.parse(e,false,true);var o;while(o!=="/"&&r.pathname!==o){o=r.pathname||"/";var a="//"+r.host+o.replace(/\/$/,"");var s=getAuthInfoForUrl(a,t.npmrc);if(s){return s}if(!t.recursive){return/\/$/.test(e)?undefined:getRegistryAuthInfo(n.resolve(e,"."),t)}r.pathname=n.resolve(normalizePath(o),"..")||"/"}return undefined}function getLegacyAuthInfo(e){if(!e._auth){return undefined}var t=replaceEnvironmentVariable(e._auth);return{token:t,type:"Basic"}}function normalizePath(e){return e[e.length-1]==="/"?e:e+"/"}function getAuthInfoForUrl(e,t){var r=getBearerToken(t[e+i]||t[e+"/"+i]);if(r){return r}var n=t[e+u]||t[e+"/"+u];var o=t[e+c]||t[e+"/"+c];var a=getTokenForUsernameAndPassword(n,o);if(a){return a}var s=getLegacyAuthToken(t[e+l]||t[e+"/"+l]);if(s){return s}return undefined}function replaceEnvironmentVariable(e){return e.replace(/^\$\{?([^}]*)\}?$/,(function(e,t){return process.env[t]}))}function getBearerToken(e){if(!e){return undefined}var t=replaceEnvironmentVariable(e);return{token:t,type:"Bearer"}}function getTokenForUsernameAndPassword(e,t){if(!e||!t){return undefined}var r=a(replaceEnvironmentVariable(t));var n=s(e+":"+r);return{token:n,type:"Basic",password:r,username:e}}function getLegacyAuthToken(e){if(!e){return undefined}var t=replaceEnvironmentVariable(e);return{token:t,type:"Basic"}}},5418:(e,t,r)=>{e.exports=function(e,t){var n=t||r(7353)("npm",{registry:"https://registry.npmjs.org/"});var o=n[e+":registry"]||n.registry;return o.slice(-1)==="/"?o:o+"/"}},1532:(e,t,r)=>{const n=Symbol("SemVer ANY");class Comparator{static get ANY(){return n}constructor(e,t){t=o(t);if(e instanceof Comparator){if(e.loose===!!t.loose){return e}else{e=e.value}}l("comparator",e,t);this.options=t;this.loose=!!t.loose;this.parse(e);if(this.semver===n){this.value=""}else{this.value=this.operator+this.semver.version}l("comp",this)}parse(e){const t=this.options.loose?a[s.COMPARATORLOOSE]:a[s.COMPARATOR];const r=e.match(t);if(!r){throw new TypeError(`Invalid comparator: ${e}`)}this.operator=r[1]!==undefined?r[1]:"";if(this.operator==="="){this.operator=""}if(!r[2]){this.semver=n}else{this.semver=new u(r[2],this.options.loose)}}toString(){return this.value}test(e){l("Comparator.test",e,this.options.loose);if(this.semver===n||e===n){return true}if(typeof e==="string"){try{e=new u(e,this.options)}catch(e){return false}}return i(e,this.operator,this.semver,this.options)}intersects(e,t){if(!(e instanceof Comparator)){throw new TypeError("a Comparator is required")}if(!t||typeof t!=="object"){t={loose:!!t,includePrerelease:false}}if(this.operator===""){if(this.value===""){return true}return new c(e.value,t).test(this.value)}else if(e.operator===""){if(e.value===""){return true}return new c(this.value,t).test(e.semver)}const r=(this.operator===">="||this.operator===">")&&(e.operator===">="||e.operator===">");const n=(this.operator==="<="||this.operator==="<")&&(e.operator==="<="||e.operator==="<");const o=this.semver.version===e.semver.version;const a=(this.operator===">="||this.operator==="<=")&&(e.operator===">="||e.operator==="<=");const s=i(this.semver,"<",e.semver,t)&&(this.operator===">="||this.operator===">")&&(e.operator==="<="||e.operator==="<");const l=i(this.semver,">",e.semver,t)&&(this.operator==="<="||this.operator==="<")&&(e.operator===">="||e.operator===">");return r||n||o&&a||s||l}}e.exports=Comparator;const o=r(785);const{re:a,t:s}=r(9523);const i=r(4359);const l=r(427);const u=r(8088);const c=r(9828)},9828:(e,t,r)=>{class Range{constructor(e,t){t=a(t);if(e instanceof Range){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{return new Range(e.raw,t)}}if(e instanceof s){this.raw=e.value;this.set=[[e]];this.format();return this}this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;this.raw=e;this.set=e.split(/\s*\|\|\s*/).map((e=>this.parseRange(e.trim()))).filter((e=>e.length));if(!this.set.length){throw new TypeError(`Invalid SemVer Range: ${e}`)}if(this.set.length>1){const e=this.set[0];this.set=this.set.filter((e=>!isNullSet(e[0])));if(this.set.length===0)this.set=[e];else if(this.set.length>1){for(const e of this.set){if(e.length===1&&isAny(e[0])){this.set=[e];break}}}}this.format()}format(){this.range=this.set.map((e=>e.join(" ").trim())).join("||").trim();return this.range}toString(){return this.range}parseRange(e){e=e.trim();const t=Object.keys(this.options).join(",");const r=`parseRange:${t}:${e}`;const n=o.get(r);if(n)return n;const a=this.options.loose;const l=a?u[c.HYPHENRANGELOOSE]:u[c.HYPHENRANGE];e=e.replace(l,hyphenReplace(this.options.includePrerelease));i("hyphen replace",e);e=e.replace(u[c.COMPARATORTRIM],f);i("comparator trim",e,u[c.COMPARATORTRIM]);e=e.replace(u[c.TILDETRIM],d);e=e.replace(u[c.CARETTRIM],h);e=e.split(/\s+/).join(" ");const p=a?u[c.COMPARATORLOOSE]:u[c.COMPARATOR];const m=e.split(" ").map((e=>parseComparator(e,this.options))).join(" ").split(/\s+/).map((e=>replaceGTE0(e,this.options))).filter(this.options.loose?e=>!!e.match(p):()=>true).map((e=>new s(e,this.options)));const b=m.length;const g=new Map;for(const e of m){if(isNullSet(e))return[e];g.set(e.value,e)}if(g.size>1&&g.has(""))g.delete("");const y=[...g.values()];o.set(r,y);return y}intersects(e,t){if(!(e instanceof Range)){throw new TypeError("a Range is required")}return this.set.some((r=>isSatisfiable(r,t)&&e.set.some((e=>isSatisfiable(e,t)&&r.every((r=>e.every((e=>r.intersects(e,t)))))))))}test(e){if(!e){return false}if(typeof e==="string"){try{e=new l(e,this.options)}catch(e){return false}}for(let t=0;t<this.set.length;t++){if(testSet(this.set[t],e,this.options)){return true}}return false}}e.exports=Range;const n=r(7129);const o=new n({max:1e3});const a=r(785);const s=r(1532);const i=r(427);const l=r(8088);const{re:u,t:c,comparatorTrimReplace:f,tildeTrimReplace:d,caretTrimReplace:h}=r(9523);const isNullSet=e=>e.value==="<0.0.0-0";const isAny=e=>e.value==="";const isSatisfiable=(e,t)=>{let r=true;const n=e.slice();let o=n.pop();while(r&&n.length){r=n.every((e=>o.intersects(e,t)));o=n.pop()}return r};const parseComparator=(e,t)=>{i("comp",e,t);e=replaceCarets(e,t);i("caret",e);e=replaceTildes(e,t);i("tildes",e);e=replaceXRanges(e,t);i("xrange",e);e=replaceStars(e,t);i("stars",e);return e};const isX=e=>!e||e.toLowerCase()==="x"||e==="*";const replaceTildes=(e,t)=>e.trim().split(/\s+/).map((e=>replaceTilde(e,t))).join(" ");const replaceTilde=(e,t)=>{const r=t.loose?u[c.TILDELOOSE]:u[c.TILDE];return e.replace(r,((t,r,n,o,a)=>{i("tilde",e,t,r,n,o,a);let s;if(isX(r)){s=""}else if(isX(n)){s=`>=${r}.0.0 <${+r+1}.0.0-0`}else if(isX(o)){s=`>=${r}.${n}.0 <${r}.${+n+1}.0-0`}else if(a){i("replaceTilde pr",a);s=`>=${r}.${n}.${o}-${a} <${r}.${+n+1}.0-0`}else{s=`>=${r}.${n}.${o} <${r}.${+n+1}.0-0`}i("tilde return",s);return s}))};const replaceCarets=(e,t)=>e.trim().split(/\s+/).map((e=>replaceCaret(e,t))).join(" ");const replaceCaret=(e,t)=>{i("caret",e,t);const r=t.loose?u[c.CARETLOOSE]:u[c.CARET];const n=t.includePrerelease?"-0":"";return e.replace(r,((t,r,o,a,s)=>{i("caret",e,t,r,o,a,s);let l;if(isX(r)){l=""}else if(isX(o)){l=`>=${r}.0.0${n} <${+r+1}.0.0-0`}else if(isX(a)){if(r==="0"){l=`>=${r}.${o}.0${n} <${r}.${+o+1}.0-0`}else{l=`>=${r}.${o}.0${n} <${+r+1}.0.0-0`}}else if(s){i("replaceCaret pr",s);if(r==="0"){if(o==="0"){l=`>=${r}.${o}.${a}-${s} <${r}.${o}.${+a+1}-0`}else{l=`>=${r}.${o}.${a}-${s} <${r}.${+o+1}.0-0`}}else{l=`>=${r}.${o}.${a}-${s} <${+r+1}.0.0-0`}}else{i("no pr");if(r==="0"){if(o==="0"){l=`>=${r}.${o}.${a}${n} <${r}.${o}.${+a+1}-0`}else{l=`>=${r}.${o}.${a}${n} <${r}.${+o+1}.0-0`}}else{l=`>=${r}.${o}.${a} <${+r+1}.0.0-0`}}i("caret return",l);return l}))};const replaceXRanges=(e,t)=>{i("replaceXRanges",e,t);return e.split(/\s+/).map((e=>replaceXRange(e,t))).join(" ")};const replaceXRange=(e,t)=>{e=e.trim();const r=t.loose?u[c.XRANGELOOSE]:u[c.XRANGE];return e.replace(r,((r,n,o,a,s,l)=>{i("xRange",e,r,n,o,a,s,l);const u=isX(o);const c=u||isX(a);const f=c||isX(s);const d=f;if(n==="="&&d){n=""}l=t.includePrerelease?"-0":"";if(u){if(n===">"||n==="<"){r="<0.0.0-0"}else{r="*"}}else if(n&&d){if(c){a=0}s=0;if(n===">"){n=">=";if(c){o=+o+1;a=0;s=0}else{a=+a+1;s=0}}else if(n==="<="){n="<";if(c){o=+o+1}else{a=+a+1}}if(n==="<")l="-0";r=`${n+o}.${a}.${s}${l}`}else if(c){r=`>=${o}.0.0${l} <${+o+1}.0.0-0`}else if(f){r=`>=${o}.${a}.0${l} <${o}.${+a+1}.0-0`}i("xRange return",r);return r}))};const replaceStars=(e,t)=>{i("replaceStars",e,t);return e.trim().replace(u[c.STAR],"")};const replaceGTE0=(e,t)=>{i("replaceGTE0",e,t);return e.trim().replace(u[t.includePrerelease?c.GTE0PRE:c.GTE0],"")};const hyphenReplace=e=>(t,r,n,o,a,s,i,l,u,c,f,d,h)=>{if(isX(n)){r=""}else if(isX(o)){r=`>=${n}.0.0${e?"-0":""}`}else if(isX(a)){r=`>=${n}.${o}.0${e?"-0":""}`}else if(s){r=`>=${r}`}else{r=`>=${r}${e?"-0":""}`}if(isX(u)){l=""}else if(isX(c)){l=`<${+u+1}.0.0-0`}else if(isX(f)){l=`<${u}.${+c+1}.0-0`}else if(d){l=`<=${u}.${c}.${f}-${d}`}else if(e){l=`<${u}.${c}.${+f+1}-0`}else{l=`<=${l}`}return`${r} ${l}`.trim()};const testSet=(e,t,r)=>{for(let r=0;r<e.length;r++){if(!e[r].test(t)){return false}}if(t.prerelease.length&&!r.includePrerelease){for(let r=0;r<e.length;r++){i(e[r].semver);if(e[r].semver===s.ANY){continue}if(e[r].semver.prerelease.length>0){const n=e[r].semver;if(n.major===t.major&&n.minor===t.minor&&n.patch===t.patch){return true}}}return false}return true}},8088:(e,t,r)=>{const n=r(427);const{MAX_LENGTH:o,MAX_SAFE_INTEGER:a}=r(2293);const{re:s,t:i}=r(9523);const l=r(785);const{compareIdentifiers:u}=r(2463);class SemVer{constructor(e,t){t=l(t);if(e instanceof SemVer){if(e.loose===!!t.loose&&e.includePrerelease===!!t.includePrerelease){return e}else{e=e.version}}else if(typeof e!=="string"){throw new TypeError(`Invalid Version: ${e}`)}if(e.length>o){throw new TypeError(`version is longer than ${o} characters`)}n("SemVer",e,t);this.options=t;this.loose=!!t.loose;this.includePrerelease=!!t.includePrerelease;const r=e.trim().match(t.loose?s[i.LOOSE]:s[i.FULL]);if(!r){throw new TypeError(`Invalid Version: ${e}`)}this.raw=e;this.major=+r[1];this.minor=+r[2];this.patch=+r[3];if(this.major>a||this.major<0){throw new TypeError("Invalid major version")}if(this.minor>a||this.minor<0){throw new TypeError("Invalid minor version")}if(this.patch>a||this.patch<0){throw new TypeError("Invalid patch version")}if(!r[4]){this.prerelease=[]}else{this.prerelease=r[4].split(".").map((e=>{if(/^[0-9]+$/.test(e)){const t=+e;if(t>=0&&t<a){return t}}return e}))}this.build=r[5]?r[5].split("."):[];this.format()}format(){this.version=`${this.major}.${this.minor}.${this.patch}`;if(this.prerelease.length){this.version+=`-${this.prerelease.join(".")}`}return this.version}toString(){return this.version}compare(e){n("SemVer.compare",this.version,this.options,e);if(!(e instanceof SemVer)){if(typeof e==="string"&&e===this.version){return 0}e=new SemVer(e,this.options)}if(e.version===this.version){return 0}return this.compareMain(e)||this.comparePre(e)}compareMain(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}return u(this.major,e.major)||u(this.minor,e.minor)||u(this.patch,e.patch)}comparePre(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}if(this.prerelease.length&&!e.prerelease.length){return-1}else if(!this.prerelease.length&&e.prerelease.length){return 1}else if(!this.prerelease.length&&!e.prerelease.length){return 0}let t=0;do{const r=this.prerelease[t];const o=e.prerelease[t];n("prerelease compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}compareBuild(e){if(!(e instanceof SemVer)){e=new SemVer(e,this.options)}let t=0;do{const r=this.build[t];const o=e.build[t];n("prerelease compare",t,r,o);if(r===undefined&&o===undefined){return 0}else if(o===undefined){return 1}else if(r===undefined){return-1}else if(r===o){continue}else{return u(r,o)}}while(++t)}inc(e,t){switch(e){case"premajor":this.prerelease.length=0;this.patch=0;this.minor=0;this.major++;this.inc("pre",t);break;case"preminor":this.prerelease.length=0;this.patch=0;this.minor++;this.inc("pre",t);break;case"prepatch":this.prerelease.length=0;this.inc("patch",t);this.inc("pre",t);break;case"prerelease":if(this.prerelease.length===0){this.inc("patch",t)}this.inc("pre",t);break;case"major":if(this.minor!==0||this.patch!==0||this.prerelease.length===0){this.major++}this.minor=0;this.patch=0;this.prerelease=[];break;case"minor":if(this.patch!==0||this.prerelease.length===0){this.minor++}this.patch=0;this.prerelease=[];break;case"patch":if(this.prerelease.length===0){this.patch++}this.prerelease=[];break;case"pre":if(this.prerelease.length===0){this.prerelease=[0]}else{let e=this.prerelease.length;while(--e>=0){if(typeof this.prerelease[e]==="number"){this.prerelease[e]++;e=-2}}if(e===-1){this.prerelease.push(0)}}if(t){if(this.prerelease[0]===t){if(isNaN(this.prerelease[1])){this.prerelease=[t,0]}}else{this.prerelease=[t,0]}}break;default:throw new Error(`invalid increment argument: ${e}`)}this.format();this.raw=this.version;return this}}e.exports=SemVer},8848:(e,t,r)=>{const n=r(5925);const clean=(e,t)=>{const r=n(e.trim().replace(/^[=v]+/,""),t);return r?r.version:null};e.exports=clean},4359:(e,t,r)=>{const n=r(1898);const o=r(6017);const a=r(4123);const s=r(5522);const i=r(194);const l=r(7520);const cmp=(e,t,r,u)=>{switch(t){case"===":if(typeof e==="object")e=e.version;if(typeof r==="object")r=r.version;return e===r;case"!==":if(typeof e==="object")e=e.version;if(typeof r==="object")r=r.version;return e!==r;case"":case"=":case"==":return n(e,r,u);case"!=":return o(e,r,u);case">":return a(e,r,u);case">=":return s(e,r,u);case"<":return i(e,r,u);case"<=":return l(e,r,u);default:throw new TypeError(`Invalid operator: ${t}`)}};e.exports=cmp},3466:(e,t,r)=>{const n=r(8088);const o=r(5925);const{re:a,t:s}=r(9523);const coerce=(e,t)=>{if(e instanceof n){return e}if(typeof e==="number"){e=String(e)}if(typeof e!=="string"){return null}t=t||{};let r=null;if(!t.rtl){r=e.match(a[s.COERCE])}else{let t;while((t=a[s.COERCERTL].exec(e))&&(!r||r.index+r[0].length!==e.length)){if(!r||t.index+t[0].length!==r.index+r[0].length){r=t}a[s.COERCERTL].lastIndex=t.index+t[1].length+t[2].length}a[s.COERCERTL].lastIndex=-1}if(r===null)return null;return o(`${r[2]}.${r[3]||"0"}.${r[4]||"0"}`,t)};e.exports=coerce},2156:(e,t,r)=>{const n=r(8088);const compareBuild=(e,t,r)=>{const o=new n(e,r);const a=new n(t,r);return o.compare(a)||o.compareBuild(a)};e.exports=compareBuild},2804:(e,t,r)=>{const n=r(4309);const compareLoose=(e,t)=>n(e,t,true);e.exports=compareLoose},4309:(e,t,r)=>{const n=r(8088);const compare=(e,t,r)=>new n(e,r).compare(new n(t,r));e.exports=compare},4297:(e,t,r)=>{const n=r(5925);const o=r(1898);const diff=(e,t)=>{if(o(e,t)){return null}else{const r=n(e);const o=n(t);const a=r.prerelease.length||o.prerelease.length;const s=a?"pre":"";const i=a?"prerelease":"";for(const e in r){if(e==="major"||e==="minor"||e==="patch"){if(r[e]!==o[e]){return s+e}}}return i}};e.exports=diff},1898:(e,t,r)=>{const n=r(4309);const eq=(e,t,r)=>n(e,t,r)===0;e.exports=eq},4123:(e,t,r)=>{const n=r(4309);const gt=(e,t,r)=>n(e,t,r)>0;e.exports=gt},5522:(e,t,r)=>{const n=r(4309);const gte=(e,t,r)=>n(e,t,r)>=0;e.exports=gte},929:(e,t,r)=>{const n=r(8088);const inc=(e,t,r,o)=>{if(typeof r==="string"){o=r;r=undefined}try{return new n(e,r).inc(t,o).version}catch(e){return null}};e.exports=inc},194:(e,t,r)=>{const n=r(4309);const lt=(e,t,r)=>n(e,t,r)<0;e.exports=lt},7520:(e,t,r)=>{const n=r(4309);const lte=(e,t,r)=>n(e,t,r)<=0;e.exports=lte},6688:(e,t,r)=>{const n=r(8088);const major=(e,t)=>new n(e,t).major;e.exports=major},8447:(e,t,r)=>{const n=r(8088);const minor=(e,t)=>new n(e,t).minor;e.exports=minor},6017:(e,t,r)=>{const n=r(4309);const neq=(e,t,r)=>n(e,t,r)!==0;e.exports=neq},5925:(e,t,r)=>{const{MAX_LENGTH:n}=r(2293);const{re:o,t:a}=r(9523);const s=r(8088);const i=r(785);const parse=(e,t)=>{t=i(t);if(e instanceof s){return e}if(typeof e!=="string"){return null}if(e.length>n){return null}const r=t.loose?o[a.LOOSE]:o[a.FULL];if(!r.test(e)){return null}try{return new s(e,t)}catch(e){return null}};e.exports=parse},2866:(e,t,r)=>{const n=r(8088);const patch=(e,t)=>new n(e,t).patch;e.exports=patch},6014:(e,t,r)=>{const n=r(5925);const prerelease=(e,t)=>{const r=n(e,t);return r&&r.prerelease.length?r.prerelease:null};e.exports=prerelease},6417:(e,t,r)=>{const n=r(4309);const rcompare=(e,t,r)=>n(t,e,r);e.exports=rcompare},8701:(e,t,r)=>{const n=r(2156);const rsort=(e,t)=>e.sort(((e,r)=>n(r,e,t)));e.exports=rsort},6055:(e,t,r)=>{const n=r(9828);const satisfies=(e,t,r)=>{try{t=new n(t,r)}catch(e){return false}return t.test(e)};e.exports=satisfies},1426:(e,t,r)=>{const n=r(2156);const sort=(e,t)=>e.sort(((e,r)=>n(e,r,t)));e.exports=sort},9601:(e,t,r)=>{const n=r(5925);const valid=(e,t)=>{const r=n(e,t);return r?r.version:null};e.exports=valid},1383:(e,t,r)=>{const n=r(9523);e.exports={re:n.re,src:n.src,tokens:n.t,SEMVER_SPEC_VERSION:r(2293).SEMVER_SPEC_VERSION,SemVer:r(8088),compareIdentifiers:r(2463).compareIdentifiers,rcompareIdentifiers:r(2463).rcompareIdentifiers,parse:r(5925),valid:r(9601),clean:r(8848),inc:r(929),diff:r(4297),major:r(6688),minor:r(8447),patch:r(2866),prerelease:r(6014),compare:r(4309),rcompare:r(6417),compareLoose:r(2804),compareBuild:r(2156),sort:r(1426),rsort:r(8701),gt:r(4123),lt:r(194),eq:r(1898),neq:r(6017),gte:r(5522),lte:r(7520),cmp:r(4359),coerce:r(3466),Comparator:r(1532),Range:r(9828),satisfies:r(6055),toComparators:r(2706),maxSatisfying:r(579),minSatisfying:r(832),minVersion:r(4179),validRange:r(2098),outside:r(420),gtr:r(9380),ltr:r(3323),intersects:r(7008),simplifyRange:r(5297),subset:r(7863)}},2293:e=>{const t="2.0.0";const r=256;const n=Number.MAX_SAFE_INTEGER||9007199254740991;const o=16;e.exports={SEMVER_SPEC_VERSION:t,MAX_LENGTH:r,MAX_SAFE_INTEGER:n,MAX_SAFE_COMPONENT_LENGTH:o}},427:e=>{const t=typeof process==="object"&&process.env&&process.env.NODE_DEBUG&&/\bsemver\b/i.test(process.env.NODE_DEBUG)?(...e)=>console.error("SEMVER",...e):()=>{};e.exports=t},2463:e=>{const t=/^[0-9]+$/;const compareIdentifiers=(e,r)=>{const n=t.test(e);const o=t.test(r);if(n&&o){e=+e;r=+r}return e===r?0:n&&!o?-1:o&&!n?1:e<r?-1:1};const rcompareIdentifiers=(e,t)=>compareIdentifiers(t,e);e.exports={compareIdentifiers:compareIdentifiers,rcompareIdentifiers:rcompareIdentifiers}},785:e=>{const t=["includePrerelease","loose","rtl"];const parseOptions=e=>!e?{}:typeof e!=="object"?{loose:true}:t.filter((t=>e[t])).reduce(((e,t)=>{e[t]=true;return e}),{});e.exports=parseOptions},9523:(e,t,r)=>{const{MAX_SAFE_COMPONENT_LENGTH:n}=r(2293);const o=r(427);t=e.exports={};const a=t.re=[];const s=t.src=[];const i=t.t={};let l=0;const createToken=(e,t,r)=>{const n=l++;o(n,t);i[e]=n;s[n]=t;a[n]=new RegExp(t,r?"g":undefined)};createToken("NUMERICIDENTIFIER","0|[1-9]\\d*");createToken("NUMERICIDENTIFIERLOOSE","[0-9]+");createToken("NONNUMERICIDENTIFIER","\\d*[a-zA-Z-][a-zA-Z0-9-]*");createToken("MAINVERSION",`(${s[i.NUMERICIDENTIFIER]})\\.`+`(${s[i.NUMERICIDENTIFIER]})\\.`+`(${s[i.NUMERICIDENTIFIER]})`);createToken("MAINVERSIONLOOSE",`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[i.NUMERICIDENTIFIERLOOSE]})\\.`+`(${s[i.NUMERICIDENTIFIERLOOSE]})`);createToken("PRERELEASEIDENTIFIER",`(?:${s[i.NUMERICIDENTIFIER]}|${s[i.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASEIDENTIFIERLOOSE",`(?:${s[i.NUMERICIDENTIFIERLOOSE]}|${s[i.NONNUMERICIDENTIFIER]})`);createToken("PRERELEASE",`(?:-(${s[i.PRERELEASEIDENTIFIER]}(?:\\.${s[i.PRERELEASEIDENTIFIER]})*))`);createToken("PRERELEASELOOSE",`(?:-?(${s[i.PRERELEASEIDENTIFIERLOOSE]}(?:\\.${s[i.PRERELEASEIDENTIFIERLOOSE]})*))`);createToken("BUILDIDENTIFIER","[0-9A-Za-z-]+");createToken("BUILD",`(?:\\+(${s[i.BUILDIDENTIFIER]}(?:\\.${s[i.BUILDIDENTIFIER]})*))`);createToken("FULLPLAIN",`v?${s[i.MAINVERSION]}${s[i.PRERELEASE]}?${s[i.BUILD]}?`);createToken("FULL",`^${s[i.FULLPLAIN]}$`);createToken("LOOSEPLAIN",`[v=\\s]*${s[i.MAINVERSIONLOOSE]}${s[i.PRERELEASELOOSE]}?${s[i.BUILD]}?`);createToken("LOOSE",`^${s[i.LOOSEPLAIN]}$`);createToken("GTLT","((?:<|>)?=?)");createToken("XRANGEIDENTIFIERLOOSE",`${s[i.NUMERICIDENTIFIERLOOSE]}|x|X|\\*`);createToken("XRANGEIDENTIFIER",`${s[i.NUMERICIDENTIFIER]}|x|X|\\*`);createToken("XRANGEPLAIN",`[v=\\s]*(${s[i.XRANGEIDENTIFIER]})`+`(?:\\.(${s[i.XRANGEIDENTIFIER]})`+`(?:\\.(${s[i.XRANGEIDENTIFIER]})`+`(?:${s[i.PRERELEASE]})?${s[i.BUILD]}?`+`)?)?`);createToken("XRANGEPLAINLOOSE",`[v=\\s]*(${s[i.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})`+`(?:\\.(${s[i.XRANGEIDENTIFIERLOOSE]})`+`(?:${s[i.PRERELEASELOOSE]})?${s[i.BUILD]}?`+`)?)?`);createToken("XRANGE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAIN]}$`);createToken("XRANGELOOSE",`^${s[i.GTLT]}\\s*${s[i.XRANGEPLAINLOOSE]}$`);createToken("COERCE",`${"(^|[^\\d])"+"(\\d{1,"}${n}})`+`(?:\\.(\\d{1,${n}}))?`+`(?:\\.(\\d{1,${n}}))?`+`(?:$|[^\\d])`);createToken("COERCERTL",s[i.COERCE],true);createToken("LONETILDE","(?:~>?)");createToken("TILDETRIM",`(\\s*)${s[i.LONETILDE]}\\s+`,true);t.tildeTrimReplace="$1~";createToken("TILDE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAIN]}$`);createToken("TILDELOOSE",`^${s[i.LONETILDE]}${s[i.XRANGEPLAINLOOSE]}$`);createToken("LONECARET","(?:\\^)");createToken("CARETTRIM",`(\\s*)${s[i.LONECARET]}\\s+`,true);t.caretTrimReplace="$1^";createToken("CARET",`^${s[i.LONECARET]}${s[i.XRANGEPLAIN]}$`);createToken("CARETLOOSE",`^${s[i.LONECARET]}${s[i.XRANGEPLAINLOOSE]}$`);createToken("COMPARATORLOOSE",`^${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]})$|^$`);createToken("COMPARATOR",`^${s[i.GTLT]}\\s*(${s[i.FULLPLAIN]})$|^$`);createToken("COMPARATORTRIM",`(\\s*)${s[i.GTLT]}\\s*(${s[i.LOOSEPLAIN]}|${s[i.XRANGEPLAIN]})`,true);t.comparatorTrimReplace="$1$2$3";createToken("HYPHENRANGE",`^\\s*(${s[i.XRANGEPLAIN]})`+`\\s+-\\s+`+`(${s[i.XRANGEPLAIN]})`+`\\s*$`);createToken("HYPHENRANGELOOSE",`^\\s*(${s[i.XRANGEPLAINLOOSE]})`+`\\s+-\\s+`+`(${s[i.XRANGEPLAINLOOSE]})`+`\\s*$`);createToken("STAR","(<|>)?=?\\s*\\*");createToken("GTE0","^\\s*>=\\s*0.0.0\\s*$");createToken("GTE0PRE","^\\s*>=\\s*0.0.0-0\\s*$")},9380:(e,t,r)=>{const n=r(420);const gtr=(e,t,r)=>n(e,t,">",r);e.exports=gtr},7008:(e,t,r)=>{const n=r(9828);const intersects=(e,t,r)=>{e=new n(e,r);t=new n(t,r);return e.intersects(t)};e.exports=intersects},3323:(e,t,r)=>{const n=r(420);const ltr=(e,t,r)=>n(e,t,"<",r);e.exports=ltr},579:(e,t,r)=>{const n=r(8088);const o=r(9828);const maxSatisfying=(e,t,r)=>{let a=null;let s=null;let i=null;try{i=new o(t,r)}catch(e){return null}e.forEach((e=>{if(i.test(e)){if(!a||s.compare(e)===-1){a=e;s=new n(a,r)}}}));return a};e.exports=maxSatisfying},832:(e,t,r)=>{const n=r(8088);const o=r(9828);const minSatisfying=(e,t,r)=>{let a=null;let s=null;let i=null;try{i=new o(t,r)}catch(e){return null}e.forEach((e=>{if(i.test(e)){if(!a||s.compare(e)===1){a=e;s=new n(a,r)}}}));return a};e.exports=minSatisfying},4179:(e,t,r)=>{const n=r(8088);const o=r(9828);const a=r(4123);const minVersion=(e,t)=>{e=new o(e,t);let r=new n("0.0.0");if(e.test(r)){return r}r=new n("0.0.0-0");if(e.test(r)){return r}r=null;for(let t=0;t<e.set.length;++t){const o=e.set[t];let s=null;o.forEach((e=>{const t=new n(e.semver.version);switch(e.operator){case">":if(t.prerelease.length===0){t.patch++}else{t.prerelease.push(0)}t.raw=t.format();case"":case">=":if(!s||a(t,s)){s=t}break;case"<":case"<=":break;default:throw new Error(`Unexpected operation: ${e.operator}`)}}));if(s&&(!r||a(r,s)))r=s}if(r&&e.test(r)){return r}return null};e.exports=minVersion},420:(e,t,r)=>{const n=r(8088);const o=r(1532);const{ANY:a}=o;const s=r(9828);const i=r(6055);const l=r(4123);const u=r(194);const c=r(7520);const f=r(5522);const outside=(e,t,r,d)=>{e=new n(e,d);t=new s(t,d);let h,p,m,b,g;switch(r){case">":h=l;p=c;m=u;b=">";g=">=";break;case"<":h=u;p=f;m=l;b="<";g="<=";break;default:throw new TypeError('Must provide a hilo val of "<" or ">"')}if(i(e,t,d)){return false}for(let r=0;r<t.set.length;++r){const n=t.set[r];let s=null;let i=null;n.forEach((e=>{if(e.semver===a){e=new o(">=0.0.0")}s=s||e;i=i||e;if(h(e.semver,s.semver,d)){s=e}else if(m(e.semver,i.semver,d)){i=e}}));if(s.operator===b||s.operator===g){return false}if((!i.operator||i.operator===b)&&p(e,i.semver)){return false}else if(i.operator===g&&m(e,i.semver)){return false}}return true};e.exports=outside},5297:(e,t,r)=>{const n=r(6055);const o=r(4309);e.exports=(e,t,r)=>{const a=[];let s=null;let i=null;const l=e.sort(((e,t)=>o(e,t,r)));for(const e of l){const o=n(e,t,r);if(o){i=e;if(!s)s=e}else{if(i){a.push([s,i])}i=null;s=null}}if(s)a.push([s,null]);const u=[];for(const[e,t]of a){if(e===t)u.push(e);else if(!t&&e===l[0])u.push("*");else if(!t)u.push(`>=${e}`);else if(e===l[0])u.push(`<=${t}`);else u.push(`${e} - ${t}`)}const c=u.join(" || ");const f=typeof t.raw==="string"?t.raw:String(t);return c.length<f.length?c:t}},7863:(e,t,r)=>{const n=r(9828);const o=r(1532);const{ANY:a}=o;const s=r(6055);const i=r(4309);const subset=(e,t,r={})=>{if(e===t)return true;e=new n(e,r);t=new n(t,r);let o=false;e:for(const n of e.set){for(const e of t.set){const t=simpleSubset(n,e,r);o=o||t!==null;if(t)continue e}if(o)return false}return true};const simpleSubset=(e,t,r)=>{if(e===t)return true;if(e.length===1&&e[0].semver===a){if(t.length===1&&t[0].semver===a)return true;else if(r.includePrerelease)e=[new o(">=0.0.0-0")];else e=[new o(">=0.0.0")]}if(t.length===1&&t[0].semver===a){if(r.includePrerelease)return true;else t=[new o(">=0.0.0")]}const n=new Set;let l,u;for(const t of e){if(t.operator===">"||t.operator===">=")l=higherGT(l,t,r);else if(t.operator==="<"||t.operator==="<=")u=lowerLT(u,t,r);else n.add(t.semver)}if(n.size>1)return null;let c;if(l&&u){c=i(l.semver,u.semver,r);if(c>0)return null;else if(c===0&&(l.operator!==">="||u.operator!=="<="))return null}for(const e of n){if(l&&!s(e,String(l),r))return null;if(u&&!s(e,String(u),r))return null;for(const n of t){if(!s(e,String(n),r))return false}return true}let f,d;let h,p;let m=u&&!r.includePrerelease&&u.semver.prerelease.length?u.semver:false;let b=l&&!r.includePrerelease&&l.semver.prerelease.length?l.semver:false;if(m&&m.prerelease.length===1&&u.operator==="<"&&m.prerelease[0]===0){m=false}for(const e of t){p=p||e.operator===">"||e.operator===">=";h=h||e.operator==="<"||e.operator==="<=";if(l){if(b){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===b.major&&e.semver.minor===b.minor&&e.semver.patch===b.patch){b=false}}if(e.operator===">"||e.operator===">="){f=higherGT(l,e,r);if(f===e&&f!==l)return false}else if(l.operator===">="&&!s(l.semver,String(e),r))return false}if(u){if(m){if(e.semver.prerelease&&e.semver.prerelease.length&&e.semver.major===m.major&&e.semver.minor===m.minor&&e.semver.patch===m.patch){m=false}}if(e.operator==="<"||e.operator==="<="){d=lowerLT(u,e,r);if(d===e&&d!==u)return false}else if(u.operator==="<="&&!s(u.semver,String(e),r))return false}if(!e.operator&&(u||l)&&c!==0)return false}if(l&&h&&!u&&c!==0)return false;if(u&&p&&!l&&c!==0)return false;if(b||m)return false;return true};const higherGT=(e,t,r)=>{if(!e)return t;const n=i(e.semver,t.semver,r);return n>0?e:n<0?t:t.operator===">"&&e.operator===">="?t:e};const lowerLT=(e,t,r)=>{if(!e)return t;const n=i(e.semver,t.semver,r);return n<0?e:n>0?t:t.operator==="<"&&e.operator==="<="?t:e};e.exports=subset},2706:(e,t,r)=>{const n=r(9828);const toComparators=(e,t)=>new n(e,t).set.map((e=>e.map((e=>e.value)).join(" ").trim().split(" ")));e.exports=toComparators},2098:(e,t,r)=>{const n=r(9828);const validRange=(e,t)=>{try{return new n(e,t).range||"*"}catch(e){return null}};e.exports=validRange},9318:(e,t,r)=>{"use strict";const n=r(2087);const o=r(1621);const a=process.env;let s;if(o("no-color")||o("no-colors")||o("color=false")){s=false}else if(o("color")||o("colors")||o("color=true")||o("color=always")){s=true}if("FORCE_COLOR"in a){s=a.FORCE_COLOR.length===0||parseInt(a.FORCE_COLOR,10)!==0}function translateLevel(e){if(e===0){return false}return{level:e,hasBasic:true,has256:e>=2,has16m:e>=3}}function supportsColor(e){if(s===false){return 0}if(o("color=16m")||o("color=full")||o("color=truecolor")){return 3}if(o("color=256")){return 2}if(e&&!e.isTTY&&s!==true){return 0}const t=s?1:0;if(process.platform==="win32"){const e=n.release().split(".");if(Number(process.versions.node.split(".")[0])>=8&&Number(e[0])>=10&&Number(e[2])>=10586){return Number(e[2])>=14931?3:2}return 1}if("CI"in a){if(["TRAVIS","CIRCLECI","APPVEYOR","GITLAB_CI"].some((e=>e in a))||a.CI_NAME==="codeship"){return 1}return t}if("TEAMCITY_VERSION"in a){return/^(9\.(0*[1-9]\d*)\.|\d{2,}\.)/.test(a.TEAMCITY_VERSION)?1:0}if(a.COLORTERM==="truecolor"){return 3}if("TERM_PROGRAM"in a){const e=parseInt((a.TERM_PROGRAM_VERSION||"").split(".")[0],10);switch(a.TERM_PROGRAM){case"iTerm.app":return e>=3?3:2;case"Apple_Terminal":return 2}}if(/-256(color)?$/i.test(a.TERM)){return 2}if(/^screen|^xterm|^vt100|^vt220|^rxvt|color|ansi|cygwin|linux/i.test(a.TERM)){return 1}if("COLORTERM"in a){return 1}if(a.TERM==="dumb"){return t}return t}function getSupportLevel(e){const t=supportsColor(e);return translateLevel(t)}e.exports={supportsColor:getSupportLevel,stdout:getSupportLevel(process.stdout),stderr:getSupportLevel(process.stderr)}},418:e=>{e.exports=function(e,t){if(!t)t={};var r=t.hsep===undefined?"  ":t.hsep;var n=t.align||[];var o=t.stringLength||function(e){return String(e).length};var a=reduce(e,(function(e,t){forEach(t,(function(t,r){var n=dotindex(t);if(!e[r]||n>e[r])e[r]=n}));return e}),[]);var s=map(e,(function(e){return map(e,(function(e,t){var r=String(e);if(n[t]==="."){var s=dotindex(r);var i=a[t]+(/\./.test(r)?1:2)-(o(r)-s);return r+Array(i).join(" ")}else return r}))}));var i=reduce(s,(function(e,t){forEach(t,(function(t,r){var n=o(t);if(!e[r]||n>e[r])e[r]=n}));return e}),[]);return map(s,(function(e){return map(e,(function(e,t){var r=i[t]-o(e)||0;var a=Array(Math.max(r+1,1)).join(" ");if(n[t]==="r"||n[t]==="."){return a+e}if(n[t]==="c"){return Array(Math.ceil(r/2+1)).join(" ")+e+Array(Math.floor(r/2+1)).join(" ")}return e+a})).join(r).replace(/\s+$/,"")})).join("\n")};function dotindex(e){var t=/\.[^.]*$/.exec(e);return t?t.index+1:e.length}function reduce(e,t,r){if(e.reduce)return e.reduce(t,r);var n=0;var o=arguments.length>=3?r:e[n++];for(;n<e.length;n++){t(o,e[n],n)}return o}function forEach(e,t){if(e.forEach)return e.forEach(t);for(var r=0;r<e.length;r++){t.call(e,e[r],r)}}function map(e,t){if(e.map)return e.map(t);var r=[];for(var n=0;n<e.length;n++){r.push(t.call(e,e[n],n))}return r}},1452:function(e,t){(function(e,r){true?r(t):0})(this,(function(e){"use strict";const t=typeof Symbol==="function"&&typeof Symbol.iterator==="symbol"?Symbol:e=>`Symbol(${e})`;function noop(){return undefined}function getGlobals(){if(typeof self!=="undefined"){return self}else if(typeof window!=="undefined"){return window}else if(typeof global!=="undefined"){return global}return undefined}const r=getGlobals();function typeIsObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}const n=noop;const o=Promise;const a=Promise.prototype.then;const s=Promise.resolve.bind(o);const i=Promise.reject.bind(o);function newPromise(e){return new o(e)}function promiseResolvedWith(e){return s(e)}function promiseRejectedWith(e){return i(e)}function PerformPromiseThen(e,t,r){return a.call(e,t,r)}function uponPromise(e,t,r){PerformPromiseThen(PerformPromiseThen(e,t,r),undefined,n)}function uponFulfillment(e,t){uponPromise(e,t)}function uponRejection(e,t){uponPromise(e,undefined,t)}function transformPromiseWith(e,t,r){return PerformPromiseThen(e,t,r)}function setPromiseIsHandledToTrue(e){PerformPromiseThen(e,undefined,n)}const l=(()=>{const e=r&&r.queueMicrotask;if(typeof e==="function"){return e}const t=promiseResolvedWith(undefined);return e=>PerformPromiseThen(t,e)})();function reflectCall(e,t,r){if(typeof e!=="function"){throw new TypeError("Argument is not a function")}return Function.prototype.apply.call(e,t,r)}function promiseCall(e,t,r){try{return promiseResolvedWith(reflectCall(e,t,r))}catch(e){return promiseRejectedWith(e)}}const u=16384;class SimpleQueue{constructor(){this._cursor=0;this._size=0;this._front={_elements:[],_next:undefined};this._back=this._front;this._cursor=0;this._size=0}get length(){return this._size}push(e){const t=this._back;let r=t;if(t._elements.length===u-1){r={_elements:[],_next:undefined}}t._elements.push(e);if(r!==t){this._back=r;t._next=r}++this._size}shift(){const e=this._front;let t=e;const r=this._cursor;let n=r+1;const o=e._elements;const a=o[r];if(n===u){t=e._next;n=0}--this._size;this._cursor=n;if(e!==t){this._front=t}o[r]=undefined;return a}forEach(e){let t=this._cursor;let r=this._front;let n=r._elements;while(t!==n.length||r._next!==undefined){if(t===n.length){r=r._next;n=r._elements;t=0;if(n.length===0){break}}e(n[t]);++t}}peek(){const e=this._front;const t=this._cursor;return e._elements[t]}}function ReadableStreamReaderGenericInitialize(e,t){e._ownerReadableStream=t;t._reader=e;if(t._state==="readable"){defaultReaderClosedPromiseInitialize(e)}else if(t._state==="closed"){defaultReaderClosedPromiseInitializeAsResolved(e)}else{defaultReaderClosedPromiseInitializeAsRejected(e,t._storedError)}}function ReadableStreamReaderGenericCancel(e,t){const r=e._ownerReadableStream;return ReadableStreamCancel(r,t)}function ReadableStreamReaderGenericRelease(e){if(e._ownerReadableStream._state==="readable"){defaultReaderClosedPromiseReject(e,new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`))}else{defaultReaderClosedPromiseResetToRejected(e,new TypeError(`Reader was released and can no longer be used to monitor the stream's closedness`))}e._ownerReadableStream._reader=undefined;e._ownerReadableStream=undefined}function readerLockException(e){return new TypeError("Cannot "+e+" a stream using a released reader")}function defaultReaderClosedPromiseInitialize(e){e._closedPromise=newPromise(((t,r)=>{e._closedPromise_resolve=t;e._closedPromise_reject=r}))}function defaultReaderClosedPromiseInitializeAsRejected(e,t){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseReject(e,t)}function defaultReaderClosedPromiseInitializeAsResolved(e){defaultReaderClosedPromiseInitialize(e);defaultReaderClosedPromiseResolve(e)}function defaultReaderClosedPromiseReject(e,t){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}function defaultReaderClosedPromiseResetToRejected(e,t){defaultReaderClosedPromiseInitializeAsRejected(e,t)}function defaultReaderClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined}const c=t("[[AbortSteps]]");const f=t("[[ErrorSteps]]");const d=t("[[CancelSteps]]");const h=t("[[PullSteps]]");const p=Number.isFinite||function(e){return typeof e==="number"&&isFinite(e)};const m=Math.trunc||function(e){return e<0?Math.ceil(e):Math.floor(e)};function isDictionary(e){return typeof e==="object"||typeof e==="function"}function assertDictionary(e,t){if(e!==undefined&&!isDictionary(e)){throw new TypeError(`${t} is not an object.`)}}function assertFunction(e,t){if(typeof e!=="function"){throw new TypeError(`${t} is not a function.`)}}function isObject(e){return typeof e==="object"&&e!==null||typeof e==="function"}function assertObject(e,t){if(!isObject(e)){throw new TypeError(`${t} is not an object.`)}}function assertRequiredArgument(e,t,r){if(e===undefined){throw new TypeError(`Parameter ${t} is required in '${r}'.`)}}function assertRequiredField(e,t,r){if(e===undefined){throw new TypeError(`${t} is required in '${r}'.`)}}function convertUnrestrictedDouble(e){return Number(e)}function censorNegativeZero(e){return e===0?0:e}function integerPart(e){return censorNegativeZero(m(e))}function convertUnsignedLongLongWithEnforceRange(e,t){const r=0;const n=Number.MAX_SAFE_INTEGER;let o=Number(e);o=censorNegativeZero(o);if(!p(o)){throw new TypeError(`${t} is not a finite number`)}o=integerPart(o);if(o<r||o>n){throw new TypeError(`${t} is outside the accepted range of ${r} to ${n}, inclusive`)}if(!p(o)||o===0){return 0}return o}function assertReadableStream(e,t){if(!IsReadableStream(e)){throw new TypeError(`${t} is not a ReadableStream.`)}}function AcquireReadableStreamDefaultReader(e){return new ReadableStreamDefaultReader(e)}function ReadableStreamAddReadRequest(e,t){e._reader._readRequests.push(t)}function ReadableStreamFulfillReadRequest(e,t,r){const n=e._reader;const o=n._readRequests.shift();if(r){o._closeSteps()}else{o._chunkSteps(t)}}function ReadableStreamGetNumReadRequests(e){return e._reader._readRequests.length}function ReadableStreamHasDefaultReader(e){const t=e._reader;if(t===undefined){return false}if(!IsReadableStreamDefaultReader(t)){return false}return true}class ReadableStreamDefaultReader{constructor(e){assertRequiredArgument(e,1,"ReadableStreamDefaultReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}ReadableStreamReaderGenericInitialize(this,e);this._readRequests=new SimpleQueue}get closed(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("closed"))}return this._closedPromise}cancel(e=undefined){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)}read(){if(!IsReadableStreamDefaultReader(this)){return promiseRejectedWith(defaultReaderBrandCheckException("read"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}let e;let t;const r=newPromise(((r,n)=>{e=r;t=n}));const n={_chunkSteps:t=>e({value:t,done:false}),_closeSteps:()=>e({value:undefined,done:true}),_errorSteps:e=>t(e)};ReadableStreamDefaultReaderRead(this,n);return r}releaseLock(){if(!IsReadableStreamDefaultReader(this)){throw defaultReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)}}Object.defineProperties(ReadableStreamDefaultReader.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamDefaultReader.prototype,t.toStringTag,{value:"ReadableStreamDefaultReader",configurable:true})}function IsReadableStreamDefaultReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readRequests")){return false}return e instanceof ReadableStreamDefaultReader}function ReadableStreamDefaultReaderRead(e,t){const r=e._ownerReadableStream;r._disturbed=true;if(r._state==="closed"){t._closeSteps()}else if(r._state==="errored"){t._errorSteps(r._storedError)}else{r._readableStreamController[h](t)}}function defaultReaderBrandCheckException(e){return new TypeError(`ReadableStreamDefaultReader.prototype.${e} can only be used on a ReadableStreamDefaultReader`)}const b=Object.getPrototypeOf(Object.getPrototypeOf((async function*(){})).prototype);class ReadableStreamAsyncIteratorImpl{constructor(e,t){this._ongoingPromise=undefined;this._isFinished=false;this._reader=e;this._preventCancel=t}next(){const nextSteps=()=>this._nextSteps();this._ongoingPromise=this._ongoingPromise?transformPromiseWith(this._ongoingPromise,nextSteps,nextSteps):nextSteps();return this._ongoingPromise}return(e){const returnSteps=()=>this._returnSteps(e);return this._ongoingPromise?transformPromiseWith(this._ongoingPromise,returnSteps,returnSteps):returnSteps()}_nextSteps(){if(this._isFinished){return Promise.resolve({value:undefined,done:true})}const e=this._reader;if(e._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("iterate"))}let t;let r;const n=newPromise(((e,n)=>{t=e;r=n}));const o={_chunkSteps:e=>{this._ongoingPromise=undefined;l((()=>t({value:e,done:false})))},_closeSteps:()=>{this._ongoingPromise=undefined;this._isFinished=true;ReadableStreamReaderGenericRelease(e);t({value:undefined,done:true})},_errorSteps:t=>{this._ongoingPromise=undefined;this._isFinished=true;ReadableStreamReaderGenericRelease(e);r(t)}};ReadableStreamDefaultReaderRead(e,o);return n}_returnSteps(e){if(this._isFinished){return Promise.resolve({value:e,done:true})}this._isFinished=true;const t=this._reader;if(t._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("finish iterating"))}if(!this._preventCancel){const r=ReadableStreamReaderGenericCancel(t,e);ReadableStreamReaderGenericRelease(t);return transformPromiseWith(r,(()=>({value:e,done:true})))}ReadableStreamReaderGenericRelease(t);return promiseResolvedWith({value:e,done:true})}}const g={next(){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("next"))}return this._asyncIteratorImpl.next()},return(e){if(!IsReadableStreamAsyncIterator(this)){return promiseRejectedWith(streamAsyncIteratorBrandCheckException("return"))}return this._asyncIteratorImpl.return(e)}};if(b!==undefined){Object.setPrototypeOf(g,b)}function AcquireReadableStreamAsyncIterator(e,t){const r=AcquireReadableStreamDefaultReader(e);const n=new ReadableStreamAsyncIteratorImpl(r,t);const o=Object.create(g);o._asyncIteratorImpl=n;return o}function IsReadableStreamAsyncIterator(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_asyncIteratorImpl")){return false}try{return e._asyncIteratorImpl instanceof ReadableStreamAsyncIteratorImpl}catch(e){return false}}function streamAsyncIteratorBrandCheckException(e){return new TypeError(`ReadableStreamAsyncIterator.${e} can only be used on a ReadableSteamAsyncIterator`)}const y=Number.isNaN||function(e){return e!==e};function CreateArrayFromList(e){return e.slice()}function CopyDataBlockBytes(e,t,r,n,o){new Uint8Array(e).set(new Uint8Array(r,n,o),t)}function TransferArrayBuffer(e){return e}function IsDetachedBuffer(e){return false}function ArrayBufferSlice(e,t,r){if(e.slice){return e.slice(t,r)}const n=r-t;const o=new ArrayBuffer(n);CopyDataBlockBytes(o,0,e,t,n);return o}function IsNonNegativeNumber(e){if(typeof e!=="number"){return false}if(y(e)){return false}if(e<0){return false}return true}function CloneAsUint8Array(e){const t=ArrayBufferSlice(e.buffer,e.byteOffset,e.byteOffset+e.byteLength);return new Uint8Array(t)}function DequeueValue(e){const t=e._queue.shift();e._queueTotalSize-=t.size;if(e._queueTotalSize<0){e._queueTotalSize=0}return t.value}function EnqueueValueWithSize(e,t,r){if(!IsNonNegativeNumber(r)||r===Infinity){throw new RangeError("Size must be a finite, non-NaN, non-negative number.")}e._queue.push({value:t,size:r});e._queueTotalSize+=r}function PeekQueueValue(e){const t=e._queue.peek();return t.value}function ResetQueue(e){e._queue=new SimpleQueue;e._queueTotalSize=0}class ReadableStreamBYOBRequest{constructor(){throw new TypeError("Illegal constructor")}get view(){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("view")}return this._view}respond(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respond")}assertRequiredArgument(e,1,"respond");e=convertUnsignedLongLongWithEnforceRange(e,"First parameter");if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(IsDetachedBuffer(this._view.buffer));ReadableByteStreamControllerRespond(this._associatedReadableByteStreamController,e)}respondWithNewView(e){if(!IsReadableStreamBYOBRequest(this)){throw byobRequestBrandCheckException("respondWithNewView")}assertRequiredArgument(e,1,"respondWithNewView");if(!ArrayBuffer.isView(e)){throw new TypeError("You can only respond with array buffer views")}if(this._associatedReadableByteStreamController===undefined){throw new TypeError("This BYOB request has been invalidated")}if(IsDetachedBuffer(e.buffer));ReadableByteStreamControllerRespondWithNewView(this._associatedReadableByteStreamController,e)}}Object.defineProperties(ReadableStreamBYOBRequest.prototype,{respond:{enumerable:true},respondWithNewView:{enumerable:true},view:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamBYOBRequest.prototype,t.toStringTag,{value:"ReadableStreamBYOBRequest",configurable:true})}class ReadableByteStreamController{constructor(){throw new TypeError("Illegal constructor")}get byobRequest(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("byobRequest")}return ReadableByteStreamControllerGetBYOBRequest(this)}get desiredSize(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("desiredSize")}return ReadableByteStreamControllerGetDesiredSize(this)}close(){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("close")}if(this._closeRequested){throw new TypeError("The stream has already been closed; do not close it again!")}const e=this._controlledReadableByteStream._state;if(e!=="readable"){throw new TypeError(`The stream (in ${e} state) is not in the readable state and cannot be closed`)}ReadableByteStreamControllerClose(this)}enqueue(e){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("enqueue")}assertRequiredArgument(e,1,"enqueue");if(!ArrayBuffer.isView(e)){throw new TypeError("chunk must be an array buffer view")}if(e.byteLength===0){throw new TypeError("chunk must have non-zero byteLength")}if(e.buffer.byteLength===0){throw new TypeError(`chunk's buffer must have non-zero byteLength`)}if(this._closeRequested){throw new TypeError("stream is closed or draining")}const t=this._controlledReadableByteStream._state;if(t!=="readable"){throw new TypeError(`The stream (in ${t} state) is not in the readable state and cannot be enqueued to`)}ReadableByteStreamControllerEnqueue(this,e)}error(e=undefined){if(!IsReadableByteStreamController(this)){throw byteStreamControllerBrandCheckException("error")}ReadableByteStreamControllerError(this,e)}[d](e){ReadableByteStreamControllerClearPendingPullIntos(this);ResetQueue(this);const t=this._cancelAlgorithm(e);ReadableByteStreamControllerClearAlgorithms(this);return t}[h](e){const t=this._controlledReadableByteStream;if(this._queueTotalSize>0){const t=this._queue.shift();this._queueTotalSize-=t.byteLength;ReadableByteStreamControllerHandleQueueDrain(this);const r=new Uint8Array(t.buffer,t.byteOffset,t.byteLength);e._chunkSteps(r);return}const r=this._autoAllocateChunkSize;if(r!==undefined){let t;try{t=new ArrayBuffer(r)}catch(t){e._errorSteps(t);return}const n={buffer:t,bufferByteLength:r,byteOffset:0,byteLength:r,bytesFilled:0,elementSize:1,viewConstructor:Uint8Array,readerType:"default"};this._pendingPullIntos.push(n)}ReadableStreamAddReadRequest(t,e);ReadableByteStreamControllerCallPullIfNeeded(this)}}Object.defineProperties(ReadableByteStreamController.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},byobRequest:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableByteStreamController.prototype,t.toStringTag,{value:"ReadableByteStreamController",configurable:true})}function IsReadableByteStreamController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableByteStream")){return false}return e instanceof ReadableByteStreamController}function IsReadableStreamBYOBRequest(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_associatedReadableByteStreamController")){return false}return e instanceof ReadableStreamBYOBRequest}function ReadableByteStreamControllerCallPullIfNeeded(e){const t=ReadableByteStreamControllerShouldCallPull(e);if(!t){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;const r=e._pullAlgorithm();uponPromise(r,(()=>{e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableByteStreamControllerCallPullIfNeeded(e)}}),(t=>{ReadableByteStreamControllerError(e,t)}))}function ReadableByteStreamControllerClearPendingPullIntos(e){ReadableByteStreamControllerInvalidateBYOBRequest(e);e._pendingPullIntos=new SimpleQueue}function ReadableByteStreamControllerCommitPullIntoDescriptor(e,t){let r=false;if(e._state==="closed"){r=true}const n=ReadableByteStreamControllerConvertPullIntoDescriptor(t);if(t.readerType==="default"){ReadableStreamFulfillReadRequest(e,n,r)}else{ReadableStreamFulfillReadIntoRequest(e,n,r)}}function ReadableByteStreamControllerConvertPullIntoDescriptor(e){const t=e.bytesFilled;const r=e.elementSize;return new e.viewConstructor(e.buffer,e.byteOffset,t/r)}function ReadableByteStreamControllerEnqueueChunkToQueue(e,t,r,n){e._queue.push({buffer:t,byteOffset:r,byteLength:n});e._queueTotalSize+=n}function ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,t){const r=t.elementSize;const n=t.bytesFilled-t.bytesFilled%r;const o=Math.min(e._queueTotalSize,t.byteLength-t.bytesFilled);const a=t.bytesFilled+o;const s=a-a%r;let i=o;let l=false;if(s>n){i=s-t.bytesFilled;l=true}const u=e._queue;while(i>0){const r=u.peek();const n=Math.min(i,r.byteLength);const o=t.byteOffset+t.bytesFilled;CopyDataBlockBytes(t.buffer,o,r.buffer,r.byteOffset,n);if(r.byteLength===n){u.shift()}else{r.byteOffset+=n;r.byteLength-=n}e._queueTotalSize-=n;ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,n,t);i-=n}return l}function ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,t,r){r.bytesFilled+=t}function ReadableByteStreamControllerHandleQueueDrain(e){if(e._queueTotalSize===0&&e._closeRequested){ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(e._controlledReadableByteStream)}else{ReadableByteStreamControllerCallPullIfNeeded(e)}}function ReadableByteStreamControllerInvalidateBYOBRequest(e){if(e._byobRequest===null){return}e._byobRequest._associatedReadableByteStreamController=undefined;e._byobRequest._view=null;e._byobRequest=null}function ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e){while(e._pendingPullIntos.length>0){if(e._queueTotalSize===0){return}const t=e._pendingPullIntos.peek();if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,t)){ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,t)}}}function ReadableByteStreamControllerPullInto(e,t,r){const n=e._controlledReadableByteStream;let o=1;if(t.constructor!==DataView){o=t.constructor.BYTES_PER_ELEMENT}const a=t.constructor;const s=TransferArrayBuffer(t.buffer);const i={buffer:s,bufferByteLength:s.byteLength,byteOffset:t.byteOffset,byteLength:t.byteLength,bytesFilled:0,elementSize:o,viewConstructor:a,readerType:"byob"};if(e._pendingPullIntos.length>0){e._pendingPullIntos.push(i);ReadableStreamAddReadIntoRequest(n,r);return}if(n._state==="closed"){const e=new a(i.buffer,i.byteOffset,0);r._closeSteps(e);return}if(e._queueTotalSize>0){if(ReadableByteStreamControllerFillPullIntoDescriptorFromQueue(e,i)){const t=ReadableByteStreamControllerConvertPullIntoDescriptor(i);ReadableByteStreamControllerHandleQueueDrain(e);r._chunkSteps(t);return}if(e._closeRequested){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,t);r._errorSteps(t);return}}e._pendingPullIntos.push(i);ReadableStreamAddReadIntoRequest(n,r);ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerRespondInClosedState(e,t){const r=e._controlledReadableByteStream;if(ReadableStreamHasBYOBReader(r)){while(ReadableStreamGetNumReadIntoRequests(r)>0){const t=ReadableByteStreamControllerShiftPendingPullInto(e);ReadableByteStreamControllerCommitPullIntoDescriptor(r,t)}}}function ReadableByteStreamControllerRespondInReadableState(e,t,r){ReadableByteStreamControllerFillHeadPullIntoDescriptor(e,t,r);if(r.bytesFilled<r.elementSize){return}ReadableByteStreamControllerShiftPendingPullInto(e);const n=r.bytesFilled%r.elementSize;if(n>0){const t=r.byteOffset+r.bytesFilled;const o=ArrayBufferSlice(r.buffer,t-n,t);ReadableByteStreamControllerEnqueueChunkToQueue(e,o,0,o.byteLength)}r.bytesFilled-=n;ReadableByteStreamControllerCommitPullIntoDescriptor(e._controlledReadableByteStream,r);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}function ReadableByteStreamControllerRespondInternal(e,t){const r=e._pendingPullIntos.peek();ReadableByteStreamControllerInvalidateBYOBRequest(e);const n=e._controlledReadableByteStream._state;if(n==="closed"){ReadableByteStreamControllerRespondInClosedState(e)}else{ReadableByteStreamControllerRespondInReadableState(e,t,r)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerShiftPendingPullInto(e){const t=e._pendingPullIntos.shift();return t}function ReadableByteStreamControllerShouldCallPull(e){const t=e._controlledReadableByteStream;if(t._state!=="readable"){return false}if(e._closeRequested){return false}if(!e._started){return false}if(ReadableStreamHasDefaultReader(t)&&ReadableStreamGetNumReadRequests(t)>0){return true}if(ReadableStreamHasBYOBReader(t)&&ReadableStreamGetNumReadIntoRequests(t)>0){return true}const r=ReadableByteStreamControllerGetDesiredSize(e);if(r>0){return true}return false}function ReadableByteStreamControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined}function ReadableByteStreamControllerClose(e){const t=e._controlledReadableByteStream;if(e._closeRequested||t._state!=="readable"){return}if(e._queueTotalSize>0){e._closeRequested=true;return}if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(t.bytesFilled>0){const t=new TypeError("Insufficient bytes to fill elements in the given buffer");ReadableByteStreamControllerError(e,t);throw t}}ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamClose(t)}function ReadableByteStreamControllerEnqueue(e,t){const r=e._controlledReadableByteStream;if(e._closeRequested||r._state!=="readable"){return}const n=t.buffer;const o=t.byteOffset;const a=t.byteLength;const s=TransferArrayBuffer(n);if(e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();if(IsDetachedBuffer(t.buffer));t.buffer=TransferArrayBuffer(t.buffer)}ReadableByteStreamControllerInvalidateBYOBRequest(e);if(ReadableStreamHasDefaultReader(r)){if(ReadableStreamGetNumReadRequests(r)===0){ReadableByteStreamControllerEnqueueChunkToQueue(e,s,o,a)}else{const e=new Uint8Array(s,o,a);ReadableStreamFulfillReadRequest(r,e,false)}}else if(ReadableStreamHasBYOBReader(r)){ReadableByteStreamControllerEnqueueChunkToQueue(e,s,o,a);ReadableByteStreamControllerProcessPullIntoDescriptorsUsingQueue(e)}else{ReadableByteStreamControllerEnqueueChunkToQueue(e,s,o,a)}ReadableByteStreamControllerCallPullIfNeeded(e)}function ReadableByteStreamControllerError(e,t){const r=e._controlledReadableByteStream;if(r._state!=="readable"){return}ReadableByteStreamControllerClearPendingPullIntos(e);ResetQueue(e);ReadableByteStreamControllerClearAlgorithms(e);ReadableStreamError(r,t)}function ReadableByteStreamControllerGetBYOBRequest(e){if(e._byobRequest===null&&e._pendingPullIntos.length>0){const t=e._pendingPullIntos.peek();const r=new Uint8Array(t.buffer,t.byteOffset+t.bytesFilled,t.byteLength-t.bytesFilled);const n=Object.create(ReadableStreamBYOBRequest.prototype);SetUpReadableStreamBYOBRequest(n,e,r);e._byobRequest=n}return e._byobRequest}function ReadableByteStreamControllerGetDesiredSize(e){const t=e._controlledReadableByteStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableByteStreamControllerRespond(e,t){const r=e._pendingPullIntos.peek();const n=e._controlledReadableByteStream._state;if(n==="closed"){if(t!==0){throw new TypeError("bytesWritten must be 0 when calling respond() on a closed stream")}}else{if(t===0){throw new TypeError("bytesWritten must be greater than 0 when calling respond() on a readable stream")}if(r.bytesFilled+t>r.byteLength){throw new RangeError("bytesWritten out of range")}}r.buffer=TransferArrayBuffer(r.buffer);ReadableByteStreamControllerRespondInternal(e,t)}function ReadableByteStreamControllerRespondWithNewView(e,t){const r=e._pendingPullIntos.peek();const n=e._controlledReadableByteStream._state;if(n==="closed"){if(t.byteLength!==0){throw new TypeError("The view's length must be 0 when calling respondWithNewView() on a closed stream")}}else{if(t.byteLength===0){throw new TypeError("The view's length must be greater than 0 when calling respondWithNewView() on a readable stream")}}if(r.byteOffset+r.bytesFilled!==t.byteOffset){throw new RangeError("The region specified by view does not match byobRequest")}if(r.bufferByteLength!==t.buffer.byteLength){throw new RangeError("The buffer of view has different capacity than byobRequest")}if(r.bytesFilled+t.byteLength>r.byteLength){throw new RangeError("The region specified by view is larger than byobRequest")}r.buffer=TransferArrayBuffer(t.buffer);ReadableByteStreamControllerRespondInternal(e,t.byteLength)}function SetUpReadableByteStreamController(e,t,r,n,o,a,s){t._controlledReadableByteStream=e;t._pullAgain=false;t._pulling=false;t._byobRequest=null;t._queue=t._queueTotalSize=undefined;ResetQueue(t);t._closeRequested=false;t._started=false;t._strategyHWM=a;t._pullAlgorithm=n;t._cancelAlgorithm=o;t._autoAllocateChunkSize=s;t._pendingPullIntos=new SimpleQueue;e._readableStreamController=t;const i=r();uponPromise(promiseResolvedWith(i),(()=>{t._started=true;ReadableByteStreamControllerCallPullIfNeeded(t)}),(e=>{ReadableByteStreamControllerError(t,e)}))}function SetUpReadableByteStreamControllerFromUnderlyingSource(e,t,r){const n=Object.create(ReadableByteStreamController.prototype);let startAlgorithm=()=>undefined;let pullAlgorithm=()=>promiseResolvedWith(undefined);let cancelAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(n)}if(t.pull!==undefined){pullAlgorithm=()=>t.pull(n)}if(t.cancel!==undefined){cancelAlgorithm=e=>t.cancel(e)}const o=t.autoAllocateChunkSize;if(o===0){throw new TypeError("autoAllocateChunkSize must be greater than 0")}SetUpReadableByteStreamController(e,n,startAlgorithm,pullAlgorithm,cancelAlgorithm,r,o)}function SetUpReadableStreamBYOBRequest(e,t,r){e._associatedReadableByteStreamController=t;e._view=r}function byobRequestBrandCheckException(e){return new TypeError(`ReadableStreamBYOBRequest.prototype.${e} can only be used on a ReadableStreamBYOBRequest`)}function byteStreamControllerBrandCheckException(e){return new TypeError(`ReadableByteStreamController.prototype.${e} can only be used on a ReadableByteStreamController`)}function AcquireReadableStreamBYOBReader(e){return new ReadableStreamBYOBReader(e)}function ReadableStreamAddReadIntoRequest(e,t){e._reader._readIntoRequests.push(t)}function ReadableStreamFulfillReadIntoRequest(e,t,r){const n=e._reader;const o=n._readIntoRequests.shift();if(r){o._closeSteps(t)}else{o._chunkSteps(t)}}function ReadableStreamGetNumReadIntoRequests(e){return e._reader._readIntoRequests.length}function ReadableStreamHasBYOBReader(e){const t=e._reader;if(t===undefined){return false}if(!IsReadableStreamBYOBReader(t)){return false}return true}class ReadableStreamBYOBReader{constructor(e){assertRequiredArgument(e,1,"ReadableStreamBYOBReader");assertReadableStream(e,"First parameter");if(IsReadableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive reading by another reader")}if(!IsReadableByteStreamController(e._readableStreamController)){throw new TypeError("Cannot construct a ReadableStreamBYOBReader for a stream not constructed with a byte "+"source")}ReadableStreamReaderGenericInitialize(this,e);this._readIntoRequests=new SimpleQueue}get closed(){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("closed"))}return this._closedPromise}cancel(e=undefined){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("cancel"))}if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("cancel"))}return ReadableStreamReaderGenericCancel(this,e)}read(e){if(!IsReadableStreamBYOBReader(this)){return promiseRejectedWith(byobReaderBrandCheckException("read"))}if(!ArrayBuffer.isView(e)){return promiseRejectedWith(new TypeError("view must be an array buffer view"))}if(e.byteLength===0){return promiseRejectedWith(new TypeError("view must have non-zero byteLength"))}if(e.buffer.byteLength===0){return promiseRejectedWith(new TypeError(`view's buffer must have non-zero byteLength`))}if(IsDetachedBuffer(e.buffer));if(this._ownerReadableStream===undefined){return promiseRejectedWith(readerLockException("read from"))}let t;let r;const n=newPromise(((e,n)=>{t=e;r=n}));const o={_chunkSteps:e=>t({value:e,done:false}),_closeSteps:e=>t({value:e,done:true}),_errorSteps:e=>r(e)};ReadableStreamBYOBReaderRead(this,e,o);return n}releaseLock(){if(!IsReadableStreamBYOBReader(this)){throw byobReaderBrandCheckException("releaseLock")}if(this._ownerReadableStream===undefined){return}if(this._readIntoRequests.length>0){throw new TypeError("Tried to release a reader lock when that reader has pending read() calls un-settled")}ReadableStreamReaderGenericRelease(this)}}Object.defineProperties(ReadableStreamBYOBReader.prototype,{cancel:{enumerable:true},read:{enumerable:true},releaseLock:{enumerable:true},closed:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamBYOBReader.prototype,t.toStringTag,{value:"ReadableStreamBYOBReader",configurable:true})}function IsReadableStreamBYOBReader(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readIntoRequests")){return false}return e instanceof ReadableStreamBYOBReader}function ReadableStreamBYOBReaderRead(e,t,r){const n=e._ownerReadableStream;n._disturbed=true;if(n._state==="errored"){r._errorSteps(n._storedError)}else{ReadableByteStreamControllerPullInto(n._readableStreamController,t,r)}}function byobReaderBrandCheckException(e){return new TypeError(`ReadableStreamBYOBReader.prototype.${e} can only be used on a ReadableStreamBYOBReader`)}function ExtractHighWaterMark(e,t){const{highWaterMark:r}=e;if(r===undefined){return t}if(y(r)||r<0){throw new RangeError("Invalid highWaterMark")}return r}function ExtractSizeAlgorithm(e){const{size:t}=e;if(!t){return()=>1}return t}function convertQueuingStrategy(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.highWaterMark;const n=e===null||e===void 0?void 0:e.size;return{highWaterMark:r===undefined?undefined:convertUnrestrictedDouble(r),size:n===undefined?undefined:convertQueuingStrategySize(n,`${t} has member 'size' that`)}}function convertQueuingStrategySize(e,t){assertFunction(e,t);return t=>convertUnrestrictedDouble(e(t))}function convertUnderlyingSink(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.abort;const n=e===null||e===void 0?void 0:e.close;const o=e===null||e===void 0?void 0:e.start;const a=e===null||e===void 0?void 0:e.type;const s=e===null||e===void 0?void 0:e.write;return{abort:r===undefined?undefined:convertUnderlyingSinkAbortCallback(r,e,`${t} has member 'abort' that`),close:n===undefined?undefined:convertUnderlyingSinkCloseCallback(n,e,`${t} has member 'close' that`),start:o===undefined?undefined:convertUnderlyingSinkStartCallback(o,e,`${t} has member 'start' that`),write:s===undefined?undefined:convertUnderlyingSinkWriteCallback(s,e,`${t} has member 'write' that`),type:a}}function convertUnderlyingSinkAbortCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSinkCloseCallback(e,t,r){assertFunction(e,r);return()=>promiseCall(e,t,[])}function convertUnderlyingSinkStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertUnderlyingSinkWriteCallback(e,t,r){assertFunction(e,r);return(r,n)=>promiseCall(e,t,[r,n])}function assertWritableStream(e,t){if(!IsWritableStream(e)){throw new TypeError(`${t} is not a WritableStream.`)}}function isAbortSignal(e){if(typeof e!=="object"||e===null){return false}try{return typeof e.aborted==="boolean"}catch(e){return false}}const S=typeof AbortController==="function";function createAbortController(){if(S){return new AbortController}return undefined}class WritableStream{constructor(e={},t={}){if(e===undefined){e=null}else{assertObject(e,"First parameter")}const r=convertQueuingStrategy(t,"Second parameter");const n=convertUnderlyingSink(e,"First parameter");InitializeWritableStream(this);const o=n.type;if(o!==undefined){throw new RangeError("Invalid type is specified")}const a=ExtractSizeAlgorithm(r);const s=ExtractHighWaterMark(r,1);SetUpWritableStreamDefaultControllerFromUnderlyingSink(this,n,s,a)}get locked(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("locked")}return IsWritableStreamLocked(this)}abort(e=undefined){if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("abort"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot abort a stream that already has a writer"))}return WritableStreamAbort(this,e)}close(){if(!IsWritableStream(this)){return promiseRejectedWith(streamBrandCheckException$2("close"))}if(IsWritableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot close a stream that already has a writer"))}if(WritableStreamCloseQueuedOrInFlight(this)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamClose(this)}getWriter(){if(!IsWritableStream(this)){throw streamBrandCheckException$2("getWriter")}return AcquireWritableStreamDefaultWriter(this)}}Object.defineProperties(WritableStream.prototype,{abort:{enumerable:true},close:{enumerable:true},getWriter:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStream.prototype,t.toStringTag,{value:"WritableStream",configurable:true})}function AcquireWritableStreamDefaultWriter(e){return new WritableStreamDefaultWriter(e)}function CreateWritableStream(e,t,r,n,o=1,a=(()=>1)){const s=Object.create(WritableStream.prototype);InitializeWritableStream(s);const i=Object.create(WritableStreamDefaultController.prototype);SetUpWritableStreamDefaultController(s,i,e,t,r,n,o,a);return s}function InitializeWritableStream(e){e._state="writable";e._storedError=undefined;e._writer=undefined;e._writableStreamController=undefined;e._writeRequests=new SimpleQueue;e._inFlightWriteRequest=undefined;e._closeRequest=undefined;e._inFlightCloseRequest=undefined;e._pendingAbortRequest=undefined;e._backpressure=false}function IsWritableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_writableStreamController")){return false}return e instanceof WritableStream}function IsWritableStreamLocked(e){if(e._writer===undefined){return false}return true}function WritableStreamAbort(e,t){var r;if(e._state==="closed"||e._state==="errored"){return promiseResolvedWith(undefined)}e._writableStreamController._abortReason=t;(r=e._writableStreamController._abortController)===null||r===void 0?void 0:r.abort();const n=e._state;if(n==="closed"||n==="errored"){return promiseResolvedWith(undefined)}if(e._pendingAbortRequest!==undefined){return e._pendingAbortRequest._promise}let o=false;if(n==="erroring"){o=true;t=undefined}const a=newPromise(((r,n)=>{e._pendingAbortRequest={_promise:undefined,_resolve:r,_reject:n,_reason:t,_wasAlreadyErroring:o}}));e._pendingAbortRequest._promise=a;if(!o){WritableStreamStartErroring(e,t)}return a}function WritableStreamClose(e){const t=e._state;if(t==="closed"||t==="errored"){return promiseRejectedWith(new TypeError(`The stream (in ${t} state) is not in the writable state and cannot be closed`))}const r=newPromise(((t,r)=>{const n={_resolve:t,_reject:r};e._closeRequest=n}));const n=e._writer;if(n!==undefined&&e._backpressure&&t==="writable"){defaultWriterReadyPromiseResolve(n)}WritableStreamDefaultControllerClose(e._writableStreamController);return r}function WritableStreamAddWriteRequest(e){const t=newPromise(((t,r)=>{const n={_resolve:t,_reject:r};e._writeRequests.push(n)}));return t}function WritableStreamDealWithRejection(e,t){const r=e._state;if(r==="writable"){WritableStreamStartErroring(e,t);return}WritableStreamFinishErroring(e)}function WritableStreamStartErroring(e,t){const r=e._writableStreamController;e._state="erroring";e._storedError=t;const n=e._writer;if(n!==undefined){WritableStreamDefaultWriterEnsureReadyPromiseRejected(n,t)}if(!WritableStreamHasOperationMarkedInFlight(e)&&r._started){WritableStreamFinishErroring(e)}}function WritableStreamFinishErroring(e){e._state="errored";e._writableStreamController[f]();const t=e._storedError;e._writeRequests.forEach((e=>{e._reject(t)}));e._writeRequests=new SimpleQueue;if(e._pendingAbortRequest===undefined){WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}const r=e._pendingAbortRequest;e._pendingAbortRequest=undefined;if(r._wasAlreadyErroring){r._reject(t);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e);return}const n=e._writableStreamController[c](r._reason);uponPromise(n,(()=>{r._resolve();WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}),(t=>{r._reject(t);WritableStreamRejectCloseAndClosedPromiseIfNeeded(e)}))}function WritableStreamFinishInFlightWrite(e){e._inFlightWriteRequest._resolve(undefined);e._inFlightWriteRequest=undefined}function WritableStreamFinishInFlightWriteWithError(e,t){e._inFlightWriteRequest._reject(t);e._inFlightWriteRequest=undefined;WritableStreamDealWithRejection(e,t)}function WritableStreamFinishInFlightClose(e){e._inFlightCloseRequest._resolve(undefined);e._inFlightCloseRequest=undefined;const t=e._state;if(t==="erroring"){e._storedError=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._resolve();e._pendingAbortRequest=undefined}}e._state="closed";const r=e._writer;if(r!==undefined){defaultWriterClosedPromiseResolve(r)}}function WritableStreamFinishInFlightCloseWithError(e,t){e._inFlightCloseRequest._reject(t);e._inFlightCloseRequest=undefined;if(e._pendingAbortRequest!==undefined){e._pendingAbortRequest._reject(t);e._pendingAbortRequest=undefined}WritableStreamDealWithRejection(e,t)}function WritableStreamCloseQueuedOrInFlight(e){if(e._closeRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamHasOperationMarkedInFlight(e){if(e._inFlightWriteRequest===undefined&&e._inFlightCloseRequest===undefined){return false}return true}function WritableStreamMarkCloseRequestInFlight(e){e._inFlightCloseRequest=e._closeRequest;e._closeRequest=undefined}function WritableStreamMarkFirstWriteRequestInFlight(e){e._inFlightWriteRequest=e._writeRequests.shift()}function WritableStreamRejectCloseAndClosedPromiseIfNeeded(e){if(e._closeRequest!==undefined){e._closeRequest._reject(e._storedError);e._closeRequest=undefined}const t=e._writer;if(t!==undefined){defaultWriterClosedPromiseReject(t,e._storedError)}}function WritableStreamUpdateBackpressure(e,t){const r=e._writer;if(r!==undefined&&t!==e._backpressure){if(t){defaultWriterReadyPromiseReset(r)}else{defaultWriterReadyPromiseResolve(r)}}e._backpressure=t}class WritableStreamDefaultWriter{constructor(e){assertRequiredArgument(e,1,"WritableStreamDefaultWriter");assertWritableStream(e,"First parameter");if(IsWritableStreamLocked(e)){throw new TypeError("This stream has already been locked for exclusive writing by another writer")}this._ownerWritableStream=e;e._writer=this;const t=e._state;if(t==="writable"){if(!WritableStreamCloseQueuedOrInFlight(e)&&e._backpressure){defaultWriterReadyPromiseInitialize(this)}else{defaultWriterReadyPromiseInitializeAsResolved(this)}defaultWriterClosedPromiseInitialize(this)}else if(t==="erroring"){defaultWriterReadyPromiseInitializeAsRejected(this,e._storedError);defaultWriterClosedPromiseInitialize(this)}else if(t==="closed"){defaultWriterReadyPromiseInitializeAsResolved(this);defaultWriterClosedPromiseInitializeAsResolved(this)}else{const t=e._storedError;defaultWriterReadyPromiseInitializeAsRejected(this,t);defaultWriterClosedPromiseInitializeAsRejected(this,t)}}get closed(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("closed"))}return this._closedPromise}get desiredSize(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("desiredSize")}if(this._ownerWritableStream===undefined){throw defaultWriterLockException("desiredSize")}return WritableStreamDefaultWriterGetDesiredSize(this)}get ready(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("ready"))}return this._readyPromise}abort(e=undefined){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("abort"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("abort"))}return WritableStreamDefaultWriterAbort(this,e)}close(){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("close"))}const e=this._ownerWritableStream;if(e===undefined){return promiseRejectedWith(defaultWriterLockException("close"))}if(WritableStreamCloseQueuedOrInFlight(e)){return promiseRejectedWith(new TypeError("Cannot close an already-closing stream"))}return WritableStreamDefaultWriterClose(this)}releaseLock(){if(!IsWritableStreamDefaultWriter(this)){throw defaultWriterBrandCheckException("releaseLock")}const e=this._ownerWritableStream;if(e===undefined){return}WritableStreamDefaultWriterRelease(this)}write(e=undefined){if(!IsWritableStreamDefaultWriter(this)){return promiseRejectedWith(defaultWriterBrandCheckException("write"))}if(this._ownerWritableStream===undefined){return promiseRejectedWith(defaultWriterLockException("write to"))}return WritableStreamDefaultWriterWrite(this,e)}}Object.defineProperties(WritableStreamDefaultWriter.prototype,{abort:{enumerable:true},close:{enumerable:true},releaseLock:{enumerable:true},write:{enumerable:true},closed:{enumerable:true},desiredSize:{enumerable:true},ready:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStreamDefaultWriter.prototype,t.toStringTag,{value:"WritableStreamDefaultWriter",configurable:true})}function IsWritableStreamDefaultWriter(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_ownerWritableStream")){return false}return e instanceof WritableStreamDefaultWriter}function WritableStreamDefaultWriterAbort(e,t){const r=e._ownerWritableStream;return WritableStreamAbort(r,t)}function WritableStreamDefaultWriterClose(e){const t=e._ownerWritableStream;return WritableStreamClose(t)}function WritableStreamDefaultWriterCloseWithErrorPropagation(e){const t=e._ownerWritableStream;const r=t._state;if(WritableStreamCloseQueuedOrInFlight(t)||r==="closed"){return promiseResolvedWith(undefined)}if(r==="errored"){return promiseRejectedWith(t._storedError)}return WritableStreamDefaultWriterClose(e)}function WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,t){if(e._closedPromiseState==="pending"){defaultWriterClosedPromiseReject(e,t)}else{defaultWriterClosedPromiseResetToRejected(e,t)}}function WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,t){if(e._readyPromiseState==="pending"){defaultWriterReadyPromiseReject(e,t)}else{defaultWriterReadyPromiseResetToRejected(e,t)}}function WritableStreamDefaultWriterGetDesiredSize(e){const t=e._ownerWritableStream;const r=t._state;if(r==="errored"||r==="erroring"){return null}if(r==="closed"){return 0}return WritableStreamDefaultControllerGetDesiredSize(t._writableStreamController)}function WritableStreamDefaultWriterRelease(e){const t=e._ownerWritableStream;const r=new TypeError(`Writer was released and can no longer be used to monitor the stream's closedness`);WritableStreamDefaultWriterEnsureReadyPromiseRejected(e,r);WritableStreamDefaultWriterEnsureClosedPromiseRejected(e,r);t._writer=undefined;e._ownerWritableStream=undefined}function WritableStreamDefaultWriterWrite(e,t){const r=e._ownerWritableStream;const n=r._writableStreamController;const o=WritableStreamDefaultControllerGetChunkSize(n,t);if(r!==e._ownerWritableStream){return promiseRejectedWith(defaultWriterLockException("write to"))}const a=r._state;if(a==="errored"){return promiseRejectedWith(r._storedError)}if(WritableStreamCloseQueuedOrInFlight(r)||a==="closed"){return promiseRejectedWith(new TypeError("The stream is closing or closed and cannot be written to"))}if(a==="erroring"){return promiseRejectedWith(r._storedError)}const s=WritableStreamAddWriteRequest(r);WritableStreamDefaultControllerWrite(n,t,o);return s}const R={};class WritableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get abortReason(){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("abortReason")}return this._abortReason}get signal(){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("signal")}if(this._abortController===undefined){throw new TypeError("WritableStreamDefaultController.prototype.signal is not supported")}return this._abortController.signal}error(e=undefined){if(!IsWritableStreamDefaultController(this)){throw defaultControllerBrandCheckException$2("error")}const t=this._controlledWritableStream._state;if(t!=="writable"){return}WritableStreamDefaultControllerError(this,e)}[c](e){const t=this._abortAlgorithm(e);WritableStreamDefaultControllerClearAlgorithms(this);return t}[f](){ResetQueue(this)}}Object.defineProperties(WritableStreamDefaultController.prototype,{error:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(WritableStreamDefaultController.prototype,t.toStringTag,{value:"WritableStreamDefaultController",configurable:true})}function IsWritableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledWritableStream")){return false}return e instanceof WritableStreamDefaultController}function SetUpWritableStreamDefaultController(e,t,r,n,o,a,s,i){t._controlledWritableStream=e;e._writableStreamController=t;t._queue=undefined;t._queueTotalSize=undefined;ResetQueue(t);t._abortReason=undefined;t._abortController=createAbortController();t._started=false;t._strategySizeAlgorithm=i;t._strategyHWM=s;t._writeAlgorithm=n;t._closeAlgorithm=o;t._abortAlgorithm=a;const l=WritableStreamDefaultControllerGetBackpressure(t);WritableStreamUpdateBackpressure(e,l);const u=r();const c=promiseResolvedWith(u);uponPromise(c,(()=>{t._started=true;WritableStreamDefaultControllerAdvanceQueueIfNeeded(t)}),(r=>{t._started=true;WritableStreamDealWithRejection(e,r)}))}function SetUpWritableStreamDefaultControllerFromUnderlyingSink(e,t,r,n){const o=Object.create(WritableStreamDefaultController.prototype);let startAlgorithm=()=>undefined;let writeAlgorithm=()=>promiseResolvedWith(undefined);let closeAlgorithm=()=>promiseResolvedWith(undefined);let abortAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(o)}if(t.write!==undefined){writeAlgorithm=e=>t.write(e,o)}if(t.close!==undefined){closeAlgorithm=()=>t.close()}if(t.abort!==undefined){abortAlgorithm=e=>t.abort(e)}SetUpWritableStreamDefaultController(e,o,startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,r,n)}function WritableStreamDefaultControllerClearAlgorithms(e){e._writeAlgorithm=undefined;e._closeAlgorithm=undefined;e._abortAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function WritableStreamDefaultControllerClose(e){EnqueueValueWithSize(e,R,0);WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerGetChunkSize(e,t){try{return e._strategySizeAlgorithm(t)}catch(t){WritableStreamDefaultControllerErrorIfNeeded(e,t);return 1}}function WritableStreamDefaultControllerGetDesiredSize(e){return e._strategyHWM-e._queueTotalSize}function WritableStreamDefaultControllerWrite(e,t,r){try{EnqueueValueWithSize(e,t,r)}catch(t){WritableStreamDefaultControllerErrorIfNeeded(e,t);return}const n=e._controlledWritableStream;if(!WritableStreamCloseQueuedOrInFlight(n)&&n._state==="writable"){const t=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(n,t)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}function WritableStreamDefaultControllerAdvanceQueueIfNeeded(e){const t=e._controlledWritableStream;if(!e._started){return}if(t._inFlightWriteRequest!==undefined){return}const r=t._state;if(r==="erroring"){WritableStreamFinishErroring(t);return}if(e._queue.length===0){return}const n=PeekQueueValue(e);if(n===R){WritableStreamDefaultControllerProcessClose(e)}else{WritableStreamDefaultControllerProcessWrite(e,n)}}function WritableStreamDefaultControllerErrorIfNeeded(e,t){if(e._controlledWritableStream._state==="writable"){WritableStreamDefaultControllerError(e,t)}}function WritableStreamDefaultControllerProcessClose(e){const t=e._controlledWritableStream;WritableStreamMarkCloseRequestInFlight(t);DequeueValue(e);const r=e._closeAlgorithm();WritableStreamDefaultControllerClearAlgorithms(e);uponPromise(r,(()=>{WritableStreamFinishInFlightClose(t)}),(e=>{WritableStreamFinishInFlightCloseWithError(t,e)}))}function WritableStreamDefaultControllerProcessWrite(e,t){const r=e._controlledWritableStream;WritableStreamMarkFirstWriteRequestInFlight(r);const n=e._writeAlgorithm(t);uponPromise(n,(()=>{WritableStreamFinishInFlightWrite(r);const t=r._state;DequeueValue(e);if(!WritableStreamCloseQueuedOrInFlight(r)&&t==="writable"){const t=WritableStreamDefaultControllerGetBackpressure(e);WritableStreamUpdateBackpressure(r,t)}WritableStreamDefaultControllerAdvanceQueueIfNeeded(e)}),(t=>{if(r._state==="writable"){WritableStreamDefaultControllerClearAlgorithms(e)}WritableStreamFinishInFlightWriteWithError(r,t)}))}function WritableStreamDefaultControllerGetBackpressure(e){const t=WritableStreamDefaultControllerGetDesiredSize(e);return t<=0}function WritableStreamDefaultControllerError(e,t){const r=e._controlledWritableStream;WritableStreamDefaultControllerClearAlgorithms(e);WritableStreamStartErroring(r,t)}function streamBrandCheckException$2(e){return new TypeError(`WritableStream.prototype.${e} can only be used on a WritableStream`)}function defaultControllerBrandCheckException$2(e){return new TypeError(`WritableStreamDefaultController.prototype.${e} can only be used on a WritableStreamDefaultController`)}function defaultWriterBrandCheckException(e){return new TypeError(`WritableStreamDefaultWriter.prototype.${e} can only be used on a WritableStreamDefaultWriter`)}function defaultWriterLockException(e){return new TypeError("Cannot "+e+" a stream using a released writer")}function defaultWriterClosedPromiseInitialize(e){e._closedPromise=newPromise(((t,r)=>{e._closedPromise_resolve=t;e._closedPromise_reject=r;e._closedPromiseState="pending"}))}function defaultWriterClosedPromiseInitializeAsRejected(e,t){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseReject(e,t)}function defaultWriterClosedPromiseInitializeAsResolved(e){defaultWriterClosedPromiseInitialize(e);defaultWriterClosedPromiseResolve(e)}function defaultWriterClosedPromiseReject(e,t){if(e._closedPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._closedPromise);e._closedPromise_reject(t);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="rejected"}function defaultWriterClosedPromiseResetToRejected(e,t){defaultWriterClosedPromiseInitializeAsRejected(e,t)}function defaultWriterClosedPromiseResolve(e){if(e._closedPromise_resolve===undefined){return}e._closedPromise_resolve(undefined);e._closedPromise_resolve=undefined;e._closedPromise_reject=undefined;e._closedPromiseState="resolved"}function defaultWriterReadyPromiseInitialize(e){e._readyPromise=newPromise(((t,r)=>{e._readyPromise_resolve=t;e._readyPromise_reject=r}));e._readyPromiseState="pending"}function defaultWriterReadyPromiseInitializeAsRejected(e,t){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseReject(e,t)}function defaultWriterReadyPromiseInitializeAsResolved(e){defaultWriterReadyPromiseInitialize(e);defaultWriterReadyPromiseResolve(e)}function defaultWriterReadyPromiseReject(e,t){if(e._readyPromise_reject===undefined){return}setPromiseIsHandledToTrue(e._readyPromise);e._readyPromise_reject(t);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="rejected"}function defaultWriterReadyPromiseReset(e){defaultWriterReadyPromiseInitialize(e)}function defaultWriterReadyPromiseResetToRejected(e,t){defaultWriterReadyPromiseInitializeAsRejected(e,t)}function defaultWriterReadyPromiseResolve(e){if(e._readyPromise_resolve===undefined){return}e._readyPromise_resolve(undefined);e._readyPromise_resolve=undefined;e._readyPromise_reject=undefined;e._readyPromiseState="fulfilled"}const _=typeof DOMException!=="undefined"?DOMException:undefined;function isDOMExceptionConstructor(e){if(!(typeof e==="function"||typeof e==="object")){return false}try{new e;return true}catch(e){return false}}function createDOMExceptionPolyfill(){const e=function DOMException(e,t){this.message=e||"";this.name=t||"Error";if(Error.captureStackTrace){Error.captureStackTrace(this,this.constructor)}};e.prototype=Object.create(Error.prototype);Object.defineProperty(e.prototype,"constructor",{value:e,writable:true,configurable:true});return e}const C=isDOMExceptionConstructor(_)?_:createDOMExceptionPolyfill();function ReadableStreamPipeTo(e,t,r,n,o,a){const s=AcquireReadableStreamDefaultReader(e);const i=AcquireWritableStreamDefaultWriter(t);e._disturbed=true;let l=false;let u=promiseResolvedWith(undefined);return newPromise(((c,f)=>{let d;if(a!==undefined){d=()=>{const r=new C("Aborted","AbortError");const a=[];if(!n){a.push((()=>{if(t._state==="writable"){return WritableStreamAbort(t,r)}return promiseResolvedWith(undefined)}))}if(!o){a.push((()=>{if(e._state==="readable"){return ReadableStreamCancel(e,r)}return promiseResolvedWith(undefined)}))}shutdownWithAction((()=>Promise.all(a.map((e=>e())))),true,r)};if(a.aborted){d();return}a.addEventListener("abort",d)}function pipeLoop(){return newPromise(((e,t)=>{function next(r){if(r){e()}else{PerformPromiseThen(pipeStep(),next,t)}}next(false)}))}function pipeStep(){if(l){return promiseResolvedWith(true)}return PerformPromiseThen(i._readyPromise,(()=>newPromise(((e,t)=>{ReadableStreamDefaultReaderRead(s,{_chunkSteps:t=>{u=PerformPromiseThen(WritableStreamDefaultWriterWrite(i,t),undefined,noop);e(false)},_closeSteps:()=>e(true),_errorSteps:t})}))))}isOrBecomesErrored(e,s._closedPromise,(e=>{if(!n){shutdownWithAction((()=>WritableStreamAbort(t,e)),true,e)}else{shutdown(true,e)}}));isOrBecomesErrored(t,i._closedPromise,(t=>{if(!o){shutdownWithAction((()=>ReadableStreamCancel(e,t)),true,t)}else{shutdown(true,t)}}));isOrBecomesClosed(e,s._closedPromise,(()=>{if(!r){shutdownWithAction((()=>WritableStreamDefaultWriterCloseWithErrorPropagation(i)))}else{shutdown()}}));if(WritableStreamCloseQueuedOrInFlight(t)||t._state==="closed"){const t=new TypeError("the destination writable stream closed before all data could be piped to it");if(!o){shutdownWithAction((()=>ReadableStreamCancel(e,t)),true,t)}else{shutdown(true,t)}}setPromiseIsHandledToTrue(pipeLoop());function waitForWritesToFinish(){const e=u;return PerformPromiseThen(u,(()=>e!==u?waitForWritesToFinish():undefined))}function isOrBecomesErrored(e,t,r){if(e._state==="errored"){r(e._storedError)}else{uponRejection(t,r)}}function isOrBecomesClosed(e,t,r){if(e._state==="closed"){r()}else{uponFulfillment(t,r)}}function shutdownWithAction(e,r,n){if(l){return}l=true;if(t._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(t)){uponFulfillment(waitForWritesToFinish(),doTheRest)}else{doTheRest()}function doTheRest(){uponPromise(e(),(()=>finalize(r,n)),(e=>finalize(true,e)))}}function shutdown(e,r){if(l){return}l=true;if(t._state==="writable"&&!WritableStreamCloseQueuedOrInFlight(t)){uponFulfillment(waitForWritesToFinish(),(()=>finalize(e,r)))}else{finalize(e,r)}}function finalize(e,t){WritableStreamDefaultWriterRelease(i);ReadableStreamReaderGenericRelease(s);if(a!==undefined){a.removeEventListener("abort",d)}if(e){f(t)}else{c(undefined)}}}))}class ReadableStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("desiredSize")}return ReadableStreamDefaultControllerGetDesiredSize(this)}close(){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("close")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits close")}ReadableStreamDefaultControllerClose(this)}enqueue(e=undefined){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("enqueue")}if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(this)){throw new TypeError("The stream is not in a state that permits enqueue")}return ReadableStreamDefaultControllerEnqueue(this,e)}error(e=undefined){if(!IsReadableStreamDefaultController(this)){throw defaultControllerBrandCheckException$1("error")}ReadableStreamDefaultControllerError(this,e)}[d](e){ResetQueue(this);const t=this._cancelAlgorithm(e);ReadableStreamDefaultControllerClearAlgorithms(this);return t}[h](e){const t=this._controlledReadableStream;if(this._queue.length>0){const r=DequeueValue(this);if(this._closeRequested&&this._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(this);ReadableStreamClose(t)}else{ReadableStreamDefaultControllerCallPullIfNeeded(this)}e._chunkSteps(r)}else{ReadableStreamAddReadRequest(t,e);ReadableStreamDefaultControllerCallPullIfNeeded(this)}}}Object.defineProperties(ReadableStreamDefaultController.prototype,{close:{enumerable:true},enqueue:{enumerable:true},error:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStreamDefaultController.prototype,t.toStringTag,{value:"ReadableStreamDefaultController",configurable:true})}function IsReadableStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledReadableStream")){return false}return e instanceof ReadableStreamDefaultController}function ReadableStreamDefaultControllerCallPullIfNeeded(e){const t=ReadableStreamDefaultControllerShouldCallPull(e);if(!t){return}if(e._pulling){e._pullAgain=true;return}e._pulling=true;const r=e._pullAlgorithm();uponPromise(r,(()=>{e._pulling=false;if(e._pullAgain){e._pullAgain=false;ReadableStreamDefaultControllerCallPullIfNeeded(e)}}),(t=>{ReadableStreamDefaultControllerError(e,t)}))}function ReadableStreamDefaultControllerShouldCallPull(e){const t=e._controlledReadableStream;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return false}if(!e._started){return false}if(IsReadableStreamLocked(t)&&ReadableStreamGetNumReadRequests(t)>0){return true}const r=ReadableStreamDefaultControllerGetDesiredSize(e);if(r>0){return true}return false}function ReadableStreamDefaultControllerClearAlgorithms(e){e._pullAlgorithm=undefined;e._cancelAlgorithm=undefined;e._strategySizeAlgorithm=undefined}function ReadableStreamDefaultControllerClose(e){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}const t=e._controlledReadableStream;e._closeRequested=true;if(e._queue.length===0){ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamClose(t)}}function ReadableStreamDefaultControllerEnqueue(e,t){if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(e)){return}const r=e._controlledReadableStream;if(IsReadableStreamLocked(r)&&ReadableStreamGetNumReadRequests(r)>0){ReadableStreamFulfillReadRequest(r,t,false)}else{let r;try{r=e._strategySizeAlgorithm(t)}catch(t){ReadableStreamDefaultControllerError(e,t);throw t}try{EnqueueValueWithSize(e,t,r)}catch(t){ReadableStreamDefaultControllerError(e,t);throw t}}ReadableStreamDefaultControllerCallPullIfNeeded(e)}function ReadableStreamDefaultControllerError(e,t){const r=e._controlledReadableStream;if(r._state!=="readable"){return}ResetQueue(e);ReadableStreamDefaultControllerClearAlgorithms(e);ReadableStreamError(r,t)}function ReadableStreamDefaultControllerGetDesiredSize(e){const t=e._controlledReadableStream._state;if(t==="errored"){return null}if(t==="closed"){return 0}return e._strategyHWM-e._queueTotalSize}function ReadableStreamDefaultControllerHasBackpressure(e){if(ReadableStreamDefaultControllerShouldCallPull(e)){return false}return true}function ReadableStreamDefaultControllerCanCloseOrEnqueue(e){const t=e._controlledReadableStream._state;if(!e._closeRequested&&t==="readable"){return true}return false}function SetUpReadableStreamDefaultController(e,t,r,n,o,a,s){t._controlledReadableStream=e;t._queue=undefined;t._queueTotalSize=undefined;ResetQueue(t);t._started=false;t._closeRequested=false;t._pullAgain=false;t._pulling=false;t._strategySizeAlgorithm=s;t._strategyHWM=a;t._pullAlgorithm=n;t._cancelAlgorithm=o;e._readableStreamController=t;const i=r();uponPromise(promiseResolvedWith(i),(()=>{t._started=true;ReadableStreamDefaultControllerCallPullIfNeeded(t)}),(e=>{ReadableStreamDefaultControllerError(t,e)}))}function SetUpReadableStreamDefaultControllerFromUnderlyingSource(e,t,r,n){const o=Object.create(ReadableStreamDefaultController.prototype);let startAlgorithm=()=>undefined;let pullAlgorithm=()=>promiseResolvedWith(undefined);let cancelAlgorithm=()=>promiseResolvedWith(undefined);if(t.start!==undefined){startAlgorithm=()=>t.start(o)}if(t.pull!==undefined){pullAlgorithm=()=>t.pull(o)}if(t.cancel!==undefined){cancelAlgorithm=e=>t.cancel(e)}SetUpReadableStreamDefaultController(e,o,startAlgorithm,pullAlgorithm,cancelAlgorithm,r,n)}function defaultControllerBrandCheckException$1(e){return new TypeError(`ReadableStreamDefaultController.prototype.${e} can only be used on a ReadableStreamDefaultController`)}function ReadableStreamTee(e,t){if(IsReadableByteStreamController(e._readableStreamController)){return ReadableByteStreamTee(e)}return ReadableStreamDefaultTee(e)}function ReadableStreamDefaultTee(e,t){const r=AcquireReadableStreamDefaultReader(e);let n=false;let o=false;let a=false;let s;let i;let u;let c;let f;const d=newPromise((e=>{f=e}));function pullAlgorithm(){if(n){return promiseResolvedWith(undefined)}n=true;const e={_chunkSteps:e=>{l((()=>{n=false;const t=e;const r=e;if(!o){ReadableStreamDefaultControllerEnqueue(u._readableStreamController,t)}if(!a){ReadableStreamDefaultControllerEnqueue(c._readableStreamController,r)}}))},_closeSteps:()=>{n=false;if(!o){ReadableStreamDefaultControllerClose(u._readableStreamController)}if(!a){ReadableStreamDefaultControllerClose(c._readableStreamController)}if(!o||!a){f(undefined)}},_errorSteps:()=>{n=false}};ReadableStreamDefaultReaderRead(r,e);return promiseResolvedWith(undefined)}function cancel1Algorithm(t){o=true;s=t;if(a){const t=CreateArrayFromList([s,i]);const r=ReadableStreamCancel(e,t);f(r)}return d}function cancel2Algorithm(t){a=true;i=t;if(o){const t=CreateArrayFromList([s,i]);const r=ReadableStreamCancel(e,t);f(r)}return d}function startAlgorithm(){}u=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel1Algorithm);c=CreateReadableStream(startAlgorithm,pullAlgorithm,cancel2Algorithm);uponRejection(r._closedPromise,(e=>{ReadableStreamDefaultControllerError(u._readableStreamController,e);ReadableStreamDefaultControllerError(c._readableStreamController,e);if(!o||!a){f(undefined)}}));return[u,c]}function ReadableByteStreamTee(e){let t=AcquireReadableStreamDefaultReader(e);let r=false;let n=false;let o=false;let a;let s;let i;let u;let c;const f=newPromise((e=>{c=e}));function forwardReaderError(e){uponRejection(e._closedPromise,(r=>{if(e!==t){return}ReadableByteStreamControllerError(i._readableStreamController,r);ReadableByteStreamControllerError(u._readableStreamController,r);if(!n||!o){c(undefined)}}))}function pullWithDefaultReader(){if(IsReadableStreamBYOBReader(t)){ReadableStreamReaderGenericRelease(t);t=AcquireReadableStreamDefaultReader(e);forwardReaderError(t)}const a={_chunkSteps:t=>{l((()=>{r=false;const a=t;let s=t;if(!n&&!o){try{s=CloneAsUint8Array(t)}catch(t){ReadableByteStreamControllerError(i._readableStreamController,t);ReadableByteStreamControllerError(u._readableStreamController,t);c(ReadableStreamCancel(e,t));return}}if(!n){ReadableByteStreamControllerEnqueue(i._readableStreamController,a)}if(!o){ReadableByteStreamControllerEnqueue(u._readableStreamController,s)}}))},_closeSteps:()=>{r=false;if(!n){ReadableByteStreamControllerClose(i._readableStreamController)}if(!o){ReadableByteStreamControllerClose(u._readableStreamController)}if(i._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(i._readableStreamController,0)}if(u._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(u._readableStreamController,0)}if(!n||!o){c(undefined)}},_errorSteps:()=>{r=false}};ReadableStreamDefaultReaderRead(t,a)}function pullWithBYOBReader(a,s){if(IsReadableStreamDefaultReader(t)){ReadableStreamReaderGenericRelease(t);t=AcquireReadableStreamBYOBReader(e);forwardReaderError(t)}const f=s?u:i;const d=s?i:u;const h={_chunkSteps:t=>{l((()=>{r=false;const a=s?o:n;const i=s?n:o;if(!i){let r;try{r=CloneAsUint8Array(t)}catch(t){ReadableByteStreamControllerError(f._readableStreamController,t);ReadableByteStreamControllerError(d._readableStreamController,t);c(ReadableStreamCancel(e,t));return}if(!a){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,t)}ReadableByteStreamControllerEnqueue(d._readableStreamController,r)}else if(!a){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,t)}}))},_closeSteps:e=>{r=false;const t=s?o:n;const a=s?n:o;if(!t){ReadableByteStreamControllerClose(f._readableStreamController)}if(!a){ReadableByteStreamControllerClose(d._readableStreamController)}if(e!==undefined){if(!t){ReadableByteStreamControllerRespondWithNewView(f._readableStreamController,e)}if(!a&&d._readableStreamController._pendingPullIntos.length>0){ReadableByteStreamControllerRespond(d._readableStreamController,0)}}if(!t||!a){c(undefined)}},_errorSteps:()=>{r=false}};ReadableStreamBYOBReaderRead(t,a,h)}function pull1Algorithm(){if(r){return promiseResolvedWith(undefined)}r=true;const e=ReadableByteStreamControllerGetBYOBRequest(i._readableStreamController);if(e===null){pullWithDefaultReader()}else{pullWithBYOBReader(e._view,false)}return promiseResolvedWith(undefined)}function pull2Algorithm(){if(r){return promiseResolvedWith(undefined)}r=true;const e=ReadableByteStreamControllerGetBYOBRequest(u._readableStreamController);if(e===null){pullWithDefaultReader()}else{pullWithBYOBReader(e._view,true)}return promiseResolvedWith(undefined)}function cancel1Algorithm(t){n=true;a=t;if(o){const t=CreateArrayFromList([a,s]);const r=ReadableStreamCancel(e,t);c(r)}return f}function cancel2Algorithm(t){o=true;s=t;if(n){const t=CreateArrayFromList([a,s]);const r=ReadableStreamCancel(e,t);c(r)}return f}function startAlgorithm(){return}i=CreateReadableByteStream(startAlgorithm,pull1Algorithm,cancel1Algorithm);u=CreateReadableByteStream(startAlgorithm,pull2Algorithm,cancel2Algorithm);forwardReaderError(t);return[i,u]}function convertUnderlyingDefaultOrByteSource(e,t){assertDictionary(e,t);const r=e;const n=r===null||r===void 0?void 0:r.autoAllocateChunkSize;const o=r===null||r===void 0?void 0:r.cancel;const a=r===null||r===void 0?void 0:r.pull;const s=r===null||r===void 0?void 0:r.start;const i=r===null||r===void 0?void 0:r.type;return{autoAllocateChunkSize:n===undefined?undefined:convertUnsignedLongLongWithEnforceRange(n,`${t} has member 'autoAllocateChunkSize' that`),cancel:o===undefined?undefined:convertUnderlyingSourceCancelCallback(o,r,`${t} has member 'cancel' that`),pull:a===undefined?undefined:convertUnderlyingSourcePullCallback(a,r,`${t} has member 'pull' that`),start:s===undefined?undefined:convertUnderlyingSourceStartCallback(s,r,`${t} has member 'start' that`),type:i===undefined?undefined:convertReadableStreamType(i,`${t} has member 'type' that`)}}function convertUnderlyingSourceCancelCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSourcePullCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertUnderlyingSourceStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertReadableStreamType(e,t){e=`${e}`;if(e!=="bytes"){throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamType`)}return e}function convertReaderOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.mode;return{mode:r===undefined?undefined:convertReadableStreamReaderMode(r,`${t} has member 'mode' that`)}}function convertReadableStreamReaderMode(e,t){e=`${e}`;if(e!=="byob"){throw new TypeError(`${t} '${e}' is not a valid enumeration value for ReadableStreamReaderMode`)}return e}function convertIteratorOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.preventCancel;return{preventCancel:Boolean(r)}}function convertPipeOptions(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.preventAbort;const n=e===null||e===void 0?void 0:e.preventCancel;const o=e===null||e===void 0?void 0:e.preventClose;const a=e===null||e===void 0?void 0:e.signal;if(a!==undefined){assertAbortSignal(a,`${t} has member 'signal' that`)}return{preventAbort:Boolean(r),preventCancel:Boolean(n),preventClose:Boolean(o),signal:a}}function assertAbortSignal(e,t){if(!isAbortSignal(e)){throw new TypeError(`${t} is not an AbortSignal.`)}}function convertReadableWritablePair(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.readable;assertRequiredField(r,"readable","ReadableWritablePair");assertReadableStream(r,`${t} has member 'readable' that`);const n=e===null||e===void 0?void 0:e.writable;assertRequiredField(n,"writable","ReadableWritablePair");assertWritableStream(n,`${t} has member 'writable' that`);return{readable:r,writable:n}}class ReadableStream{constructor(e={},t={}){if(e===undefined){e=null}else{assertObject(e,"First parameter")}const r=convertQueuingStrategy(t,"Second parameter");const n=convertUnderlyingDefaultOrByteSource(e,"First parameter");InitializeReadableStream(this);if(n.type==="bytes"){if(r.size!==undefined){throw new RangeError("The strategy for a byte stream cannot have a size function")}const e=ExtractHighWaterMark(r,0);SetUpReadableByteStreamControllerFromUnderlyingSource(this,n,e)}else{const e=ExtractSizeAlgorithm(r);const t=ExtractHighWaterMark(r,1);SetUpReadableStreamDefaultControllerFromUnderlyingSource(this,n,t,e)}}get locked(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("locked")}return IsReadableStreamLocked(this)}cancel(e=undefined){if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("cancel"))}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("Cannot cancel a stream that already has a reader"))}return ReadableStreamCancel(this,e)}getReader(e=undefined){if(!IsReadableStream(this)){throw streamBrandCheckException$1("getReader")}const t=convertReaderOptions(e,"First parameter");if(t.mode===undefined){return AcquireReadableStreamDefaultReader(this)}return AcquireReadableStreamBYOBReader(this)}pipeThrough(e,t={}){if(!IsReadableStream(this)){throw streamBrandCheckException$1("pipeThrough")}assertRequiredArgument(e,1,"pipeThrough");const r=convertReadableWritablePair(e,"First parameter");const n=convertPipeOptions(t,"Second parameter");if(IsReadableStreamLocked(this)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked ReadableStream")}if(IsWritableStreamLocked(r.writable)){throw new TypeError("ReadableStream.prototype.pipeThrough cannot be used on a locked WritableStream")}const o=ReadableStreamPipeTo(this,r.writable,n.preventClose,n.preventAbort,n.preventCancel,n.signal);setPromiseIsHandledToTrue(o);return r.readable}pipeTo(e,t={}){if(!IsReadableStream(this)){return promiseRejectedWith(streamBrandCheckException$1("pipeTo"))}if(e===undefined){return promiseRejectedWith(`Parameter 1 is required in 'pipeTo'.`)}if(!IsWritableStream(e)){return promiseRejectedWith(new TypeError(`ReadableStream.prototype.pipeTo's first argument must be a WritableStream`))}let r;try{r=convertPipeOptions(t,"Second parameter")}catch(e){return promiseRejectedWith(e)}if(IsReadableStreamLocked(this)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked ReadableStream"))}if(IsWritableStreamLocked(e)){return promiseRejectedWith(new TypeError("ReadableStream.prototype.pipeTo cannot be used on a locked WritableStream"))}return ReadableStreamPipeTo(this,e,r.preventClose,r.preventAbort,r.preventCancel,r.signal)}tee(){if(!IsReadableStream(this)){throw streamBrandCheckException$1("tee")}const e=ReadableStreamTee(this);return CreateArrayFromList(e)}values(e=undefined){if(!IsReadableStream(this)){throw streamBrandCheckException$1("values")}const t=convertIteratorOptions(e,"First parameter");return AcquireReadableStreamAsyncIterator(this,t.preventCancel)}}Object.defineProperties(ReadableStream.prototype,{cancel:{enumerable:true},getReader:{enumerable:true},pipeThrough:{enumerable:true},pipeTo:{enumerable:true},tee:{enumerable:true},values:{enumerable:true},locked:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ReadableStream.prototype,t.toStringTag,{value:"ReadableStream",configurable:true})}if(typeof t.asyncIterator==="symbol"){Object.defineProperty(ReadableStream.prototype,t.asyncIterator,{value:ReadableStream.prototype.values,writable:true,configurable:true})}function CreateReadableStream(e,t,r,n=1,o=(()=>1)){const a=Object.create(ReadableStream.prototype);InitializeReadableStream(a);const s=Object.create(ReadableStreamDefaultController.prototype);SetUpReadableStreamDefaultController(a,s,e,t,r,n,o);return a}function CreateReadableByteStream(e,t,r){const n=Object.create(ReadableStream.prototype);InitializeReadableStream(n);const o=Object.create(ReadableByteStreamController.prototype);SetUpReadableByteStreamController(n,o,e,t,r,0,undefined);return n}function InitializeReadableStream(e){e._state="readable";e._reader=undefined;e._storedError=undefined;e._disturbed=false}function IsReadableStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_readableStreamController")){return false}return e instanceof ReadableStream}function IsReadableStreamLocked(e){if(e._reader===undefined){return false}return true}function ReadableStreamCancel(e,t){e._disturbed=true;if(e._state==="closed"){return promiseResolvedWith(undefined)}if(e._state==="errored"){return promiseRejectedWith(e._storedError)}ReadableStreamClose(e);const r=e._reader;if(r!==undefined&&IsReadableStreamBYOBReader(r)){r._readIntoRequests.forEach((e=>{e._closeSteps(undefined)}));r._readIntoRequests=new SimpleQueue}const n=e._readableStreamController[d](t);return transformPromiseWith(n,noop)}function ReadableStreamClose(e){e._state="closed";const t=e._reader;if(t===undefined){return}defaultReaderClosedPromiseResolve(t);if(IsReadableStreamDefaultReader(t)){t._readRequests.forEach((e=>{e._closeSteps()}));t._readRequests=new SimpleQueue}}function ReadableStreamError(e,t){e._state="errored";e._storedError=t;const r=e._reader;if(r===undefined){return}defaultReaderClosedPromiseReject(r,t);if(IsReadableStreamDefaultReader(r)){r._readRequests.forEach((e=>{e._errorSteps(t)}));r._readRequests=new SimpleQueue}else{r._readIntoRequests.forEach((e=>{e._errorSteps(t)}));r._readIntoRequests=new SimpleQueue}}function streamBrandCheckException$1(e){return new TypeError(`ReadableStream.prototype.${e} can only be used on a ReadableStream`)}function convertQueuingStrategyInit(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.highWaterMark;assertRequiredField(r,"highWaterMark","QueuingStrategyInit");return{highWaterMark:convertUnrestrictedDouble(r)}}const byteLengthSizeFunction=e=>e.byteLength;Object.defineProperty(byteLengthSizeFunction,"name",{value:"size",configurable:true});class ByteLengthQueuingStrategy{constructor(e){assertRequiredArgument(e,1,"ByteLengthQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._byteLengthQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("highWaterMark")}return this._byteLengthQueuingStrategyHighWaterMark}get size(){if(!IsByteLengthQueuingStrategy(this)){throw byteLengthBrandCheckException("size")}return byteLengthSizeFunction}}Object.defineProperties(ByteLengthQueuingStrategy.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(ByteLengthQueuingStrategy.prototype,t.toStringTag,{value:"ByteLengthQueuingStrategy",configurable:true})}function byteLengthBrandCheckException(e){return new TypeError(`ByteLengthQueuingStrategy.prototype.${e} can only be used on a ByteLengthQueuingStrategy`)}function IsByteLengthQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_byteLengthQueuingStrategyHighWaterMark")){return false}return e instanceof ByteLengthQueuingStrategy}const countSizeFunction=()=>1;Object.defineProperty(countSizeFunction,"name",{value:"size",configurable:true});class CountQueuingStrategy{constructor(e){assertRequiredArgument(e,1,"CountQueuingStrategy");e=convertQueuingStrategyInit(e,"First parameter");this._countQueuingStrategyHighWaterMark=e.highWaterMark}get highWaterMark(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("highWaterMark")}return this._countQueuingStrategyHighWaterMark}get size(){if(!IsCountQueuingStrategy(this)){throw countBrandCheckException("size")}return countSizeFunction}}Object.defineProperties(CountQueuingStrategy.prototype,{highWaterMark:{enumerable:true},size:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(CountQueuingStrategy.prototype,t.toStringTag,{value:"CountQueuingStrategy",configurable:true})}function countBrandCheckException(e){return new TypeError(`CountQueuingStrategy.prototype.${e} can only be used on a CountQueuingStrategy`)}function IsCountQueuingStrategy(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_countQueuingStrategyHighWaterMark")){return false}return e instanceof CountQueuingStrategy}function convertTransformer(e,t){assertDictionary(e,t);const r=e===null||e===void 0?void 0:e.flush;const n=e===null||e===void 0?void 0:e.readableType;const o=e===null||e===void 0?void 0:e.start;const a=e===null||e===void 0?void 0:e.transform;const s=e===null||e===void 0?void 0:e.writableType;return{flush:r===undefined?undefined:convertTransformerFlushCallback(r,e,`${t} has member 'flush' that`),readableType:n,start:o===undefined?undefined:convertTransformerStartCallback(o,e,`${t} has member 'start' that`),transform:a===undefined?undefined:convertTransformerTransformCallback(a,e,`${t} has member 'transform' that`),writableType:s}}function convertTransformerFlushCallback(e,t,r){assertFunction(e,r);return r=>promiseCall(e,t,[r])}function convertTransformerStartCallback(e,t,r){assertFunction(e,r);return r=>reflectCall(e,t,[r])}function convertTransformerTransformCallback(e,t,r){assertFunction(e,r);return(r,n)=>promiseCall(e,t,[r,n])}class TransformStream{constructor(e={},t={},r={}){if(e===undefined){e=null}const n=convertQueuingStrategy(t,"Second parameter");const o=convertQueuingStrategy(r,"Third parameter");const a=convertTransformer(e,"First parameter");if(a.readableType!==undefined){throw new RangeError("Invalid readableType specified")}if(a.writableType!==undefined){throw new RangeError("Invalid writableType specified")}const s=ExtractHighWaterMark(o,0);const i=ExtractSizeAlgorithm(o);const l=ExtractHighWaterMark(n,1);const u=ExtractSizeAlgorithm(n);let c;const f=newPromise((e=>{c=e}));InitializeTransformStream(this,f,l,u,s,i);SetUpTransformStreamDefaultControllerFromTransformer(this,a);if(a.start!==undefined){c(a.start(this._transformStreamController))}else{c(undefined)}}get readable(){if(!IsTransformStream(this)){throw streamBrandCheckException("readable")}return this._readable}get writable(){if(!IsTransformStream(this)){throw streamBrandCheckException("writable")}return this._writable}}Object.defineProperties(TransformStream.prototype,{readable:{enumerable:true},writable:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(TransformStream.prototype,t.toStringTag,{value:"TransformStream",configurable:true})}function InitializeTransformStream(e,t,r,n,o,a){function startAlgorithm(){return t}function writeAlgorithm(t){return TransformStreamDefaultSinkWriteAlgorithm(e,t)}function abortAlgorithm(t){return TransformStreamDefaultSinkAbortAlgorithm(e,t)}function closeAlgorithm(){return TransformStreamDefaultSinkCloseAlgorithm(e)}e._writable=CreateWritableStream(startAlgorithm,writeAlgorithm,closeAlgorithm,abortAlgorithm,r,n);function pullAlgorithm(){return TransformStreamDefaultSourcePullAlgorithm(e)}function cancelAlgorithm(t){TransformStreamErrorWritableAndUnblockWrite(e,t);return promiseResolvedWith(undefined)}e._readable=CreateReadableStream(startAlgorithm,pullAlgorithm,cancelAlgorithm,o,a);e._backpressure=undefined;e._backpressureChangePromise=undefined;e._backpressureChangePromise_resolve=undefined;TransformStreamSetBackpressure(e,true);e._transformStreamController=undefined}function IsTransformStream(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_transformStreamController")){return false}return e instanceof TransformStream}function TransformStreamError(e,t){ReadableStreamDefaultControllerError(e._readable._readableStreamController,t);TransformStreamErrorWritableAndUnblockWrite(e,t)}function TransformStreamErrorWritableAndUnblockWrite(e,t){TransformStreamDefaultControllerClearAlgorithms(e._transformStreamController);WritableStreamDefaultControllerErrorIfNeeded(e._writable._writableStreamController,t);if(e._backpressure){TransformStreamSetBackpressure(e,false)}}function TransformStreamSetBackpressure(e,t){if(e._backpressureChangePromise!==undefined){e._backpressureChangePromise_resolve()}e._backpressureChangePromise=newPromise((t=>{e._backpressureChangePromise_resolve=t}));e._backpressure=t}class TransformStreamDefaultController{constructor(){throw new TypeError("Illegal constructor")}get desiredSize(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("desiredSize")}const e=this._controlledTransformStream._readable._readableStreamController;return ReadableStreamDefaultControllerGetDesiredSize(e)}enqueue(e=undefined){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("enqueue")}TransformStreamDefaultControllerEnqueue(this,e)}error(e=undefined){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("error")}TransformStreamDefaultControllerError(this,e)}terminate(){if(!IsTransformStreamDefaultController(this)){throw defaultControllerBrandCheckException("terminate")}TransformStreamDefaultControllerTerminate(this)}}Object.defineProperties(TransformStreamDefaultController.prototype,{enqueue:{enumerable:true},error:{enumerable:true},terminate:{enumerable:true},desiredSize:{enumerable:true}});if(typeof t.toStringTag==="symbol"){Object.defineProperty(TransformStreamDefaultController.prototype,t.toStringTag,{value:"TransformStreamDefaultController",configurable:true})}function IsTransformStreamDefaultController(e){if(!typeIsObject(e)){return false}if(!Object.prototype.hasOwnProperty.call(e,"_controlledTransformStream")){return false}return e instanceof TransformStreamDefaultController}function SetUpTransformStreamDefaultController(e,t,r,n){t._controlledTransformStream=e;e._transformStreamController=t;t._transformAlgorithm=r;t._flushAlgorithm=n}function SetUpTransformStreamDefaultControllerFromTransformer(e,t){const r=Object.create(TransformStreamDefaultController.prototype);let transformAlgorithm=e=>{try{TransformStreamDefaultControllerEnqueue(r,e);return promiseResolvedWith(undefined)}catch(e){return promiseRejectedWith(e)}};let flushAlgorithm=()=>promiseResolvedWith(undefined);if(t.transform!==undefined){transformAlgorithm=e=>t.transform(e,r)}if(t.flush!==undefined){flushAlgorithm=()=>t.flush(r)}SetUpTransformStreamDefaultController(e,r,transformAlgorithm,flushAlgorithm)}function TransformStreamDefaultControllerClearAlgorithms(e){e._transformAlgorithm=undefined;e._flushAlgorithm=undefined}function TransformStreamDefaultControllerEnqueue(e,t){const r=e._controlledTransformStream;const n=r._readable._readableStreamController;if(!ReadableStreamDefaultControllerCanCloseOrEnqueue(n)){throw new TypeError("Readable side is not in a state that permits enqueue")}try{ReadableStreamDefaultControllerEnqueue(n,t)}catch(e){TransformStreamErrorWritableAndUnblockWrite(r,e);throw r._readable._storedError}const o=ReadableStreamDefaultControllerHasBackpressure(n);if(o!==r._backpressure){TransformStreamSetBackpressure(r,true)}}function TransformStreamDefaultControllerError(e,t){TransformStreamError(e._controlledTransformStream,t)}function TransformStreamDefaultControllerPerformTransform(e,t){const r=e._transformAlgorithm(t);return transformPromiseWith(r,undefined,(t=>{TransformStreamError(e._controlledTransformStream,t);throw t}))}function TransformStreamDefaultControllerTerminate(e){const t=e._controlledTransformStream;const r=t._readable._readableStreamController;ReadableStreamDefaultControllerClose(r);const n=new TypeError("TransformStream terminated");TransformStreamErrorWritableAndUnblockWrite(t,n)}function TransformStreamDefaultSinkWriteAlgorithm(e,t){const r=e._transformStreamController;if(e._backpressure){const n=e._backpressureChangePromise;return transformPromiseWith(n,(()=>{const n=e._writable;const o=n._state;if(o==="erroring"){throw n._storedError}return TransformStreamDefaultControllerPerformTransform(r,t)}))}return TransformStreamDefaultControllerPerformTransform(r,t)}function TransformStreamDefaultSinkAbortAlgorithm(e,t){TransformStreamError(e,t);return promiseResolvedWith(undefined)}function TransformStreamDefaultSinkCloseAlgorithm(e){const t=e._readable;const r=e._transformStreamController;const n=r._flushAlgorithm();TransformStreamDefaultControllerClearAlgorithms(r);return transformPromiseWith(n,(()=>{if(t._state==="errored"){throw t._storedError}ReadableStreamDefaultControllerClose(t._readableStreamController)}),(r=>{TransformStreamError(e,r);throw t._storedError}))}function TransformStreamDefaultSourcePullAlgorithm(e){TransformStreamSetBackpressure(e,false);return e._backpressureChangePromise}function defaultControllerBrandCheckException(e){return new TypeError(`TransformStreamDefaultController.prototype.${e} can only be used on a TransformStreamDefaultController`)}function streamBrandCheckException(e){return new TypeError(`TransformStream.prototype.${e} can only be used on a TransformStream`)}e.ByteLengthQueuingStrategy=ByteLengthQueuingStrategy;e.CountQueuingStrategy=CountQueuingStrategy;e.ReadableByteStreamController=ReadableByteStreamController;e.ReadableStream=ReadableStream;e.ReadableStreamBYOBReader=ReadableStreamBYOBReader;e.ReadableStreamBYOBRequest=ReadableStreamBYOBRequest;e.ReadableStreamDefaultController=ReadableStreamDefaultController;e.ReadableStreamDefaultReader=ReadableStreamDefaultReader;e.TransformStream=TransformStream;e.TransformStreamDefaultController=TransformStreamDefaultController;e.WritableStream=WritableStream;e.WritableStreamDefaultController=WritableStreamDefaultController;e.WritableStreamDefaultWriter=WritableStreamDefaultWriter;Object.defineProperty(e,"__esModule",{value:true})}))},4091:e=>{"use strict";e.exports=function(e){e.prototype[Symbol.iterator]=function*(){for(let e=this.head;e;e=e.next){yield e.value}}}},665:(e,t,r)=>{"use strict";e.exports=Yallist;Yallist.Node=Node;Yallist.create=Yallist;function Yallist(e){var t=this;if(!(t instanceof Yallist)){t=new Yallist}t.tail=null;t.head=null;t.length=0;if(e&&typeof e.forEach==="function"){e.forEach((function(e){t.push(e)}))}else if(arguments.length>0){for(var r=0,n=arguments.length;r<n;r++){t.push(arguments[r])}}return t}Yallist.prototype.removeNode=function(e){if(e.list!==this){throw new Error("removing node which does not belong to this list")}var t=e.next;var r=e.prev;if(t){t.prev=r}if(r){r.next=t}if(e===this.head){this.head=t}if(e===this.tail){this.tail=r}e.list.length--;e.next=null;e.prev=null;e.list=null;return t};Yallist.prototype.unshiftNode=function(e){if(e===this.head){return}if(e.list){e.list.removeNode(e)}var t=this.head;e.list=this;e.next=t;if(t){t.prev=e}this.head=e;if(!this.tail){this.tail=e}this.length++};Yallist.prototype.pushNode=function(e){if(e===this.tail){return}if(e.list){e.list.removeNode(e)}var t=this.tail;e.list=this;e.prev=t;if(t){t.next=e}this.tail=e;if(!this.head){this.head=e}this.length++};Yallist.prototype.push=function(){for(var e=0,t=arguments.length;e<t;e++){push(this,arguments[e])}return this.length};Yallist.prototype.unshift=function(){for(var e=0,t=arguments.length;e<t;e++){unshift(this,arguments[e])}return this.length};Yallist.prototype.pop=function(){if(!this.tail){return undefined}var e=this.tail.value;this.tail=this.tail.prev;if(this.tail){this.tail.next=null}else{this.head=null}this.length--;return e};Yallist.prototype.shift=function(){if(!this.head){return undefined}var e=this.head.value;this.head=this.head.next;if(this.head){this.head.prev=null}else{this.tail=null}this.length--;return e};Yallist.prototype.forEach=function(e,t){t=t||this;for(var r=this.head,n=0;r!==null;n++){e.call(t,r.value,n,this);r=r.next}};Yallist.prototype.forEachReverse=function(e,t){t=t||this;for(var r=this.tail,n=this.length-1;r!==null;n--){e.call(t,r.value,n,this);r=r.prev}};Yallist.prototype.get=function(e){for(var t=0,r=this.head;r!==null&&t<e;t++){r=r.next}if(t===e&&r!==null){return r.value}};Yallist.prototype.getReverse=function(e){for(var t=0,r=this.tail;r!==null&&t<e;t++){r=r.prev}if(t===e&&r!==null){return r.value}};Yallist.prototype.map=function(e,t){t=t||this;var r=new Yallist;for(var n=this.head;n!==null;){r.push(e.call(t,n.value,this));n=n.next}return r};Yallist.prototype.mapReverse=function(e,t){t=t||this;var r=new Yallist;for(var n=this.tail;n!==null;){r.push(e.call(t,n.value,this));n=n.prev}return r};Yallist.prototype.reduce=function(e,t){var r;var n=this.head;if(arguments.length>1){r=t}else if(this.head){n=this.head.next;r=this.head.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var o=0;n!==null;o++){r=e(r,n.value,o);n=n.next}return r};Yallist.prototype.reduceReverse=function(e,t){var r;var n=this.tail;if(arguments.length>1){r=t}else if(this.tail){n=this.tail.prev;r=this.tail.value}else{throw new TypeError("Reduce of empty list with no initial value")}for(var o=this.length-1;n!==null;o--){r=e(r,n.value,o);n=n.prev}return r};Yallist.prototype.toArray=function(){var e=new Array(this.length);for(var t=0,r=this.head;r!==null;t++){e[t]=r.value;r=r.next}return e};Yallist.prototype.toArrayReverse=function(){var e=new Array(this.length);for(var t=0,r=this.tail;r!==null;t++){e[t]=r.value;r=r.prev}return e};Yallist.prototype.slice=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var n=0,o=this.head;o!==null&&n<e;n++){o=o.next}for(;o!==null&&n<t;n++,o=o.next){r.push(o.value)}return r};Yallist.prototype.sliceReverse=function(e,t){t=t||this.length;if(t<0){t+=this.length}e=e||0;if(e<0){e+=this.length}var r=new Yallist;if(t<e||t<0){return r}if(e<0){e=0}if(t>this.length){t=this.length}for(var n=this.length,o=this.tail;o!==null&&n>t;n--){o=o.prev}for(;o!==null&&n>e;n--,o=o.prev){r.push(o.value)}return r};Yallist.prototype.splice=function(e,t,...r){if(e>this.length){e=this.length-1}if(e<0){e=this.length+e}for(var n=0,o=this.head;o!==null&&n<e;n++){o=o.next}var a=[];for(var n=0;o&&n<t;n++){a.push(o.value);o=this.removeNode(o)}if(o===null){o=this.tail}if(o!==this.head&&o!==this.tail){o=o.prev}for(var n=0;n<r.length;n++){o=insert(this,o,r[n])}return a};Yallist.prototype.reverse=function(){var e=this.head;var t=this.tail;for(var r=e;r!==null;r=r.prev){var n=r.prev;r.prev=r.next;r.next=n}this.head=t;this.tail=e;return this};function insert(e,t,r){var n=t===e.head?new Node(r,null,t,e):new Node(r,t,t.next,e);if(n.next===null){e.tail=n}if(n.prev===null){e.head=n}e.length++;return n}function push(e,t){e.tail=new Node(t,e.tail,null,e);if(!e.head){e.head=e.tail}e.length++}function unshift(e,t){e.head=new Node(t,null,e.head,e);if(!e.tail){e.tail=e.head}e.length++}function Node(e,t,r,n){if(!(this instanceof Node)){return new Node(e,t,r,n)}this.list=n;this.value=e;if(t){t.next=this;this.prev=t}else{this.prev=null}if(r){r.prev=this;this.next=r}else{this.next=null}}try{r(4091)(Yallist)}catch(e){}},9081:module=>{module.exports=eval("require")("stream/web")},8010:(e,t,r)=>{const n=65536;if(!globalThis.ReadableStream){try{Object.assign(globalThis,r(9081))}catch(e){Object.assign(globalThis,r(1452))}}try{const{Blob:e}=r(4293);if(e&&!e.prototype.stream){e.prototype.stream=function name(e){let t=0;const r=this;return new ReadableStream({type:"bytes",async pull(e){const o=r.slice(t,Math.min(r.size,t+n));const a=await o.arrayBuffer();t+=a.byteLength;e.enqueue(new Uint8Array(a));if(t===r.size){e.close()}}})}}}catch(e){}},2357:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("assert")},4293:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("buffer")},8614:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("events")},5747:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("fs")},8605:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("http")},7211:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("https")},1631:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("net")},2087:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("os")},5622:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("path")},4016:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("tls")},3867:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("tty")},8835:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("url")},1669:e=>{"use strict";e.exports=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("util")}};var __webpack_module_cache__={};function __nccwpck_require__(e){var t=__webpack_module_cache__[e];if(t!==undefined){return t.exports}var r=__webpack_module_cache__[e]={exports:{}};var n=true;try{__webpack_modules__[e].call(r.exports,r,r.exports,__nccwpck_require__);n=false}finally{if(n)delete __webpack_module_cache__[e]}return r.exports}if(typeof __nccwpck_require__!=="undefined")__nccwpck_require__.ab=new URL(".",import.meta.url).pathname.slice(import.meta.url.match(/^file:\/\/\/\w:/)?1:0,-1)+"/";var __webpack_exports__={};(()=>{"use strict";function ansiRegex({onlyFirst:e=false}={}){const t=["[\\u001B\\u009B][[\\]()#;?]*(?:(?:(?:(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]+)*|[a-zA-Z\\d]+(?:;[-a-zA-Z\\d\\/#&.:=?%@~_]*)*)?\\u0007)","(?:(?:\\d{1,4}(?:;\\d{0,4})*)?[\\dA-PR-TZcf-ntqry=><~]))"].join("|");return new RegExp(t,e?undefined:"g")}const e=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("dns");var t=__nccwpck_require__(8373);var r=__nccwpck_require__(5871);var n=__nccwpck_require__(8605);var o=__nccwpck_require__(7211);const a=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("zlib");const s=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("stream");var i=__nccwpck_require__(2371);var l=__nccwpck_require__(1669);var u=__nccwpck_require__(8010);const c=65536;async function*toIterator(e,t=true){for(let r of e){if("stream"in r){yield*r.stream()}else if(ArrayBuffer.isView(r)){if(t){let e=r.byteOffset;let t=r.byteOffset+r.byteLength;while(e!==t){const n=Math.min(t-e,c);const o=r.buffer.slice(e,e+n);e+=o.byteLength;yield new Uint8Array(o)}}else{yield r}}else{let e=0;while(e!==r.size){const t=r.slice(e,Math.min(r.size,e+c));const n=await t.arrayBuffer();e+=n.byteLength;yield new Uint8Array(n)}}}}const f=class Blob{#parts=[];#type="";#size=0;constructor(e=[],t={}){let r=0;const n=e.map((e=>{let t;if(ArrayBuffer.isView(e)){t=new Uint8Array(e.buffer.slice(e.byteOffset,e.byteOffset+e.byteLength))}else if(e instanceof ArrayBuffer){t=new Uint8Array(e.slice(0))}else if(e instanceof Blob){t=e}else{t=(new TextEncoder).encode(e)}r+=ArrayBuffer.isView(t)?t.byteLength:t.size;return t}));const o=t.type===undefined?"":String(t.type);this.#type=/[^\u0020-\u007E]/.test(o)?"":o;this.#size=r;this.#parts=n}get size(){return this.#size}get type(){return this.#type}async text(){const e=new TextDecoder;let t="";for await(let r of toIterator(this.#parts,false)){t+=e.decode(r,{stream:true})}t+=e.decode();return t}async arrayBuffer(){const e=new Uint8Array(this.size);let t=0;for await(const r of toIterator(this.#parts,false)){e.set(r,t);t+=r.length}return e.buffer}stream(){const e=toIterator(this.#parts,true);return new ReadableStream({type:"bytes",async pull(t){const r=await e.next();r.done?t.close():t.enqueue(r.value)}})}slice(e=0,t=this.size,r=""){const{size:n}=this;let o=e<0?Math.max(n+e,0):Math.min(e,n);let a=t<0?Math.max(n+t,0):Math.min(t,n);const s=Math.max(a-o,0);const i=this.#parts;const l=[];let u=0;for(const e of i){if(u>=s){break}const t=ArrayBuffer.isView(e)?e.byteLength:e.size;if(o&&t<=o){o-=t;a-=t}else{let r;if(ArrayBuffer.isView(e)){r=e.subarray(o,Math.min(t,a));u+=r.byteLength}else{r=e.slice(o,Math.min(t,a));u+=r.size}l.push(r);o=0}}const c=new Blob([],{type:String(r).toLowerCase()});c.#size=s;c.#parts=l;return c}get[Symbol.toStringTag](){return"Blob"}static[Symbol.hasInstance](e){return e&&typeof e==="object"&&typeof e.constructor==="function"&&(typeof e.stream==="function"||typeof e.arrayBuffer==="function")&&/^(Blob|File)$/.test(e[Symbol.toStringTag])}};Object.defineProperties(f.prototype,{size:{enumerable:true},type:{enumerable:true},slice:{enumerable:true}});const d=f;const h=d;class FetchBaseError extends Error{constructor(e,t){super(e);Error.captureStackTrace(this,this.constructor);this.type=t}get name(){return this.constructor.name}get[Symbol.toStringTag](){return this.constructor.name}}class FetchError extends FetchBaseError{constructor(e,t,r){super(e,t);if(r){this.code=this.errno=r.code;this.erroredSysCall=r.syscall}}}const p=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("crypto");const m=Symbol.toStringTag;const isURLSearchParameters=e=>typeof e==="object"&&typeof e.append==="function"&&typeof e.delete==="function"&&typeof e.get==="function"&&typeof e.getAll==="function"&&typeof e.has==="function"&&typeof e.set==="function"&&typeof e.sort==="function"&&e[m]==="URLSearchParams";const isBlob=e=>typeof e==="object"&&typeof e.arrayBuffer==="function"&&typeof e.type==="string"&&typeof e.stream==="function"&&typeof e.constructor==="function"&&/^(Blob|File)$/.test(e[m]);function isFormData(e){return typeof e==="object"&&typeof e.append==="function"&&typeof e.set==="function"&&typeof e.get==="function"&&typeof e.getAll==="function"&&typeof e.delete==="function"&&typeof e.keys==="function"&&typeof e.values==="function"&&typeof e.entries==="function"&&typeof e.constructor==="function"&&e[m]==="FormData"}const isAbortSignal=e=>typeof e==="object"&&(e[m]==="AbortSignal"||e[m]==="EventTarget");const b="\r\n";const g="-".repeat(2);const y=Buffer.byteLength(b);const getFooter=e=>`${g}${e}${g}${b.repeat(2)}`;function getHeader(e,t,r){let n="";n+=`${g}${e}${b}`;n+=`Content-Disposition: form-data; name="${t}"`;if(isBlob(r)){n+=`; filename="${r.name}"${b}`;n+=`Content-Type: ${r.type||"application/octet-stream"}`}return`${n}${b.repeat(2)}`}const getBoundary=()=>(0,p.randomBytes)(8).toString("hex");async function*formDataIterator(e,t){for(const[r,n]of e){yield getHeader(t,r,n);if(isBlob(n)){yield*n.stream()}else{yield n}yield b}yield getFooter(t)}function getFormDataLength(e,t){let r=0;for(const[n,o]of e){r+=Buffer.byteLength(getHeader(t,n,o));r+=isBlob(o)?o.size:Buffer.byteLength(String(o));r+=y}r+=Buffer.byteLength(getFooter(t));return r}const S=Symbol("Body internals");class Body{constructor(e,{size:t=0}={}){let r=null;if(e===null){e=null}else if(isURLSearchParameters(e)){e=Buffer.from(e.toString())}else if(isBlob(e)){}else if(Buffer.isBuffer(e)){}else if(l.types.isAnyArrayBuffer(e)){e=Buffer.from(e)}else if(ArrayBuffer.isView(e)){e=Buffer.from(e.buffer,e.byteOffset,e.byteLength)}else if(e instanceof s){}else if(isFormData(e)){r=`NodeFetchFormDataBoundary${getBoundary()}`;e=s.Readable.from(formDataIterator(e,r))}else{e=Buffer.from(String(e))}this[S]={body:e,boundary:r,disturbed:false,error:null};this.size=t;if(e instanceof s){e.on("error",(e=>{const t=e instanceof FetchBaseError?e:new FetchError(`Invalid response body while trying to fetch ${this.url}: ${e.message}`,"system",e);this[S].error=t}))}}get body(){return this[S].body}get bodyUsed(){return this[S].disturbed}async arrayBuffer(){const{buffer:e,byteOffset:t,byteLength:r}=await consumeBody(this);return e.slice(t,t+r)}async blob(){const e=this.headers&&this.headers.get("content-type")||this[S].body&&this[S].body.type||"";const t=await this.buffer();return new h([t],{type:e})}async json(){const e=await consumeBody(this);return JSON.parse(e.toString())}async text(){const e=await consumeBody(this);return e.toString()}buffer(){return consumeBody(this)}}Object.defineProperties(Body.prototype,{body:{enumerable:true},bodyUsed:{enumerable:true},arrayBuffer:{enumerable:true},blob:{enumerable:true},json:{enumerable:true},text:{enumerable:true}});async function consumeBody(e){if(e[S].disturbed){throw new TypeError(`body used already for: ${e.url}`)}e[S].disturbed=true;if(e[S].error){throw e[S].error}let{body:t}=e;if(t===null){return Buffer.alloc(0)}if(isBlob(t)){t=s.Readable.from(t.stream())}if(Buffer.isBuffer(t)){return t}if(!(t instanceof s)){return Buffer.alloc(0)}const r=[];let n=0;try{for await(const o of t){if(e.size>0&&n+o.length>e.size){const r=new FetchError(`content size at ${e.url} over limit: ${e.size}`,"max-size");t.destroy(r);throw r}n+=o.length;r.push(o)}}catch(t){const r=t instanceof FetchBaseError?t:new FetchError(`Invalid response body while trying to fetch ${e.url}: ${t.message}`,"system",t);throw r}if(t.readableEnded===true||t._readableState.ended===true){try{if(r.every((e=>typeof e==="string"))){return Buffer.from(r.join(""))}return Buffer.concat(r,n)}catch(t){throw new FetchError(`Could not create Buffer from response body for ${e.url}: ${t.message}`,"system",t)}}else{throw new FetchError(`Premature close of server response while trying to fetch ${e.url}`)}}const clone=(e,t)=>{let r;let n;let{body:o}=e;if(e.bodyUsed){throw new Error("cannot clone body after it is used")}if(o instanceof s&&typeof o.getBoundary!=="function"){r=new s.PassThrough({highWaterMark:t});n=new s.PassThrough({highWaterMark:t});o.pipe(r);o.pipe(n);e[S].body=r;o=n}return o};const extractContentType=(e,t)=>{if(e===null){return null}if(typeof e==="string"){return"text/plain;charset=UTF-8"}if(isURLSearchParameters(e)){return"application/x-www-form-urlencoded;charset=UTF-8"}if(isBlob(e)){return e.type||null}if(Buffer.isBuffer(e)||l.types.isAnyArrayBuffer(e)||ArrayBuffer.isView(e)){return null}if(e&&typeof e.getBoundary==="function"){return`multipart/form-data;boundary=${e.getBoundary()}`}if(isFormData(e)){return`multipart/form-data; boundary=${t[S].boundary}`}if(e instanceof s){return null}return"text/plain;charset=UTF-8"};const getTotalBytes=e=>{const{body:t}=e;if(t===null){return 0}if(isBlob(t)){return t.size}if(Buffer.isBuffer(t)){return t.length}if(t&&typeof t.getLengthSync==="function"){return t.hasKnownLength&&t.hasKnownLength()?t.getLengthSync():null}if(isFormData(t)){return getFormDataLength(e[S].boundary)}return null};const writeToStream=(e,{body:t})=>{if(t===null){e.end()}else if(isBlob(t)){s.Readable.from(t.stream()).pipe(e)}else if(Buffer.isBuffer(t)){e.write(t);e.end()}else{t.pipe(e)}};const R=typeof n.validateHeaderName==="function"?n.validateHeaderName:e=>{if(!/^[\^`\-\w!#$%&'*+.|~]+$/.test(e)){const t=new TypeError(`Header name must be a valid HTTP token [${e}]`);Object.defineProperty(t,"code",{value:"ERR_INVALID_HTTP_TOKEN"});throw t}};const _=typeof n.validateHeaderValue==="function"?n.validateHeaderValue:(e,t)=>{if(/[^\t\u0020-\u007E\u0080-\u00FF]/.test(t)){const t=new TypeError(`Invalid character in header content ["${e}"]`);Object.defineProperty(t,"code",{value:"ERR_INVALID_CHAR"});throw t}};class Headers extends URLSearchParams{constructor(e){let t=[];if(e instanceof Headers){const r=e.raw();for(const[e,n]of Object.entries(r)){t.push(...n.map((t=>[e,t])))}}else if(e==null){}else if(typeof e==="object"&&!l.types.isBoxedPrimitive(e)){const r=e[Symbol.iterator];if(r==null){t.push(...Object.entries(e))}else{if(typeof r!=="function"){throw new TypeError("Header pairs must be iterable")}t=[...e].map((e=>{if(typeof e!=="object"||l.types.isBoxedPrimitive(e)){throw new TypeError("Each header pair must be an iterable object")}return[...e]})).map((e=>{if(e.length!==2){throw new TypeError("Each header pair must be a name/value tuple")}return[...e]}))}}else{throw new TypeError("Failed to construct 'Headers': The provided value is not of type '(sequence<sequence<ByteString>> or record<ByteString, ByteString>)")}t=t.length>0?t.map((([e,t])=>{R(e);_(e,String(t));return[String(e).toLowerCase(),String(t)]})):undefined;super(t);return new Proxy(this,{get(e,t,r){switch(t){case"append":case"set":return(r,n)=>{R(r);_(r,String(n));return URLSearchParams.prototype[t].call(e,String(r).toLowerCase(),String(n))};case"delete":case"has":case"getAll":return r=>{R(r);return URLSearchParams.prototype[t].call(e,String(r).toLowerCase())};case"keys":return()=>{e.sort();return new Set(URLSearchParams.prototype.keys.call(e)).keys()};default:return Reflect.get(e,t,r)}}})}get[Symbol.toStringTag](){return this.constructor.name}toString(){return Object.prototype.toString.call(this)}get(e){const t=this.getAll(e);if(t.length===0){return null}let r=t.join(", ");if(/^content-encoding$/i.test(e)){r=r.toLowerCase()}return r}forEach(e,t=undefined){for(const r of this.keys()){Reflect.apply(e,t,[this.get(r),r,this])}}*values(){for(const e of this.keys()){yield this.get(e)}}*entries(){for(const e of this.keys()){yield[e,this.get(e)]}}[Symbol.iterator](){return this.entries()}raw(){return[...this.keys()].reduce(((e,t)=>{e[t]=this.getAll(t);return e}),{})}[Symbol.for("nodejs.util.inspect.custom")](){return[...this.keys()].reduce(((e,t)=>{const r=this.getAll(t);if(t==="host"){e[t]=r[0]}else{e[t]=r.length>1?r:r[0]}return e}),{})}}Object.defineProperties(Headers.prototype,["get","entries","forEach","values"].reduce(((e,t)=>{e[t]={enumerable:true};return e}),{}));function fromRawHeaders(e=[]){return new Headers(e.reduce(((e,t,r,n)=>{if(r%2===0){e.push(n.slice(r,r+2))}return e}),[]).filter((([e,t])=>{try{R(e);_(e,String(t));return true}catch{return false}})))}const C=new Set([301,302,303,307,308]);const isRedirect=e=>C.has(e);const w=Symbol("Response internals");class Response extends Body{constructor(e=null,t={}){super(e,t);const r=t.status!=null?t.status:200;const n=new Headers(t.headers);if(e!==null&&!n.has("Content-Type")){const t=extractContentType(e);if(t){n.append("Content-Type",t)}}this[w]={type:"default",url:t.url,status:r,statusText:t.statusText||"",headers:n,counter:t.counter,highWaterMark:t.highWaterMark}}get type(){return this[w].type}get url(){return this[w].url||""}get status(){return this[w].status}get ok(){return this[w].status>=200&&this[w].status<300}get redirected(){return this[w].counter>0}get statusText(){return this[w].statusText}get headers(){return this[w].headers}get highWaterMark(){return this[w].highWaterMark}clone(){return new Response(clone(this,this.highWaterMark),{type:this.type,url:this.url,status:this.status,statusText:this.statusText,headers:this.headers,ok:this.ok,redirected:this.redirected,size:this.size})}static redirect(e,t=302){if(!isRedirect(t)){throw new RangeError('Failed to execute "redirect" on "response": Invalid status code')}return new Response(null,{headers:{location:new URL(e).toString()},status:t})}static error(){const e=new Response(null,{status:0,statusText:""});e[w].type="error";return e}get[Symbol.toStringTag](){return"Response"}}Object.defineProperties(Response.prototype,{type:{enumerable:true},url:{enumerable:true},status:{enumerable:true},ok:{enumerable:true},redirected:{enumerable:true},statusText:{enumerable:true},headers:{enumerable:true},clone:{enumerable:true}});var v=__nccwpck_require__(8835);const getSearch=e=>{if(e.search){return e.search}const t=e.href.length-1;const r=e.hash||(e.href[t]==="#"?"#":"");return e.href[t-r.length]==="?"?"?":""};const E=Symbol("Request internals");const isRequest=e=>typeof e==="object"&&typeof e[E]==="object";class Request extends Body{constructor(e,t={}){let r;if(isRequest(e)){r=new URL(e.url)}else{r=new URL(e);e={}}let n=t.method||e.method||"GET";n=n.toUpperCase();if((t.body!=null||isRequest(e))&&e.body!==null&&(n==="GET"||n==="HEAD")){throw new TypeError("Request with GET/HEAD method cannot have body")}const o=t.body?t.body:isRequest(e)&&e.body!==null?clone(e):null;super(o,{size:t.size||e.size||0});const a=new Headers(t.headers||e.headers||{});if(o!==null&&!a.has("Content-Type")){const e=extractContentType(o,this);if(e){a.append("Content-Type",e)}}let s=isRequest(e)?e.signal:null;if("signal"in t){s=t.signal}if(s!=null&&!isAbortSignal(s)){throw new TypeError("Expected signal to be an instanceof AbortSignal or EventTarget")}this[E]={method:n,redirect:t.redirect||e.redirect||"follow",headers:a,parsedURL:r,signal:s};this.follow=t.follow===undefined?e.follow===undefined?20:e.follow:t.follow;this.compress=t.compress===undefined?e.compress===undefined?true:e.compress:t.compress;this.counter=t.counter||e.counter||0;this.agent=t.agent||e.agent;this.highWaterMark=t.highWaterMark||e.highWaterMark||16384;this.insecureHTTPParser=t.insecureHTTPParser||e.insecureHTTPParser||false}get method(){return this[E].method}get url(){return(0,v.format)(this[E].parsedURL)}get headers(){return this[E].headers}get redirect(){return this[E].redirect}get signal(){return this[E].signal}clone(){return new Request(this)}get[Symbol.toStringTag](){return"Request"}}Object.defineProperties(Request.prototype,{method:{enumerable:true},url:{enumerable:true},headers:{enumerable:true},redirect:{enumerable:true},clone:{enumerable:true},signal:{enumerable:true}});const getNodeRequestOptions=e=>{const{parsedURL:t}=e[E];const r=new Headers(e[E].headers);if(!r.has("Accept")){r.set("Accept","*/*")}let n=null;if(e.body===null&&/^(post|put)$/i.test(e.method)){n="0"}if(e.body!==null){const t=getTotalBytes(e);if(typeof t==="number"&&!Number.isNaN(t)){n=String(t)}}if(n){r.set("Content-Length",n)}if(!r.has("User-Agent")){r.set("User-Agent","node-fetch")}if(e.compress&&!r.has("Accept-Encoding")){r.set("Accept-Encoding","gzip,deflate,br")}let{agent:o}=e;if(typeof o==="function"){o=o(t)}if(!r.has("Connection")&&!o){r.set("Connection","close")}const a=getSearch(t);const s={path:t.pathname+a,pathname:t.pathname,hostname:t.hostname,protocol:t.protocol,port:t.port,hash:t.hash,search:t.search,query:t.query,href:t.href,method:e.method,headers:r[Symbol.for("nodejs.util.inspect.custom")](),insecureHTTPParser:e.insecureHTTPParser,agent:o};return s};class AbortError extends FetchBaseError{constructor(e,t="aborted"){super(e,t)}}const A=new Set(["data:","http:","https:"]);async function fetch(e,t){return new Promise(((r,l)=>{const u=new Request(e,t);const c=getNodeRequestOptions(u);if(!A.has(c.protocol)){throw new TypeError(`node-fetch cannot load ${e}. URL scheme "${c.protocol.replace(/:$/,"")}" is not supported.`)}if(c.protocol==="data:"){const e=i(u.url);const t=new Response(e,{headers:{"Content-Type":e.typeFull}});r(t);return}const f=(c.protocol==="https:"?o:n).request;const{signal:d}=u;let h=null;const abort=()=>{const e=new AbortError("The operation was aborted.");l(e);if(u.body&&u.body instanceof s.Readable){u.body.destroy(e)}if(!h||!h.body){return}h.body.emit("error",e)};if(d&&d.aborted){abort();return}const abortAndFinalize=()=>{abort();finalize()};const p=f(c);if(d){d.addEventListener("abort",abortAndFinalize)}const finalize=()=>{p.abort();if(d){d.removeEventListener("abort",abortAndFinalize)}};p.on("error",(e=>{l(new FetchError(`request to ${u.url} failed, reason: ${e.message}`,"system",e));finalize()}));fixResponseChunkedTransferBadEnding(p,(e=>{h.body.destroy(e)}));if(process.version<"v14"){p.on("socket",(e=>{let t;e.prependListener("end",(()=>{t=e._eventsCount}));e.prependListener("close",(r=>{if(h&&t<e._eventsCount&&!r){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE";h.body.emit("error",e)}}))}))}p.on("response",(e=>{p.setTimeout(0);const n=fromRawHeaders(e.rawHeaders);if(isRedirect(e.statusCode)){const o=n.get("Location");const a=o===null?null:new URL(o,u.url);switch(u.redirect){case"error":l(new FetchError(`uri requested responds with a redirect, redirect mode is set to error: ${u.url}`,"no-redirect"));finalize();return;case"manual":if(a!==null){n.set("Location",a)}break;case"follow":{if(a===null){break}if(u.counter>=u.follow){l(new FetchError(`maximum redirect reached at: ${u.url}`,"max-redirect"));finalize();return}const n={headers:new Headers(u.headers),follow:u.follow,counter:u.counter+1,agent:u.agent,compress:u.compress,method:u.method,body:u.body,signal:u.signal,size:u.size};if(e.statusCode!==303&&u.body&&t.body instanceof s.Readable){l(new FetchError("Cannot follow redirect with body being a readable stream","unsupported-redirect"));finalize();return}if(e.statusCode===303||(e.statusCode===301||e.statusCode===302)&&u.method==="POST"){n.method="GET";n.body=undefined;n.headers.delete("content-length")}r(fetch(new Request(a,n)));finalize();return}default:return l(new TypeError(`Redirect option '${u.redirect}' is not a valid value of RequestRedirect`))}}if(d){e.once("end",(()=>{d.removeEventListener("abort",abortAndFinalize)}))}let o=(0,s.pipeline)(e,new s.PassThrough,l);if(process.version<"v12.10"){e.on("aborted",abortAndFinalize)}const i={url:u.url,status:e.statusCode,statusText:e.statusMessage,headers:n,size:u.size,counter:u.counter,highWaterMark:u.highWaterMark};const c=n.get("Content-Encoding");if(!u.compress||u.method==="HEAD"||c===null||e.statusCode===204||e.statusCode===304){h=new Response(o,i);r(h);return}const f={flush:a.Z_SYNC_FLUSH,finishFlush:a.Z_SYNC_FLUSH};if(c==="gzip"||c==="x-gzip"){o=(0,s.pipeline)(o,a.createGunzip(f),l);h=new Response(o,i);r(h);return}if(c==="deflate"||c==="x-deflate"){const t=(0,s.pipeline)(e,new s.PassThrough,l);t.once("data",(e=>{o=(e[0]&15)===8?(0,s.pipeline)(o,a.createInflate(),l):(0,s.pipeline)(o,a.createInflateRaw(),l);h=new Response(o,i);r(h)}));return}if(c==="br"){o=(0,s.pipeline)(o,a.createBrotliDecompress(),l);h=new Response(o,i);r(h);return}h=new Response(o,i);r(h)}));writeToStream(p,u)}))}function fixResponseChunkedTransferBadEnding(e,t){const r=Buffer.from("0\r\n\r\n");let n=false;let o=false;let a;e.on("response",(e=>{const{headers:t}=e;n=t["transfer-encoding"]==="chunked"&&!t["content-length"]}));e.on("socket",(s=>{const onSocketClose=()=>{if(n&&!o){const e=new Error("Premature close");e.code="ERR_STREAM_PREMATURE_CLOSE";t(e)}};s.prependListener("close",onSocketClose);e.on("abort",(()=>{s.removeListener("close",onSocketClose)}));s.on("data",(e=>{o=Buffer.compare(e.slice(-5),r)===0;if(!o&&a){o=Buffer.compare(a.slice(-3),r.slice(0,3))===0&&Buffer.compare(e.slice(-2),r.slice(3))===0}a=e}))}))}var T=__nccwpck_require__(2968);var I=__nccwpck_require__(7353);var P=__nccwpck_require__(5418);var W=__nccwpck_require__(1383);var B=__nccwpck_require__(418);const $=__WEBPACK_EXTERNAL_createRequire(import.meta.url)("process");var O=__nccwpck_require__(8869);var k=__nccwpck_require__(5622);var x=__nccwpck_require__(5747);var D=__nccwpck_require__(2087);var j=__nccwpck_require__(4016);$.env.NODE_ENV="production";const L=t(fetch);const F=96;const q="\0";const N=(0,$.cwd)();const z=/^.*?:\/\/(.*?@)?(github\.com[:/])/i;const U=/^([^/]+)\/([^/#]+)?.*?\/([0-9a-f]+|v?[0-9]+\.[0-9]+\.[0-9]+)$/i;const M=/^[0-9a-f]{7,}$/i;const memoize=e=>{const t=Object.create(null);return(r,n)=>r in t?t[r]:t[r]=e(r,n)};const esc=e=>e.replace(/[|\\{}()[\]^$+*?.-]/g,"\\$&");const G=memoize(O.fromUrl);const H=memoize(T);const Y=memoize(P);const Q=memoize((e=>e.endsWith("/")?e.substring(0,e.length-1):e));const V=new Set(["patch"]);const X=new Set(["patch","minor"]);const K=new Set(["patch","minor","major"]);const Z=Object.create(null);const J=Object.create(null);const ee=e.lookup;e.lookup=(e,t,r)=>{if(!r){r=t;t=undefined}if(e in Z){r(...Z[e])}else{if(!(e in J)){J[e]=[r];ee(e,t,((...t)=>{if(!(e in Z))Z[e]=t;for(const r of J[e]){r(...t)}}))}else{J[e].push(r)}}};const te=r($.argv.slice(2),{boolean:["c","color","E","error-on-outdated","U","error-on-unchanged","h","help","j","json","n","no-color","u","update","v","version","V","verbose"],string:["d","allow-downgrade","f","file","g","greatest","G","githubapi","m","minor","P","patch","p","prerelease","R","release","r","registry","t","types"],alias:{c:"color",d:"allow-downgrade",E:"error-on-outdated",U:"error-on-unchanged",e:"exclude",f:"file",g:"greatest",G:"githubapi",h:"help",i:"include",j:"json",m:"minor",n:"no-color",P:"patch",p:"prerelease",r:"registry",R:"release",s:"semver",S:"sockets",t:"types",u:"update",v:"version",V:"verbose"}});const re=te["no-color"]||"NO_COLOR"in process.env||process.env.TERM==="dumb";const ne=te.color||"FORCE_COLOR"in process.env;let oe,ae,se,ie;if(!re||ne){oe=e=>`[35m${e}[0m`;ae=e=>`[31m${e}[0m`;se=e=>`[32m${e}[0m`;ie=e=>`[90m${e}[0m`}else{oe=ae=se=ie=e=>e}if(te.help){$.stdout.write(`usage: updates [options]\n\n  Options:\n    -u, --update                       Update versions and write package.json\n    -p, --prerelease [<pkg,...>]       Consider prerelease versions\n    -R, --release [<pkg,...>]          Only use release versions, may downgrade\n    -g, --greatest [<pkg,...>]         Prefer greatest over latest version\n    -i, --include <pkg,...>            Include only given packages\n    -e, --exclude <pkg,...>            Exclude given packages\n    -t, --types <type,...>             Check only given dependency types\n    -P, --patch [<pkg,...>]            Consider only up to semver-patch\n    -m, --minor [<pkg,...>]            Consider only up to semver-minor\n    -d, --allow-downgrade [<pkg,...>]  Allow version downgrades when using latest version\n    -E, --error-on-outdated            Exit with code 2 when updates are available and 0 when not\n    -U, --error-on-unchanged           Exit with code 0 when updates are available and 2 when not\n    -r, --registry <url>               Override npm registry URL\n    -G, --githubapi <url>              Override Github API URL\n    -f, --file <path>                  Use given package.json file or module directory\n    -S, --sockets <num>                Maximum number of parallel HTTP sockets opened. Default: ${F}\n    -j, --json                         Output a JSON object\n    -c, --color                        Force-enable color output\n    -n, --no-color                     Disable color output\n    -v, --version                      Print the version\n    -V, --verbose                      Print verbose output to stderr\n    -h, --help                         Print this help\n\n  Examples:\n    $ updates\n    $ updates -u\n    $ updates -u -m -e eslint\n    $ updates -u -U && rm -rf node_modules && npm i\n`);(0,$.exit)(0)}if(te.version){const e=__nccwpck_require__.ab+"package.json";const{version:t}=JSON.parse((0,x.readFileSync)(__nccwpck_require__.ab+"package.json","utf8"));console.info(t);(0,$.exit)(0)}if(te["no-color"]){$.env.NO_COLOR="0"}else if(te["color"]||$.stdout.isTTY===undefined){$.env.FORCE_COLOR="1"}const le=parseMixedArg(te.greatest);const ue=parseMixedArg(te.prerelease);const ce=parseMixedArg(te.release);const fe=parseMixedArg(te.patch);const de=parseMixedArg(te.minor);const he=parseMixedArg(te["allow-downgrade"]);const pe={};const me="https://registry.npmjs.org";const be=I("npm",{registry:me});const ge={npmrc:be,recursive:true};const ye=Q(te.registry||be.registry);const Se=te.githubapi?Q(te.githubapi):"https://api.github.com";const Re=typeof te.sockets==="number"?te.sockets:F;const extractCerts=e=>Array.from(e.matchAll(/(----BEGIN CERT[^]+?IFICATE----)/g)).map((e=>e[0]));let _e;const Ce={};const we={};if(be["strict-ssl"]===false){pe.rejectUnauthorized=false}else{if("cafile"in be){pe.ca=j.rootCertificates.concat(extractCerts((0,x.readFileSync)(be.cafile,"utf8")))}if("ca"in be){const e=Array.isArray(be.ca)?be.ca:[be.ca];pe.ca=j.rootCertificates.concat(e.map((e=>extractCerts(e))))}}if(te.file){let e;try{e=(0,x.lstatSync)(te.file)}catch(e){finish(new Error(`Unable to open ${te.file}: ${e.message}`))}if(e&&e.isFile()){_e=te.file}else if(e&&e.isDirectory()){_e=(0,k.join)(te.file,"package.json")}else{finish(new Error(`${te.file} is neither a file nor directory`))}}else{_e=findSync("package.json",N);if(!_e){finish(new Error(`Unable to find package.json in ${N} or any of its parents`))}}let ve;if(te.types){ve=Array.isArray(te.types)?te.types:te.types.split(",")}else{ve=["dependencies","devDependencies","optionalDependencies","peerDependencies","resolutions"]}let Ee,Ae;try{Ae=(0,x.readFileSync)(_e,"utf8")}catch(e){finish(new Error(`Unable to open package.json: ${e.message}`))}try{Ee=JSON.parse(Ae)}catch(e){finish(new Error(`Error parsing package.json: ${e.message}`))}let Te,Ie;if(te.include&&te.include!==true)Te=new Set((Array.isArray(te.include)?te.include:[te.include]).flatMap((e=>e.split(","))));if(te.exclude&&te.exclude!==true)Ie=new Set((Array.isArray(te.exclude)?te.exclude:[te.exclude]).flatMap((e=>e.split(","))));function canInclude(e){if(Ie&&Ie.has(e))return false;if(Te&&!Te.has(e))return false;return true}for(const e of ve){for(const[t,r]of Object.entries(Ee[e]||{})){if(W.validRange(r)&&canInclude(t)){Ce[`${e}${q}${t}`]={old:r}}else if(canInclude(t)){we[`${e}${q}${t}`]={old:r}}}}if(!Object.keys(Ce).length&&!Object.keys(we).length){if(Te||Ie){finish(new Error("No packages match the given filters"))}else{finish(new Error("No packages found"))}}const Pe=[[1e3,1,"ns"],[1e6,1e3,"µs"],[1e9,1e6,"ms"],[6e10,1e9,"sec"],[36e11,6e10,"min"],[864e11,36e11,"hour"],[2592e12,864e11,"day"],[31536e12,2592e12,"month"],[Infinity,31536e12,"year"]];function getAge(e){if(!e)return"";const t=new Date(e).getTime()*1e6;if(Number.isNaN(t))return"";const r=Date.now()*1e6-t;if(r<=0)return"none";let n,o;for(let e=0;e<=Pe.length;e++){const t=Pe[e];const[a,s,i]=t||[];if(t&&a&&r<a){n=Math.round(r/s);o=`${i}${n>1&&!i.endsWith("s")?"s":""}`;break}}return`${n} ${o}`}function findSync(e,t,r){const n=(0,k.join)(t,e);try{(0,x.accessSync)(n);return n}catch{}const o=(0,k.dirname)(t);if(r&&n===r||o===t){return null}else{return findSync(e,o,r)}}function getAuthAndRegistry(e,t){if(!e.startsWith("@")){return[H(t,ge),t]}else{const r=(/@[a-z0-9][\w-.]+/.exec(e)||[])[0];const n=Q(Y(r,be));if(n!==t){try{const e=H(n,ge);if(e&&e.token){return[e,n]}}catch{return[H(t,ge),t]}}else{return[H(t,ge),t]}}}async function fetchInfo(e,t,r){const[n,o]=getAuthAndRegistry(e,r);const a={maxSockets:Re};if(Object.keys(pe).length){a.agentOpts=pe}if(n&&n.token){a.headers={Authorization:`${n.type} ${n.token}`}}const s=t==="resolutions"?resolutionsBasePackage(e):e;const i=s.replace(/\//g,"%2f");const l=`${o}/${i}`;if(te.verbose)console.error(`${oe("fetch")} ${l}`);const u=await L(l,a);if(u&&u.ok){if(te.verbose)console.error(`${se("done")} ${l}`);return[await u.json(),t,o,e]}else{if(u&&u.status&&u.statusText){throw new Error(`Received ${u.status} ${u.statusText} for ${e} from ${o}`)}else{throw new Error(`Unable to fetch ${e} from ${o}`)}}}function getInfoUrl({repository:e,homepage:t},r,n){let o;if(r==="https://npm.pkg.github.com"){return`https://github.com/${n.replace(/^@/,"")}`}else if(e){const t=typeof e==="string"?e:e.url;const r=G(t);if(r&&r.browse){o=r.browse()}if(o&&e.directory&&r.treepath){o=`${o}/${r.treepath}/HEAD/${e.directory}`}if(!o&&e&&e.url&&/^https?:/.test(e.url)){o=e.url}}let a=o||t||"";if(a){const e=new URL(a);if(e.hostname==="github.com"&&e.protocol==="http:"){e.protocol="https:";a=String(e)}}return a}function finish(e,t={}){const r={};const n=e instanceof Error;if(typeof e==="string"){r.message=e}else if(n){r.error=e.stack}for(const e of Object.values(Ce)){if("oldPrint"in e){e.old=e.oldPrint;delete e.oldPrint}if("newPrint"in e){e.new=e.newPrint;delete e.newPrint}}if(te.json){if(!n){r.results={};for(const[e,t]of Object.entries(Ce)){const[n,o]=e.split(q);if(!r.results[n])r.results[n]={};r.results[n][o]=t}}console.info(JSON.stringify(r))}else{if(Object.keys(Ce).length&&!n){console.info(formatDeps(Ce))}if(r.message||r.error){if(r.message){console.info(r.message)}else if(r.error){const e=r.error.split(/\r?\n/);for(const[t,r]of Object.entries(e)){console.info((t==="0"?ae:ie)(r))}}}}L.clearCache();if(te["error-on-outdated"]){(0,$.exit)(Object.keys(Ce).length?2:0)}else if(te["error-on-unchanged"]){(0,$.exit)(Object.keys(Ce).length?0:2)}else{(0,$.exit)(t.exitCode||(r.error?1:0))}}function write(e,t){const r=(0,D.platform)()==="win32";if(r)(0,x.truncateSync)(e,0);(0,x.writeFileSync)(e,t,r?{flag:"r+"}:undefined)}function highlightDiff(e,t,r){const n=e.split(/\./);const o=t.split(/\./);const a=r?se:ae;const s=/^[0-9a-zA-Z-.]+$/;let i="";for(let e=0;e<n.length;e++){if(n[e]!==o[e]){if(s.test(n[e])){i+=a(n.slice(e).join("."))}else{i+=n[e].split("").map((e=>s.test(e)?a(e):e)).join("")+a(`.${n.slice(e+1).join(".")}`)}break}else{i+=`${n[e]}.`}}return i}function formatDeps(){const e=[["NAME","OLD","NEW","AGE","INFO"]];for(const[t,r]of Object.entries(Ce)){const[n,o]=t.split(q);e.push([o,highlightDiff(r.old,r.new,false),highlightDiff(r.new,r.old,true),r.age||"",r.info])}const t=ansiRegex();return B(e,{hsep:"  ",stringLength:e=>e.replace(t,"").length})}function updatePackageJson(){let e=Ae;for(const t of Object.keys(Ce)){const[r,n]=t.split(q);const o=new RegExp(`"${esc(n)}": +"${esc(Ce[t].old)}"`,"g");e=e.replace(o,`"${n}": "${Ce[t].new}"`)}return e}function updateRange(e,t){return e.replace(/[0-9]+\.[0-9]+\.[0-9]+(-.+)?/g,t)}function isVersionPrerelease(e){const t=W.parse(e);if(!t)return false;return Boolean(t.prerelease.length)}function isRangePrerelease(e){return/[0-9]+\.[0-9]+\.[0-9]+-.+/.test(e)}function rangeToVersion(e){try{return W.coerce(e).version}catch{return null}}function findVersion(e,t,{range:r,semvers:n,usePre:o,useRel:a,useGreatest:s}={}){let i=rangeToVersion(r);let l=0;n=new Set(n);o=isRangePrerelease(r)||o;if(o){n.add("prerelease");if(n.has("patch"))n.add("prepatch");if(n.has("minor"))n.add("preminor");if(n.has("major"))n.add("premajor")}for(const r of t){const t=W.parse(r);if(t.prerelease.length&&(!o||a))continue;const u=W.diff(i,t.version);if(!u||!n.has(u))continue;if(s||!("time"in e)){if(W.gte(W.coerce(t.version).version,i)){i=t.version}}else{const n=new Date(e.time[r]).getTime();if(n>=0&&n>l){i=t.version;l=n}}}return i||null}function findNewVersion(e,t){if(t.range==="*")return null;if(t.range.includes("||"))return null;const r=Object.keys(e.versions).filter((e=>W.valid(e)));const n=findVersion(e,r,t);if(t.useGreatest){return n}else{const r=e["dist-tags"].latest;const o=W.coerce(t.range).version;const a=isRangePrerelease(t.range);const s=isVersionPrerelease(n);const i=isVersionPrerelease(r);const l=W.gt(n,o);if(!t.useRel&&t.usePre||a&&s){return n}if(t.useRel&&!l&&a&&!s){return n}if(a&&!s&&l){return n}if(a&&!s&&!l){return null}const u=W.diff(o,r);if(u&&u!=="prerelease"&&!t.semvers.has(u.replace(/^pre/,""))){return n}if(t.useRel&&isVersionPrerelease(r)){return n}if(W.lt(r,o)&&!i){if(he===true||Array.isArray(he)&&he.has(e.name)){return r}else{return null}}return r}}async function checkUrlDep([e,t],{useGreatest:r}={}){const n=t.old.replace(z,"");const[o,a,s,i]=U.exec(n)||[];if(!a||!s||!i)return;if(M.test(i)){const r=await L(`${Se}/repos/${a}/${s}/commits`);if(!r||!r.ok)return;const n=await r.json();let{sha:o,commit:l}=n[0];if(!o||!o.length)return;let u;if(l&&l.committer&&l.committer.date){u=l.committer.date}else if(l&&l.auhor&&l.author.date){u=l.author.date}o=o.substring(0,i.length);if(i!==o){const r=t.old.replace(i,o);return{key:e,newRange:r,user:a,repo:s,oldRef:i,newRef:o,newDate:u}}}else{const t=await L(`${Se}/repos/${a}/${s}/git/refs/tags`);if(!t||!t.ok)return;const n=await t.json();const o=n.map((e=>e.ref.replace(/^refs\/tags\//,"")));const l=i.replace(/^v/,"");if(!W.valid(l))return;if(!r){const t=o[o.length-1];const r=t.replace(/^v/,"");if(!W.valid(r))return;if(W.neq(l,r)){const r=t;const n=t;return{key:e,newRange:r,user:a,repo:s,oldRef:i,newRef:n}}}else{let t=i;let r=i.replace(/^v/,"");for(const e of o){const n=e.replace(/^v/,"");if(!W.valid(n))continue;if(!t||W.gt(n,r)){t=e;r=n}}if(W.neq(l,r)){const r=t;const n=t;return{key:e,newRange:r,user:a,repo:s,oldRef:i,newRef:n}}}}}function resolutionsBasePackage(e){const t=e.match(/(@[^/]+\/)?([^/]+)/g)||[];return t[t.length-1]}function parseMixedArg(e){if(e===undefined){return false}else if(e===""){return true}else if(typeof e==="string"){return e.includes(",")?new Set(e.split(",")):new Set([e])}else if(Array.isArray(e)){return new Set(e)}else{return false}}async function main(){const e=await Promise.all(Object.keys(Ce).map((e=>{const[t,r]=e.split(q);return fetchInfo(r,t,ye)})));for(const[t,r,n,o]of e){if(t&&t.error){throw new Error(t.error)}const e=typeof le==="boolean"?le:le.has(t.name);const a=typeof ue==="boolean"?ue:ue.has(t.name);const s=typeof ce==="boolean"?ce:ce.has(t.name);let i;if(fe===true||Array.isArray(fe)&&fe.has(t.name)){i=V}else if(de===true||Array.isArray(de)&&de.has(t.name)){i=X}else{i=K}const l=`${r}${q}${o}`;const u=Ce[l].old;const c=findNewVersion(t,{usePre:a,useRel:s,useGreatest:e,semvers:i,range:u});const f=updateRange(u,c);if(!c||u===f){delete Ce[l]}else{Ce[l].new=f;Ce[l].info=getInfoUrl(t.versions[c]||t,n,t.name);if(t.time&&t.time[c])Ce[l].age=getAge(t.time[c])}}if(Object.keys(we).length){let e=await Promise.all(Object.entries(we).map((([e,t])=>{const[r,n]=e.split(q);const o=typeof le==="boolean"?le:le.has(n);return checkUrlDep([e,t],{useGreatest:o})})));e=e.filter((e=>!!e));for(const t of e||[]){const{key:e,newRange:r,user:n,repo:o,oldRef:a,newRef:s,newDate:i}=t;Ce[e]={old:we[e].old,new:r,oldPrint:M.test(a)?a.substring(0,7):a,newPrint:M.test(s)?s.substring(0,7):s,info:`https://github.com/${n}/${o}`};if(i)Ce[e].age=getAge(i)}}if(!Object.keys(Ce).length){finish("All packages are up to date.")}if(!te.update){finish()}try{write(_e,updatePackageJson())}catch(e){finish(new Error(`Error writing ${_e}: ${e.message}`))}finish(se(`\n ╭────────────────────────╮\n │  package.json updated  │\n ╰────────────────────────╯`.substring(1)))}main().catch(finish)})();